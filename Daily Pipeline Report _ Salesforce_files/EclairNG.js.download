/*
 * This code is for Internal Salesforce use only, and subject to change without notice.
 * Customers shouldn't reference this file in any web pages.
 */
(function(){function bm(h,l){for(var e=0;e<l.length;e++){var a=l[e];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(h,a.key,a)}}function kc(h,l,e){l&&bm(h.prototype,l);e&&bm(h,e);return h}function Qb(h,l){h.prototype=Object.create(l.prototype);h.prototype.constructor=h;h.__proto__=l}function cj(h){cj=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)};return cj(h)}function hh(h,l){hh=Object.setPrototypeOf||
function(e,a){e.__proto__=a;return e};return hh(h,l)}function yr(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(h){return!1}}function dj(h,l,e){dj=yr()?Reflect.construct:function(a,b,c){var f=[null];f.push.apply(f,b);a=new (Function.bind.apply(a,f));c&&hh(a,c.prototype);return a};return dj.apply(null,arguments)}function ej(h){var l=
"function"===typeof Map?new Map:void 0;ej=function(e){function a(){return dj(e,arguments,cj(this).constructor)}if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof l){if(l.has(e))return l.get(e);l.set(e,a)}a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});return hh(a,e)};return ej(h)}function zr(h,
l){if(h){if("string"===typeof h)return cm(h,l);var e=Object.prototype.toString.call(h).slice(8,-1);"Object"===e&&h.constructor&&(e=h.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return cm(h,l)}}function cm(h,l){if(null==l||l>h.length)l=h.length;for(var e=0,a=Array(l);e<l;e++)a[e]=h[e];return a}function md(h){var l=0;if("undefined"===typeof Symbol||null==h[Symbol.iterator]){if(Array.isArray(h)||(h=zr(h)))return function(){return l>=
h.length?{done:!0}:{done:!1,value:h[l++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}l=h[Symbol.iterator]();return l.next.bind(l)}function da(h){return"undefined"===typeof h}function Id(h){return"number"===typeof h}function ih(h){return"number"===typeof h&&0===h%1}function xc(){try{return"undefined"!==typeof Intl&&Intl.DateTimeFormat}catch(h){return!1}}function Df(){return!da(Intl.DateTimeFormat.prototype.formatToParts)}
function dm(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(h){return!1}}function em(h,l,e){return 0===h.length?void 0:h.reduce(function(a,b){var c=[l(b),b];return a?e(a[0],c[0])===a[0]?a:c:c},null)[1]}function fm(h,l){return l.reduce(function(e,a){e[a]=h[a];return e},{})}function we(h,l){return Object.prototype.hasOwnProperty.call(h,l)}function Uc(h,l,e){return ih(h)&&h>=l&&h<=e}function xe(h,l){void 0===l&&(l=2);var e=0>h?"-":"",a=e?-1*h:h,a=a.toString().length<l?("0".repeat(l)+
a).slice(-l):a.toString();return""+e+a}function kb(h){return da(h)||null===h||""===h?void 0:parseInt(h,10)}function fj(h){if(!da(h)&&!(null===h||""===h))return h=1E3*parseFloat("0."+h),Math.floor(h)}function gj(h,l,e){void 0===e&&(e=!1);l=Math.pow(10,l);return(e?Math.trunc:Math.round)(h*l)/l}function yc(h){return 0===h%4&&(0!==h%100||0===h%400)}function jh(h,l){var e=l-1-12*Math.floor((l-1)/12)+1;return 2===e?yc(h+(l-e)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][e-1]}function ye(h){var l=Date.UTC(h.year,
h.month-1,h.day,h.hour,h.minute,h.second,h.millisecond);100>h.year&&0<=h.year&&(l=new Date(l),l.setUTCFullYear(l.getUTCFullYear()-1900));return+l}function kh(h){var l=h-1,l=(l+Math.floor(l/4)-Math.floor(l/100)+Math.floor(l/400))%7;return 4===(h+Math.floor(h/4)-Math.floor(h/100)+Math.floor(h/400))%7||3===l?53:52}function hj(h){return 99<h?h:60<h?1900+h:2E3+h}function gm(h,l,e,a){void 0===a&&(a=null);h=new Date(h);var b={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};
a&&(b.timeZone=a);l=Object.assign({timeZoneName:l},b);return(a=xc())&&Df()?(e=(new Intl.DateTimeFormat(e,l)).formatToParts(h).find(function(a){return"timezonename"===a.type.toLowerCase()}))?e.value:null:a?(b=(new Intl.DateTimeFormat(e,b)).format(h),(new Intl.DateTimeFormat(e,l)).format(h).substring(b.length).replace(/^[, \u200e]+/,"")):null}function lh(h,l){var e=parseInt(h,10);Number.isNaN(e)&&(e=0);var a=parseInt(l,10)||0,a=0>e||Object.is(e,-0)?-a:a;return 60*e+a}function hm(h){var l=Number(h);
if("boolean"===typeof h||""===h||Number.isNaN(l))throw new Rb("Invalid unit value "+h);return l}function mh(h,l,e){var a={},b;for(b in h)if(we(h,b)&&!(0<=e.indexOf(b))){var c=h[b];void 0===c||null===c||(a[l(b)]=hm(c))}return a}function nh(h,l){var e=Math.trunc(Math.abs(h/60)),a=Math.trunc(Math.abs(h%60)),b=0<=h?"+":"-";switch(l){case "short":return""+b+xe(e,2)+":"+xe(a,2);case "narrow":return""+b+e+(0<a?":"+a:"");case "techie":return""+b+xe(e,2)+xe(a,2);default:throw new RangeError("Value format "+
l+" is out of range for property format");}}function oh(h){return fm(h,["hour","minute","second","millisecond"])}function na(h){return JSON.stringify(h,Object.keys(h).sort())}function im(h){switch(h){case "narrow":return[].concat(Ar);case "short":return[].concat(jm);case "long":return[].concat(Br);case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function km(h){switch(h){case "narrow":return[].concat(Cr);
case "short":return[].concat(lm);case "long":return[].concat(mm);case "numeric":return"1234567".split("");default:return null}}function nm(h){switch(h){case "narrow":return[].concat(Dr);case "short":return[].concat(Er);case "long":return[].concat(Fr);default:return null}}function Gr(h,l,e,a){void 0===e&&(e="always");void 0===a&&(a=!1);var b={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute",
"min."],seconds:["second","sec."]},c=-1===["hours","minutes","seconds"].indexOf(h);if("auto"===e&&c)switch(e="days"===h,l){case 1:return e?"tomorrow":"next "+b[h][0];case -1:return e?"yesterday":"last "+b[h][0];case 0:return e?"today":"this "+b[h][0]}e=Object.is(l,-0)||0>l;l=Math.abs(l);var c=1===l,f=b[h];h=a?c?f[1]:f[2]||f[1]:c?b[h][0]:h;return e?l+" "+h+" ago":"in "+l+" "+h}function Hr(h){h=fm(h,"weekday era year month day hour minute second timeZoneName hour12".split(" "));switch(na(h)){case na(ph):return"M/d/yyyy";
case na(ij):return"LLL d, yyyy";case na(om):return"EEE, LLL d, yyyy";case na(jj):return"LLLL d, yyyy";case na(kj):return"EEEE, LLLL d, yyyy";case na(lj):return"h:mm a";case na(mj):return"h:mm:ss a";case na(nj):return"h:mm a";case na(oj):return"h:mm a";case na(pj):return"HH:mm";case na(qj):return"HH:mm:ss";case na(rj):return"HH:mm";case na(sj):return"HH:mm";case na(tj):return"M/d/yyyy, h:mm a";case na(uj):return"LLL d, yyyy, h:mm a";case na(vj):return"LLLL d, yyyy, h:mm a";case na(wj):return"EEEE, LLLL d, yyyy, h:mm a";
case na(xj):return"M/d/yyyy, h:mm:ss a";case na(yj):return"LLL d, yyyy, h:mm:ss a";case na(pm):return"EEE, d LLL yyyy, h:mm a";case na(zj):return"LLLL d, yyyy, h:mm:ss a";case na(Aj):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return"EEEE, LLLL d, yyyy, h:mm a"}}function qm(h,l){for(var e="",a=md(h),b;!(b=a()).done;)b=b.value,e=b.literal?e+b.val:e+l(b.val);return e}function Jd(h,l){var e;if(da(h)||null===h)return l;if(h instanceof ze)return h;if("string"===typeof h){var a=h.toLowerCase();return"local"===
a?l:"utc"===a||"gmt"===a?Ab.utcInstance:null!=(e=zc.parseGMTOffset(h))?Ab.instance(e):zc.isValidSpecifier(a)?zc.create(h):Ab.parseSpecifier(a)||new Bj(h)}return Id(h)?Ab.instance(h):"object"===typeof h&&h.offset&&"number"===typeof h.offset?h:new Bj(h)}function Cj(h,l){void 0===l&&(l={});var e=JSON.stringify([h,l]),a=Dj[e];a||(a=new Intl.DateTimeFormat(h,l),Dj[e]=a);return a}function Ir(h){for(var l=[],e=1;12>=e;e++){var a=Qa.utc(2016,e,1);l.push(h(a))}return l}function Jr(h){for(var l=[],e=1;7>=e;e++){var a=
Qa.utc(2016,11,13+e);l.push(h(a))}return l}function qh(h,l,e,a,b){h=h.listingMode(e);return"error"===h?null:"en"===h?a(l):b(l)}function Ae(){for(var h=arguments.length,l=Array(h),e=0;e<h;e++)l[e]=arguments[e];h=l.reduce(function(a,b){return a+b.source},"");return RegExp("^"+h+"$")}function Kd(){for(var h=arguments.length,l=Array(h),e=0;e<h;e++)l[e]=arguments[e];return function(a){return l.reduce(function(b,c){var f=b[0],d=b[1],e=c(a,b[2]),k=e[1],h=e[2];return[Object.assign(f,e[0]),d||k,h]},[{},null,
1]).slice(0,2)}}function Be(h){if(null==h)return[null,null];for(var l=arguments.length,e=Array(1<l?l-1:0),a=1;a<l;a++)e[a-1]=arguments[a];for(l=0;l<e.length;l++){var b=e[l],a=b[1];if(b=b[0].exec(h))return a(b)}return[null,null]}function rm(){for(var h=arguments.length,l=Array(h),e=0;e<h;e++)l[e]=arguments[e];return function(a,b){var c={},f;for(f=0;f<l.length;f++)c[l[f]]=kb(a[b+f]);return[c,null,b+f]}}function Ce(h,l,e){h=h[l];return da(h)?e:kb(h)}function sm(h,l){return[{year:Ce(h,l),month:Ce(h,l+
1,1),day:Ce(h,l+2,1)},null,l+3]}function Ld(h,l){return[{hours:Ce(h,l,0),minutes:Ce(h,l+1,0),seconds:Ce(h,l+2,0),milliseconds:fj(h[l+3])},null,l+4]}function De(h,l){var e=!h[l]&&!h[l+1],a=lh(h[l+1],h[l+2]);return[{},e?null:Ab.instance(a),l+3]}function tm(h,l){return[{},h[l]?zc.create(h[l]):null,l+1]}function Kr(h){var l=h[2],e=h[3],a=h[4],b=h[5],c=h[6],f=h[7],d=h[8],g="-"===h[0][0],k=f&&"-"===f[0],m=function(a,c){void 0===c&&(c=!1);return void 0!==a&&(c||a&&g)?-a:a};return[{years:m(kb(h[1])),months:m(kb(l)),
weeks:m(kb(e)),days:m(kb(a)),hours:m(kb(b)),minutes:m(kb(c)),seconds:m(kb(f),"-0"===f),milliseconds:m(fj(d),k)}]}function Ej(h,l,e,a,b,c,f){l={year:2===l.length?hj(kb(l)):kb(l),month:jm.indexOf(e)+1,day:kb(a),hour:kb(b),minute:kb(c)};f&&(l.second=kb(f));h&&(l.weekday=3<h.length?mm.indexOf(h)+1:lm.indexOf(h)+1);return l}function Lr(h){var l=h[8],e=h[9],a=h[10],b=h[11];h=Ej(h[1],h[4],h[3],h[2],h[5],h[6],h[7]);l=l?Mr[l]:e?0:lh(a,b);return[h,new Ab(l)]}function um(h){return[Ej(h[1],h[4],h[3],h[2],h[5],
h[6],h[7]),Ab.utcInstance]}function Nr(h){return[Ej(h[1],h[7],h[2],h[3],h[4],h[5],h[6]),Ab.utcInstance]}function Md(h,l,e){void 0===e&&(e=!1);h={values:e?l.values:Object.assign({},h.values,l.values||{}),loc:h.loc.clone(l.loc),conversionAccuracy:l.conversionAccuracy||h.conversionAccuracy};return new lb(h)}function vm(h,l,e,a,b){h=h[b][e];var c=l[e]/h,c=Math.sign(c)!==Math.sign(a[b])&&0!==a[b]&&1>=Math.abs(c)?0>c?Math.floor(c):Math.ceil(c):Math.trunc(c);a[b]+=c;l[e]-=c*h}function Or(h,l){Pr.reduce(function(e,
a){if(da(l[a]))return e;e&&vm(h,l,e,l,a);return a},null)}function Nd(h){if(Id(h))return lb.fromMillis(h);if(lb.isDuration(h))return h;if("object"===typeof h)return lb.fromObject(h);throw new Rb("Unknown duration argument "+h+" of type "+typeof h);}function wm(h,l){var e=function(a){return a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},e=e(l)-e(h);return Math.floor(lb.fromMillis(e).as("days"))}function Qr(h,l,e){for(var a={},b,c,f=0,d=[["years",function(a,c){return c.year-a.year}],["quarters",
function(a,c){return c.quarter-a.quarter}],["months",function(a,c){return c.month-a.month+12*(c.year-a.year)}],["weeks",function(a,c){var b=wm(a,c);return(b-b%7)/7}],["days",wm]];f<d.length;f++){var g=d[f],k=g[0],g=g[1];if(0<=e.indexOf(k)){var m;b=k;g=g(h,l);c=h.plus((m={},m[k]=g,m));if(c>l){var n;h=h.plus((n={},n[k]=g-1,n));g-=1}else h=c;a[k]=g}}return[h,a,c,b]}function Rr(h,l,e,a){var b=Qr(h,l,e);h=b[0];var c=b[1],f=b[2],d=b[3],b=l-h;e=e.filter(function(a){return 0<=["hours","minutes","seconds",
"milliseconds"].indexOf(a)});if(0===e.length){if(f<l)var g,f=h.plus((g={},g[d]=1,g));f!==h&&(c[d]=(c[d]||0)+b/(f-h))}l=lb.fromObject(Object.assign(c,a));if(0<e.length){var k;return(k=lb.fromMillis(b,a)).shiftTo.apply(k,e).plus(l)}return l}function lc(h,l){var e=h.numberingSystem;void 0===l&&(l="");return RegExp(""+Fj[e||"latn"]+l)}function ga(h,l){void 0===l&&(l=function(e){return e});return{regex:h,deser:function(e){var a=l,b;e=e[0];var c=parseInt(e,10);if(isNaN(c)){for(var c="",f=0;f<e.length;f++){var d=
e.charCodeAt(f);if(-1!==e[f].search(Fj.hanidec))c+=Sr.indexOf(e[f]);else for(b in xm){var g=xm[b],k=g[0],g=g[1];d>=k&&d<=g&&(c+=d-k)}}b=parseInt(c,10)}else b=c;return a(b)}}}function Tr(h){return h.replace(/\./g,"\\.?").replace(Gj,ym)}function mc(h,l){return null===h?null:{regex:RegExp(h.map(Tr).join("|")),deser:function(e){var a=e[0];return h.findIndex(function(b){return a.replace(/\./g,"").replace(Gj," ").toLowerCase()===b.replace(/\./g,"").replace(Gj," ").toLowerCase()})+l}}}function zm(h,l){return{regex:h,
deser:function(e){return lh(e[1],e[2])},groups:l}}function Am(h){return{regex:h,deser:function(h){return h[0]}}}function Ur(h,l){var e=lc(l),a=lc(l,"{2}"),b=lc(l,"{3}"),c=lc(l,"{4}"),f=lc(l,"{6}"),d=lc(l,"{1,2}"),g=lc(l,"{1,3}"),k=lc(l,"{1,6}"),m=lc(l,"{1,9}"),n=lc(l,"{2,4}"),q=lc(l,"{4,6}"),s=function(a){return{regex:RegExp(a.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:function(a){return a[0]},literal:!0}},u=function(u){if(h.literal)return s(u);switch(u.val){case "G":return mc(l.eras("short",
!1),0);case "GG":return mc(l.eras("long",!1),0);case "y":return ga(k);case "yy":return ga(n,hj);case "yyyy":return ga(c);case "yyyyy":return ga(q);case "yyyyyy":return ga(f);case "M":return ga(d);case "MM":return ga(a);case "MMM":return mc(l.months("short",!0,!1),1);case "MMMM":return mc(l.months("long",!0,!1),1);case "L":return ga(d);case "LL":return ga(a);case "LLL":return mc(l.months("short",!1,!1),1);case "LLLL":return mc(l.months("long",!1,!1),1);case "d":return ga(d);case "dd":return ga(a);
case "o":return ga(g);case "ooo":return ga(b);case "HH":return ga(a);case "H":return ga(d);case "hh":return ga(a);case "h":return ga(d);case "mm":return ga(a);case "m":return ga(d);case "q":return ga(d);case "qq":return ga(a);case "s":return ga(d);case "ss":return ga(a);case "S":return ga(g);case "SSS":return ga(b);case "u":return Am(m);case "a":return mc(l.meridiems(),0);case "kkkk":return ga(c);case "kk":return ga(n,hj);case "W":return ga(d);case "WW":return ga(a);case "E":case "c":return ga(e);
case "EEE":return mc(l.weekdays("short",!1,!1),1);case "EEEE":return mc(l.weekdays("long",!1,!1),1);case "ccc":return mc(l.weekdays("short",!0,!1),1);case "cccc":return mc(l.weekdays("long",!0,!1),1);case "Z":case "ZZ":return zm(RegExp("([+-]"+d.source+")(?::("+a.source+"))?"),2);case "ZZZ":return zm(RegExp("([+-]"+d.source+")("+a.source+")?"),2);case "z":return Am(/[a-z_+-/]{1,256}?/i);default:return s(u)}}(h)||{invalidReason:Vr};u.token=h;return u}function Wr(h){return["^"+h.map(function(h){return h.regex}).reduce(function(h,
e){return h+"("+e.source+")"},"")+"$",h]}function Xr(h,l,e){if(h=h.match(l)){l={};var a=1,b;for(b in e)if(we(e,b)){var c=e[b],f=c.groups?c.groups+1:1;!c.literal&&c.token&&(l[c.token.val[0]]=c.deser(h.slice(a,a+f)));a+=f}return[h,l]}return[h,{}]}function Yr(h){var l=function(a){switch(a){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";
case "W":return"weekNumber";case "k":return"weekYear";case "q":return"quarter";default:return null}},e;e=da(h.Z)?da(h.z)?null:zc.create(h.z):new Ab(h.Z);da(h.q)||(h.M=3*(h.q-1)+1);da(h.h)||(12>h.h&&1===h.a?h.h+=12:12===h.h&&0===h.a&&(h.h=0));0===h.G&&h.y&&(h.y=-h.y);da(h.u)||(h.S=fj(h.u));return[Object.keys(h).reduce(function(a,b){var c=l(b);c&&(a[c]=h[b]);return a},{}),e]}function Zr(){Hj||(Hj=Qa.fromMillis(1555555555555));return Hj}function $r(h,l){if(h.literal)return h;var e=Ac.macroTokenToFormatOpts(h.val);
if(!e)return h;var a=Ac.create(l,e).formatDateTimeParts(Zr()).map(function(a){var c;c=a.type;a=a.value;"literal"===c?c={literal:!0,val:a}:(a=e[c],c=as[c],"object"===typeof c&&(c=c[a]),c=c?{literal:!1,val:c}:void 0);return c});return a.includes(void 0)?h:a}function bs(h,l){var e;return(e=Array.prototype).concat.apply(e,h.map(function(a){return $r(a,l)}))}function Bm(h,l,e){e=bs(Ac.parseFormat(e),h);var a=e.map(function(a){return Ur(a,h)}),b=a.find(function(a){return a.invalidReason});if(b)return{input:l,
tokens:e,invalidReason:b.invalidReason};var b=Wr(a),a=RegExp(b[0],"i"),c=Xr(l,a,b[1]),b=c[0],f=(c=c[1])?Yr(c):[null,null],d=f[0],f=f[1];if(we(c,"a")&&we(c,"H"))throw new Ef("Can't include meridiem when specifying 24-hour format");return{input:l,tokens:e,regex:a,rawMatches:b,matches:c,result:d,zone:f}}function Sb(h,l){return new nc("unit out of range","you specified "+l+" (of type "+typeof l+") as a "+h+", which is invalid")}function Cm(h,l,e){h=(new Date(Date.UTC(h,l-1,e))).getUTCDay();return 0===
h?7:h}function Dm(h,l){var e=yc(h)?Ij:Jj,a=e.findIndex(function(a){return a<l});return{month:a+1,day:l-e[a]}}function Kj(h){var l=h.year,e=h.month,a=h.day,b=a+(yc(l)?Ij:Jj)[e-1],e=Cm(l,e,a),b=Math.floor((b-e+10)/7);1>b?(l-=1,b=kh(l)):b>kh(l)&&(l+=1,b=1);return Object.assign({weekYear:l,weekNumber:b,weekday:e},oh(h))}function Em(h){var l=h.weekYear,e=h.weekNumber,a=h.weekday,b=Cm(l,1,4),c=yc(l)?366:365,e=7*e+a-b-3;1>e?(c=l-1,e+=yc(c)?366:365):e>c?(c=l+1,e-=yc(l)?366:365):c=l;l=Dm(c,e);return Object.assign({year:c,
month:l.month,day:l.day},oh(h))}function Lj(h){var l=h.year,e=h.month,e=h.day+(yc(l)?Ij:Jj)[e-1];return Object.assign({year:l,ordinal:e},oh(h))}function Fm(h){var l=h.year,e=Dm(l,h.ordinal);return Object.assign({year:l,month:e.month,day:e.day},oh(h))}function Gm(h){var l=ih(h.year),e=Uc(h.month,1,12),a=Uc(h.day,1,jh(h.year,h.month));return l?e?a?!1:Sb("day",h.day):Sb("month",h.month):Sb("year",h.year)}function Hm(h){var l=h.hour,e=h.minute,a=h.second;h=h.millisecond;var b=Uc(l,0,23)||24===l&&0===
e&&0===a&&0===h,c=Uc(e,0,59),f=Uc(a,0,59),d=Uc(h,0,999);return b?c?f?d?!1:Sb("millisecond",h):Sb("second",a):Sb("minute",e):Sb("hour",l)}function rh(h){return new nc("unsupported zone",'the zone "'+h.name+'" is not supported')}function Mj(h){null===h.weekData&&(h.weekData=Kj(h.c));return h.weekData}function Ff(h,l){var e={ts:h.ts,zone:h.zone,c:h.c,o:h.o,loc:h.loc,invalid:h.invalid};return new Qa(Object.assign({},e,l,{old:e}))}function Gf(h,l,e){var a=h-6E4*l,b=e.offset(a);if(l===b)return[a,l];a-=
6E4*(b-l);l=e.offset(a);return b===l?[a,b]:[h-6E4*Math.min(b,l),Math.max(b,l)]}function Im(h,l){var e=new Date(h+6E4*l);return{year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds(),millisecond:e.getUTCMilliseconds()}}function Jm(h,l){var e=h.o,a=h.c.year+Math.trunc(l.years),b=h.c.month+Math.trunc(l.months)+3*Math.trunc(l.quarters),b=Object.assign({},h.c,{year:a,month:b,day:Math.min(h.c.day,jh(a,b))+Math.trunc(l.days)+
7*Math.trunc(l.weeks)}),a=lb.fromObject({years:l.years-Math.trunc(l.years),quarters:l.quarters-Math.trunc(l.quarters),months:l.months-Math.trunc(l.months),weeks:l.weeks-Math.trunc(l.weeks),days:l.days-Math.trunc(l.days),hours:l.hours,minutes:l.minutes,seconds:l.seconds,milliseconds:l.milliseconds}).as("milliseconds"),b=ye(b),b=Gf(b,e,h.zone),e=b[0],b=b[1];0!==a&&(e+=a,b=h.zone.offset(e));return{ts:e,o:b}}function Hf(h,l,e,a,b){var c=e.setZone,f=e.zone;return h&&0!==Object.keys(h).length?(h=Qa.fromObject(Object.assign(h,
e,{zone:l||f,setZone:void 0})),c?h:h.setZone(f)):Qa.invalid(new nc("unparsable",'the input "'+b+"\" can't be parsed as "+a))}function Ee(h,l,e){void 0===e&&(e=!0);return h.isValid?Ac.create(Ta.create("en-US"),{allowZ:e,forceSimple:!0}).formatDateTimeFromString(h,l):null}function Km(h,l){var e=l.suppressSeconds,a=l.suppressMilliseconds,a=void 0===a?!1:a,b=l.includeOffset,c=l.includePrefix,c=void 0===c?!1:c,f=l.includeZone,f=void 0===f?!1:f,d=l.spaceZone,g=l.format,g=void 0===g?"extended":g,k="basic"===
g?"HHmm":"HH:mm";if(!(void 0===e?0:e)||0!==h.second||0!==h.millisecond)if(k+="basic"===g?"ss":":ss",!a||0!==h.millisecond)k+=".SSS";if((f||b)&&(void 0===d?0:d))k+=" ";f?k+="z":b&&(k+="basic"===g?"ZZZ":"ZZ");e=Ee(h,k);c&&(e="T"+e);return e}function Lm(h){var l={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",
weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[h.toLowerCase()];if(!l)throw new Mm(h);return l}function Nm(h,l){for(var e=md(Om),a;!(a=e()).done;)a=a.value,da(h[a])&&(h[a]=Pm[a]);if(e=Gm(h)||Hm(h))return Qa.invalid(e);e=ja.now();e=l.offset(e);e=Gf(ye(h),e,l);return new Qa({ts:e[0],zone:l,o:e[1]})}function Qm(h,l,e){var a=da(e.round)?!0:e.round,b=function(c,b){c=gj(c,a||e.calendary?
0:2,!0);return l.loc.clone(e).relFormatter(e).format(c,b)},c=function(a){return e.calendary?l.hasSame(h,a)?0:l.startOf(a).diff(h.startOf(a),a).get(a):l.diff(h,a).get(a)};if(e.unit)return b(c(e.unit),e.unit);for(var f=md(e.units),d;!(d=f()).done;){d=d.value;var g=c(d);if(1<=Math.abs(g))return b(g,d)}return b(h>l?-0:0,e.units[e.units.length-1])}function If(h){if(Qa.isDateTime(h))return h;if(h&&h.valueOf&&Id(h.valueOf()))return Qa.fromJSDate(h);if(h&&"object"===typeof h)return Qa.fromObject(h);throw new Rb("Unknown datetime argument: "+
h+", of type "+typeof h);}function cs(h){this.settings=E.clone(ds);this.contentHeight=this.contentWidth=this.containerHeight=this.containerWidth=null;this.isRtl="rtl"===H.css(h,"direction");var l=h.scrollLeft,e=null;h.scrollLeft=-1;e=0>h.scrollLeft;h.scrollLeft=l;this.negativeScrollAdjustment=(this.isNegativeScroll=e)?h.scrollWidth-h.clientWidth:0;this.event=new es;this.ownerDocument=h.ownerDocument||document;this.scrollbarXRail=H.appendTo(H.e("div","ps-scrollbar-x-rail"),h);this.scrollbarX=H.appendTo(H.e("div",
"ps-scrollbar-x"),this.scrollbarXRail);this.scrollbarXLeft=this.scrollbarXWidth=this.scrollbarXActive=null;this.scrollbarXBottom=E.toInt(H.css(this.scrollbarXRail,"bottom"));this.scrollbarXTop=(this.isScrollbarXUsingBottom=this.scrollbarXBottom===this.scrollbarXBottom)?null:E.toInt(H.css(this.scrollbarXRail,"top"));this.railBorderXWidth=E.toInt(H.css(this.scrollbarXRail,"borderLeftWidth"))+E.toInt(H.css(this.scrollbarXRail,"borderRightWidth"));H.css(this.scrollbarXRail,"display","block");this.railXMarginWidth=
E.toInt(H.css(this.scrollbarXRail,"marginLeft"))+E.toInt(H.css(this.scrollbarXRail,"marginRight"));H.css(this.scrollbarXRail,"display","");this.railXRatio=this.railXWidth=null;this.scrollbarYRail=H.appendTo(H.e("div","ps-scrollbar-y-rail"),h);this.scrollbarY=H.appendTo(H.e("div","ps-scrollbar-y"),this.scrollbarYRail);this.scrollbarYTop=this.scrollbarYHeight=this.scrollbarYActive=null;this.scrollbarYRight=E.toInt(H.css(this.scrollbarYRail,"right"));this.scrollbarYLeft=(this.isScrollbarYUsingRight=
this.scrollbarYRight===this.scrollbarYRight)?null:E.toInt(H.css(this.scrollbarYRail,"left"));this.scrollbarYOuterWidth=this.isRtl?E.outerWidth(this.scrollbarY):null;this.railBorderYWidth=E.toInt(H.css(this.scrollbarYRail,"borderTopWidth"))+E.toInt(H.css(this.scrollbarYRail,"borderBottomWidth"));H.css(this.scrollbarYRail,"display","block");this.railYMarginHeight=E.toInt(H.css(this.scrollbarYRail,"marginTop"))+E.toInt(H.css(this.scrollbarYRail,"marginBottom"));H.css(this.scrollbarYRail,"display","");
this.railYRatio=this.railYHeight=null}function Rm(h){return"undefined"===typeof h.dataset?h.getAttribute("data-ps-id"):h.dataset.psId}function Sm(h,l){h.settings.minScrollbarLength&&(l=Math.max(l,h.settings.minScrollbarLength));h.settings.maxScrollbarLength&&(l=Math.min(l,h.settings.maxScrollbarLength));return l}function fs(h,l){var e={width:l.railXWidth};e.left=l.isRtl?l.negativeScrollAdjustment+h.scrollLeft+l.containerWidth-l.contentWidth:h.scrollLeft;l.isScrollbarXUsingBottom?e.bottom=l.scrollbarXBottom-
h.scrollTop:e.top=l.scrollbarXTop+h.scrollTop;H.css(l.scrollbarXRail,e);e={top:h.scrollTop,height:l.railYHeight};l.isScrollbarYUsingRight?e.right=l.isRtl?l.contentWidth-(l.negativeScrollAdjustment+h.scrollLeft)-l.scrollbarYRight-l.scrollbarYOuterWidth:l.scrollbarYRight-h.scrollLeft:e.left=l.isRtl?l.negativeScrollAdjustment+h.scrollLeft+2*l.containerWidth-l.contentWidth-l.scrollbarYLeft-l.scrollbarYOuterWidth:l.scrollbarYLeft+h.scrollLeft;H.css(l.scrollbarYRail,e);H.css(l.scrollbarX,{left:l.scrollbarXLeft,
width:l.scrollbarXWidth-l.railBorderXWidth});H.css(l.scrollbarY,{top:l.scrollbarYTop,height:l.scrollbarYHeight-l.railBorderYWidth})}function gs(h,l){var e=window.Event.prototype.stopPropagation.bind;l.settings.stopPropagationOnClick&&l.event.bind(l.scrollbarY,"click",e);l.event.bind(l.scrollbarYRail,"click",function(a){var b=E.toInt(l.scrollbarYHeight/2),b=l.railYRatio*(a.pageY-window.scrollY-l.scrollbarYRail.getBoundingClientRect().top-b)/(l.railYRatio*(l.railYHeight-l.scrollbarYHeight));0>b?b=0:
1<b&&(b=1);Xa(h,"top",(l.contentHeight-l.containerHeight)*b);oc(h);a.stopPropagation()});l.settings.stopPropagationOnClick&&l.event.bind(l.scrollbarX,"click",e);l.event.bind(l.scrollbarXRail,"click",function(a){var b=E.toInt(l.scrollbarXWidth/2),b=l.railXRatio*(a.pageX-window.scrollX-l.scrollbarXRail.getBoundingClientRect().left-b)/(l.railXRatio*(l.railXWidth-l.scrollbarXWidth));0>b?b=0:1<b&&(b=1);Xa(h,"left",(l.contentWidth-l.containerWidth)*b-l.negativeScrollAdjustment);oc(h);a.stopPropagation()})}
function hs(h,l){var e=null,a=null,b=function(c){var b=e+(c.pageX-a)*l.railXRatio,g=l.scrollbarXRail.getBoundingClientRect().left+l.railXRatio*(l.railXWidth-l.scrollbarXWidth);l.scrollbarXLeft=0>b?0:b>g?g:b;b=E.toInt(l.scrollbarXLeft*(l.contentWidth-l.containerWidth)/(l.containerWidth-l.railXRatio*l.scrollbarXWidth))-l.negativeScrollAdjustment;Xa(h,"left",b);oc(h);c.stopPropagation();c.preventDefault()},c=function(){E.stopScrolling(h,"x");l.event.unbind(l.ownerDocument,"mousemove",b)};l.event.bind(l.scrollbarX,
"mousedown",function(f){a=f.pageX;e=E.toInt(H.css(l.scrollbarX,"left"))*l.railXRatio;E.startScrolling(h,"x");l.event.bind(l.ownerDocument,"mousemove",b);l.event.once(l.ownerDocument,"mouseup",c);f.stopPropagation();f.preventDefault()})}function is(h,l){var e=null,a=null,b=function(c){var b=e+(c.pageY-a)*l.railYRatio,g=l.scrollbarYRail.getBoundingClientRect().top+l.railYRatio*(l.railYHeight-l.scrollbarYHeight);l.scrollbarYTop=0>b?0:b>g?g:b;b=E.toInt(l.scrollbarYTop*(l.contentHeight-l.containerHeight)/
(l.containerHeight-l.railYRatio*l.scrollbarYHeight));Xa(h,"top",b);oc(h);c.stopPropagation();c.preventDefault()},c=function(){E.stopScrolling(h,"y");l.event.unbind(l.ownerDocument,"mousemove",b)};l.event.bind(l.scrollbarY,"mousedown",function(f){a=f.pageY;e=E.toInt(H.css(l.scrollbarY,"top"))*l.railYRatio;E.startScrolling(h,"y");l.event.bind(l.ownerDocument,"mousemove",b);l.event.once(l.ownerDocument,"mouseup",c);f.stopPropagation();f.preventDefault()})}function js(h,l){function e(a,b){var d=h.scrollTop;
if(0===a){if(!l.scrollbarYActive)return!1;if(0===d&&0<b||d>=l.contentHeight-l.containerHeight&&0>b)return!l.settings.wheelPropagation}d=h.scrollLeft;if(0===b){if(!l.scrollbarXActive)return!1;if(0===d&&0>a||d>=l.contentWidth-l.containerWidth&&0<a)return!l.settings.wheelPropagation}return!0}var a=!1;l.event.bind(h,"mouseenter",function(){a=!0});l.event.bind(h,"mouseleave",function(){a=!1});var b=!1;l.event.bind(l.ownerDocument,"keydown",function(c){if((!c.isDefaultPrevented||!c.isDefaultPrevented())&&
a){var f=document.activeElement?document.activeElement:l.ownerDocument.activeElement;if(f){for(;f.shadowRoot;)f=f.shadowRoot.activeElement;if(E.isEditable(f))return}var d=f=0;switch(c.which){case 37:f=-30;break;case 38:d=30;break;case 39:f=30;break;case 40:d=-30;break;case 33:d=90;break;case 32:d=c.shiftKey?90:-90;break;case 34:d=-90;break;case 35:d=c.ctrlKey?-l.contentHeight:-l.containerHeight;break;case 36:d=c.ctrlKey?h.scrollTop:l.containerHeight;break;default:return}Xa(h,"top",h.scrollTop-d);
Xa(h,"left",h.scrollLeft+f);oc(h);(b=e(f,d))&&c.preventDefault()}})}function ks(h,l){function e(a,b){var d=h.scrollTop;if(0===a){if(!l.scrollbarYActive)return!1;if(0===d&&0<b||d>=l.contentHeight-l.containerHeight&&0>b)return!l.settings.wheelPropagation}d=h.scrollLeft;if(0===b){if(!l.scrollbarXActive)return!1;if(0===d&&0>a||d>=l.contentWidth-l.containerWidth&&0<a)return!l.settings.wheelPropagation}return!0}function a(a){if(E.env.isWebKit||!h.querySelector("select:focus")){var f,d=a.deltaX;f=-1*a.deltaY;
if("undefined"===typeof d||"undefined"===typeof f)d=-1*a.wheelDeltaX/6,f=a.wheelDeltaY/6;a.deltaMode&&1===a.deltaMode&&(d*=10,f*=10);d!==d&&f!==f&&(d=0,f=a.wheelDelta);f=[d,f];d=f[0];f=f[1];var g;a:{if(g=h.querySelector("textarea:hover")){var k=g.scrollHeight-g.clientHeight;if(0<k&&!(0===g.scrollTop&&0<f)&&!(g.scrollTop===k&&0>f)){g=!0;break a}k=g.scrollLeft-g.clientWidth;if(0<k&&!(0===g.scrollLeft&&0>d)&&!(g.scrollLeft===k&&0<d)){g=!0;break a}}g=!1}if(!g&&(b=!1,l.settings.useBothWheelAxes?l.scrollbarYActive&&
!l.scrollbarXActive?(f?Xa(h,"top",h.scrollTop-f*l.settings.wheelSpeed):Xa(h,"top",h.scrollTop+d*l.settings.wheelSpeed),b=!0):l.scrollbarXActive&&!l.scrollbarYActive&&(d?Xa(h,"left",h.scrollLeft+d*l.settings.wheelSpeed):Xa(h,"left",h.scrollLeft-f*l.settings.wheelSpeed),b=!0):(Xa(h,"top",h.scrollTop-f*l.settings.wheelSpeed),Xa(h,"left",h.scrollLeft+d*l.settings.wheelSpeed)),oc(h),b=b||e(d,f)))a.stopPropagation(),a.preventDefault()}}var b=!1;"undefined"!==typeof window.onwheel?l.event.bind(h,"wheel",
a):"undefined"!==typeof window.onmousewheel&&l.event.bind(h,"mousewheel",a)}function ls(h,l){l.event.bind(h,"scroll",function(){oc(h)})}function ms(h,l){function e(){var a=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===a.toString().length?null:a.getRangeAt(0).commonAncestorContainer}function a(){c||(c=setInterval(function(){Ua.get(h)?(Xa(h,"top",h.scrollTop+f.top),Xa(h,"left",h.scrollLeft+f.left),oc(h)):clearInterval(c)},50))}function b(){c&&
(clearInterval(c),c=null);E.stopScrolling(h)}var c=null,f={top:0,left:0},d=!1;l.event.bind(l.ownerDocument,"selectionchange",function(){h.contains(e())?d=!0:(d=!1,b())});l.event.bind(window,"mouseup",function(){d&&(d=!1,b())});l.event.bind(window,"mousemove",function(c){if(d){var e=c.pageX;c=c.pageY;var l=h.offsetLeft+h.offsetWidth,n=h.offsetTop,q=h.offsetTop+h.offsetHeight;e<h.offsetLeft+3?(f.left=-5,E.startScrolling(h,"x")):e>l-3?(f.left=5,E.startScrolling(h,"x")):f.left=0;c<n+3?(f.top=5>n+3-c?
-5:-20,E.startScrolling(h,"y")):c>q-3?(f.top=5>c-q+3?5:20,E.startScrolling(h,"y")):f.top=0;0===f.top&&0===f.left?b():a()}})}function ns(h,l,e,a){var b,c;function f(a,c){var b=h.scrollTop,f=h.scrollLeft,d=Math.abs(a),e=Math.abs(c),g=l.contentHeight!==l.containerHeight,k=l.contentWidth!==l.containerWidth;if(e>d){if(!g)return!1;if(0>c&&b===l.contentHeight-l.containerHeight||0<c&&0===b)return!l.settings.swipePropagation}else if(d>e){if(!k)return!1;if(0>a&&f===l.contentWidth-l.containerWidth||0<a&&0===
f)return!l.settings.swipePropagation}return!0}function d(a,c){Xa(h,"top",h.scrollTop-c);Xa(h,"left",h.scrollLeft-a);oc(h)}function g(a){return a.targetTouches&&1===a.targetTouches.length||a.pointerType&&"mouse"!==a.pointerType&&a.pointerType!==a.MSPOINTER_TYPE_MOUSE?!0:!1}function k(){return l.contentHeight!==l.containerHeight||l.contentWidth!==l.containerWidth}function m(a){k()&&g(a)&&(t=!0,a=a.targetTouches?a.targetTouches[0]:a,s.pageX=a.pageX,s.pageY=a.pageY,u=(new Date).getTime(),null!==A&&clearInterval(A))}
function n(a){if(k()&&t&&g(a)){var e=a.targetTouches?a.targetTouches[0]:a,h={pageX:e.pageX,pageY:e.pageY},e=h.pageX-s.pageX,l=h.pageY-s.pageY;d(e,l);s=h;var h=(new Date).getTime(),m=h-u;0<m&&(b=e/m,c=l/m,u=h);f(e,l)&&(a.stopPropagation(),a.preventDefault())}}function q(){k()&&t&&(t=!1,clearInterval(A),A=setInterval(function(){Ua.get(h)?!b&&!c?clearInterval(A):0.01>Math.abs(b)&&0.01>Math.abs(c)?clearInterval(A):(d(50*b,50*c),b*=0.8,c*=0.8):clearInterval(A)},10))}var s={},u=0;c=b=void 0;var A=null,
t=!1;e&&(l.event.bind(h,"touchstart",m),l.event.bind(h,"touchmove",n),l.event.bind(h,"touchend",q));a&&(window.PointerEvent?(l.event.bind(h,"pointerdown",m),l.event.bind(h,"pointermove",n),l.event.bind(h,"pointerup",q)):window.MSPointerEvent&&(l.event.bind(h,"MSPointerDown",m),l.event.bind(h,"MSPointerMove",n),l.event.bind(h,"MSPointerUp",q)))}function Nj(h){return h&&"object"===typeof h&&"default"in h?h["default"]:h}function os(h){var l,e,a;if(Tm.exec(h)&&(Jf.gradientSearch.lastIndex=0,h=Jf.gradientSearch.exec(h),
null!==h)){l={original:h[0],colorStopList:[]};h[1]&&(l.line=h[1]);h[2]&&(l.angle=h[2]);h[3]&&(l.sideCorner=h[3]);Jf.colorStopSearch.lastIndex=0;for(e=Jf.colorStopSearch.exec(h[4]);null!==e;)a={color:e[1]},e[2]&&(a.position=e[2]),l.colorStopList.push(a),e=Jf.colorStopSearch.exec(h[4])}return l}function Tb(h){return Oj?Oj("return "+JSON.stringify(h)+";"):h}function ps(){Pj||(Pj=O.DateTime.fromISO("2016-01-01").valueOf());return Pj}function qs(){Qj||(Qj=O.DateTime.fromFormat("2016-01","kkkk-WW").valueOf());
return Qj}function rs(h){var l;if(-1<Um.indexOf(h))l=function(e){return O.DateTime.fromMillis(ps()+(parseInt(e,10)-1)*ss).startOf("day").valueOf()};else if(-1<Vm.indexOf(h))l=function(e){return O.DateTime.fromMillis(qs()+(parseInt(e,10)-1)*ts).startOf("week").valueOf()};else return Wm(h);return Fe(l,h)}function Fe(h,l){return function(e){if(!(null==e||""===e))return l&&(e+=""),h(e)}}function Wm(h,l){return Fe(function(e){return O.DateTime.fromFormat(e,h,{zone:l}).valueOf()},h)}function us(){null==
Od&&(Od=Da.getDelegate());null==Rj&&(Rj=Od.getRealFontSize(p.AXIS.LABELS.TEXT.SIZE)+2*p.AXIS.LABELS.PADDING.SMALL);return Rj}function Pd(h){return pa(function(h){function e(){h.apply(this,arguments)}h&&(e.__proto__=h);e.prototype=Object.create(h&&h.prototype);e.prototype.constructor=e;e.prototype.drawDebug=function(a,b,c){c=a.props;a=c.key;var f=c.bb;if(f){c=f[0];var d=f[1],e=f[2],f=f[3];b.font=ka.getFont(10);b.strokeStyle=vs;b.strokeRect(c,d,e,f);b.textBaseline="top";b.strokeText(a,c,d)}};return e}(h))}
function Xm(h,l){var e=h,a=l;h<l&&(e=l,a=h);return 0===e%a?a:Xm(a,e%a)}function Ym(h,l){var e=l.timeout,a=l.failOnTimeout;void 0===a&&(a=!0);var b=l.pollInterval;void 0===b&&(b=10);var c=l.errorMessage;return new Promise(function(f,d){var g,k;null!=e&&(g=setTimeout(function(){clearInterval(k);a?d(c||"Timed out for waitFor"):f()},e));k=setInterval(function(){h()&&(null!=g&&clearTimeout(g),null!=k&&clearInterval(k),f())},b)})}function ws(){if(null==nd){nd=document.createElement("canvas").getContext("2d");
var h=ka.getFont(Ia.FONT.SIZE);try{nd.font=h}catch(l){console.warn("EclairNG: Failed to initialize canvas font, will attempt to initialize asynchoronously");console.warn(l);var e=setInterval(function(){try{nd.font=h,clearInterval(e),console.warn("EclairNG: Canvas font initialized asynchoronously")}catch(a){}},10)}Bc.getInstance().setTextDelegate(nd)}}function xs(){return"complete"===document.readyState}function ys(){ws();var h;try{h=nd.measureText(Ia.FONT.LOADING_TEST.TEXT)}catch(l){}return h&&h.width>
Ia.FONT.LOADING_TEST.WIDTH}function Sj(h,l){return h?Zm(h)?h.map(l):l(h):null}function od(h){return function(h){function e(){h.apply(this,arguments)}h&&(e.__proto__=h);e.prototype=Object.create(h&&h.prototype);e.prototype.constructor=e;e.prototype.tweenUpdate=function(a){h.prototype.tweenUpdate.call(this,a);this.props.bb0=this.props.bb;if(this.props.type!==a.props.type&&-1!==this.getNumVertices()&&-1!==a.getNumVertices()){var b;b=this.getNumVertices();var c=a.getNumVertices(),f=Xm(b,c);b=f*(b/f)*
(c/f);(c=this.getPathProps(b,this.props))&&$m(this.props,c);this.tween(null,$m({},a.props,a.getPathProps(b,a.props)),!0);a.tweens=this.tweens;return a}return this};e.prototype.getPathProps=function(a,b){return null};e.prototype.getNumVertices=function(){return-1};e.prototype._sampleLine=function(a,b,c,f,d){for(var e=[],k=[],h=0;h<d;++h){var l=1/d;e.push(a+l*h*(c-a));k.push(b+l*h*(f-b))}return[e,k]};e.prototype._sampleCurve=function(a,b,c,f,d){for(var e=[],k=[],h=b/d,l=0;l<d;++l){var q=f?a+h*l:a+b-
h*l;e.push(c*Math.cos(q));k.push(c*Math.sin(q))}return[e,k]};return e}(h)}function zs(h){void 0===h&&(h={});return new (an[h.type]||Ra)(h.options)}function bn(h){var l=h.cell,e=h.theme,a=h.layer,b=h.key,c=h.scale,f=h.length,d=h.lines,g=h.formatMultiplier,k=h.rotateLabel,g=g||1,e=e||As,a=a||new Ga({cell:l,key:b,staggerAnim:!1,canSelect:!1,canScroll:!1,zIndex:Bs});d.forEach(function(b,d){var h=b.value/g,l=h>=c.domain()[0]&&h<=c.domain()[1],u=a,h=c.scale(h),A=b.color||e.getReferenceLineColor(),t=b.lineWidth||
Cs,w=b.key||d,r=b.transparent,v=b.label,y=e,K=b.lineStyle,B=0,A=sh.getColor(A);if(v&&l){var T=Da.getDelegate(),B=T.getRealFontSize(p.TEXT_SIZE),T=T.getTextWidth(v),B=k?B+2:T+14;B<f?(T=0,r?(r=y.getBackgroundColor().toOpaque().adjustOpacity(0.7),y=A,T=1):(r=A,y=A.toHighContrast(y.getTextColorOnLight(),y.getTextColorOnDark())),k||new Ge({key:"refline-rect"+w,layer:u,points:[[h+8+T,1],[h+8+T,B-6],[h,B],[h-8-T,B-6],[h-8-T,1]],lineWidth:t,stroke:A.adjustOpacity(0.9),fill:r}),v=new Ea({key:"refline-label"+
w,layer:u,x:h,y:k?0:5,vertical:!k,halign:k?"center":"right",valign:k?"top":"middle",includeDescender:!1,text:v,stroke:y,bgColor:k?A:void 0,padding:k?{top:2,left:10,right:10,bottom:5}:void 0,accessibility:{type:p.ACCESSIBILITY.TYPE.CAPTION,key:p.ACCESSIBILITY.CAPTION_KEY.REFERENCE_LINE,value:v}}),k&&(y=v.boundingBox(),y.x<c.range()[0]&&v.set({x:c.range()[0],halign:"left"}),y.x+y.w>c.range()[1]&&v.set({x:c.range()[1],halign:"right"}))):B=0}0<f&&new db({layer:u,lineWidth:t,stroke:A,key:"refline-line"+
w,x0:h,y0:B,x1:h,y1:f,dashed:K===p.LINE_STYLE.DASHED?p.DASHED_LINE_SPACING:0,opacity:l?1:0})});return a}function pd(h){return void 0!==h?h:!0}function th(h,l,e){if(!l||!l.length)l=h?r.keys(h):[];for(var a=function(a){var b=l[a];a=h[b];r.isArray(a)?a.forEach(function(a){return e(a,b)}):e(a,b)},b=0;b<l.length;b++)a(b)}function uh(h,l,e){var a=[];th(h,l,function(c){if(c=c&&c.column)for(var b=0;b<c.length;b++){var d=c[b];(!e||d.getType()===e)&&a.push(d)}});var b={};a.forEach(function(a){return b[a.getName()]=
a});return r.values(b)}function cn(h,l){h.forEach(function(e){e.time&&(e.value=l(e.time))})}function Tj(h,l,e,a,b,c){h=h["default"];return h.make?h.make(l,e,a,b,c):new h(l,e,a,b,c)}function dn(h,l,e){void 0===l&&(l={});var a=l.padding,b=l.size,c=l.theme,f=l.title,d=W.getLabel("@salesforce/charts",e,null,l.labels);return Vc.getModule("sfdc-empty-chart",Qd.version).then(function(e){return Tj(e,{padding:a,theme:c,size:b,title:f},h,d)})}function Ds(h,l,e){var a=h.range(),a=Math.abs(a[1]-a[0]);e=Math.round(a/
e);var b=[],c=[],a=!1,f,d,b=h.ticks(e);for(e=b.length;1<=e;){1>=b.length&&(b=h.domain(),f=b[0],d=b[1],b=0>f&&0<d?d===-f?[f,0,d]:d>-f?[0,d]:[f,0]:[f,d]);c=b.map(l);if(x.uniq(c).length===c.length){a=!0;break}e--;b=h.ticks(e,!0)}!a&&1<b.length&&(f=b[0],d=r.last(b),b=0>f&&0<d?[0]:0===f||0===d?c[0]===r.last(c)?[0]:[f,d]:[b[0]]);return b}function en(h){var l=p.AXIS.NUM;r.defaults(h,{key:"axis",gridLineLength:0,drawAxisLine:!1,drawGridLines:!0,drawAxis:!0,drawLabels:!0,ticksOnly:!1});var e=h.theme||vh,a=
h.cell,b=h.scale,c=h.format,f=h.gridLineLength,d=h.drawAxisLine,g=h.drawGridLines,k=h.drawAxis,m=h.key,n=h.drawLabels,q=h.ticksOnly,s=h.layer||new Ga({cell:a,key:m,staggerAnim:!1,canSelect:!1}),m=b.domain();h=b.range();if(k){var c=Ya(c,!0,!0),u=a.getScene().get("transforms").rotate,g=g&&f,A=u?{halign:"left",valign:"middle",vertical:!0}:{halign:"center",valign:"bottom"},t=l.TICKMARK,w=t.HORI_DISTANCE,t=t.VERTI_DISTANCE,u=Ds(b,c,u?t:w),z=u.map(c);u.forEach(function(a,c){n&&new Ea(r.extend({layer:s,
x:a,y:-8,stroke:e.getMeasureAxisTickLabelColor(),text:z[c],key:"text"+a},A));d&&new db({layer:s,x0:a,y0:-3,x1:a,y1:4,stroke:e.getMeasureAxisTickMarkColor(),key:"marker"+a});g&&new db({layer:s,x0:a,y0:-3,x1:a,y1:3+f,stroke:e.getMeasureAxisGridLineColor(),key:"line"+a})});d&&!q&&new db({layer:s,x0:m[0],y0:0,x1:m[1],y1:0,stroke:e.getMeasureAxisLineColor(),key:"longline"})}s.set({scales:{x:b},y:a.get("h")});if(k&&(a=s.find({key:/^text/}),b=a.length,0<b&&(k=a[0],q=k.boundingBox(),q=q.x,q<h[0]&&(k.offsetX(h[0]-
q),1<b&&(q=k.boundingBox(),m=q.x+q.w,k=a[1],q=k.boundingBox(),c=q.x,m>c-l.TICKLABEL.PADDING&&(m-=c-l.TICKLABEL.PADDING,c=!0,2<b&&(u=a[2].boundingBox(),q.x+q.w+m<u.x-l.TICKLABEL.PADDING&&(k.offsetX(m),c=!1)),c&&k.set({text:""})))),k=r.last(a),q=k.boundingBox(),q=q.x+q.w,q>h[1]&&(k.offsetX(h[1]-q),1<b)))){q=k.boundingBox();q=q.x;h=a[a.length-2];for(k=a.length-3;0<=k&&!h.get("text");)h=a[k],k--;b=h.boundingBox();m=b.x+b.w;h.get("text")&&m>q-l.TICKLABEL.PADDING&&(q=m-(q-l.TICKLABEL.PADDING),m=!0,0<=k&&
(a=a[k].boundingBox(),a.x+a.w+l.TICKLABEL.PADDING<b.x-q&&(h.offsetX(-q),m=!1)),m&&h.set({text:""}))}return s}function fn(h){function l(a,c){return c?a:a.reverse()}function e(a,c){for(var b=[],f=a.length,d=0;d<f;++d)b.push(a[d]),f-1!==d&&b.push(c);return b}function a(c){return 0===c.length?[]:c[0].split(" ").concat(a(c.slice(1)))}var b=h.axis,c=b.column,f=b.sorting;void 0===f&&(f={enabled:!1});var d=b.titleMaxLines,g=h.theme,k=h.cell,m=h.key||"title",n=h.size||k.get("h"),q=h.layer,b=h.titleOffset||
0,s=!!h.isDimension,u=h.titleColor||vh.getDimensionAxisTitleColor(),A=Aa.fromValue(f.order)||Aa.NONE;if(h.titles){var t=h.normalize,w=(Array.isArray(h.titles)?h.titles:[h.titles]).map(function(a){return a+(t?" (%)":"")});if(!r.every(w,r.isEmpty)){var z=f.enabled,q=q||new Ga({key:m,cell:k,canHover:z,staggerAnim:!1}),v=k.getScene().get("transforms").rotate;h=k.getScene().get("transforms").flipY;var k=w.length,y=p.AXIS.LABELS.TITLE.SEPARATOR,m=(new Ea({key:"measuringText",text:y,stroke:u,halign:"right",
valign:"middle",vertical:!0})).getTextW(),K=p.AXIS.LABELS.TITLE.PADDING.HORIZONTAL,B=p.AXIS.LABELS.TITLE.PADDING.VERTICAL,T=(n-((k-1)*m+2*K))/k,X=new Bb({layer:q,key:"titleGroup"}),eb="",L=new fb({top:B,right:K,bottom:B,left:K}),x=l(e(w,y),v);if(1<d){var d=Bc.getInstance().wrap(a(x),d,n),sb=d.lines,d=d.rest,w=f.enabled&&A.sortChar&&""===d?" "+A.sortChar:"";sb.slice(0,-1).concat(sb[sb.length-1]+d+w).map(function(a,c){return new Ea({shapeGroup:X,key:"title-line-"+c,x:0,y:0,text:a,stroke:u,halign:"center",
valign:"top",vertical:!0,maxWidth:c===sb.length-1?n:null,padding:L,size:p.TEXT_SIZE})});X.applyLayout({type:"hbox"});0<X.getChildren().length&&X.offsetY(0.5*n)}else x.forEach(function(a,c){var b=0===c?K:void 0,d=c===x.length-1?K:void 0;L.left=v?b:d;L.right=v?d:b;eb+=a;if(d=Bc.getInstance().getTruncatedText(a,T)){var b=0,e,k=d!==a;f.enabled&&(A.sortChar&&(e=A.sortChar,k||(e=" "+e)),b=n/2);var h;h=z?n:a===y?null:T;h={shapeGroup:X,key:"title-"+c,x:0,y:b,text:a,stroke:u,halign:z?"center":"right",valign:"top",
vertical:!0,hoverBgColor:z?g.getAxisTitleTextBackgroundColor():void 0,maxWidth:h,padding:L};f.enabled&&Object.assign(h,{accessibility:{type:p.ACCESSIBILITY.TYPE.AXIS}});new Ea(h);f.enabled&&null!=e&&(d=k?d:a,v||!s?b+=Cc.getTextWidth(d)/2-K:(b-=Cc.getTextWidth(d)/2,b-=Cc.getTextWidth(e)+K),new Ea({layer:q,key:"title-"+c+"-sorting-suffix",x:0,y:b,text:e,stroke:u,valign:"top",halign:"right",vertical:!0,padding:L,zIndex:-1}))}}),X.applyLayout({type:"vbox"}),0<X.getChildren().length&&X.offsetY(0.5*(n-
X.boundingBox().h));v&&h?new Ub({layer:q,key:"padding",x:X.boundingBox().w+b,y:n/2,r:0}):X.offsetX(b);if(f.enabled){var b=Aa.fromOrdinal((A.ordinal+1)%Aa.values().length).value,tb={eventName:p.EVENT_NAME.SORT,eventData:{column:[c[0].getName()],order:b}};X.forEach(function(a){a.set("cursorType","pointer");a.set("onClick",tb)})}q.set({accessibility:{type:p.ACCESSIBILITY.TYPE.CAPTION,key:s?p.ACCESSIBILITY.CAPTION_KEY.DIMENSION_AXIS_TITLE:p.ACCESSIBILITY.CAPTION_KEY.MEASURE_AXIS_TITLE,value:eb}})}}return q}
function gn(h,l,e){e=Math.abs(e)%Math.PI;e=e>Math.PI/2?Math.PI-e:e;var a=Math.cos(e);return a?(h-l*Math.sin(e))/a:1E3}function Es(h){h=h.getChildren().slice(0);for(var l=Math.min(p.OPTIMIZATION.MEASURE_LABEL_SIZE,h.length),e=0,a=0;a<l;++a){var b=h[a].trueBoundingBox().w;b>e&&(e=b)}return e}function hn(h){var l=h.theme||vh,e=p.AXIS.LABELS,a=h.rows,b=Xc.uniqueColumns(a.getFields()),c={key:"labels",color:l.getDimensionAxisTextColor(),halign:e.TEXT.HALIGN,layout:e.LAYOUT.HIDDEN,numColumns:b.length,showSeparationLines:!0,
floating:!1,overflowForSlanted:0};r.defaults(h,c);var f=h.cell,d=h.layout,c=h.icon,g=h.numColumns,k=h.halign,m=h.color,n=h.floating,q=h.overflowForSlanted,s=h.key,u=e.LAYOUT,A=Math.PI/4,g=Math.min(g,b.length),t=g===b.length;if(g&&d!==u.HIDDEN){var w=new Ga({key:s,cell:f,canHover:!0}),z=a.getRowHeight(),s=a.getLayout(),v=t&&1===b.length&&c&&z+s.spacer>=pc,y,K,B,T,X;v&&(s=c.column,y=c.type||"round",K=s&&s.getName(),B=c.stroke,T=c.fill||l.getIconFillColor(),X=c.fit||p.TEXTURE.FIT.COVER);var c=(new Ea({size:e.TEXT.SIZE})).getH(),
eb;d===u.ORTHOGONAL?(c=e.PADDING.WIDE,eb=e.PADDING.SMALL):(t?(c=((d===u.SLANTED?z*Math.sin(A):z)-c)/2,c=Math.min(c,e.PADDING.WIDE)):c=e.PADDING.SMALL,eb=e.PADDING.WIDE);v&&(c=(new Ea({size:e.TEXT.SIZE})).getH(),c=(pc-c)/2);var L=(new Ea({size:e.TEXT.SIZE,padding:{top:c,bottom:c}})).getH(),x={},sb={},tb=l.getHotspotColors();b.forEach(function(a,c){if(!(c+1>g)){x[a.getName()]=(new Bb({key:a.getName()})).prependTo(w);var b=a.getHotSpots();b&&(sb[a.getName()]=b.map(function(a){a.size=L;a.colors=r.defaults(a.colors,
tb);return a}))}});var Kf=a.hasHierarchy(),Lf={left:eb,right:eb,top:c,bottom:c},Mf={left:eb,right:eb+pc+Uj,top:c,bottom:c},He={};a.traverse(function(a,c,b,f,h,q,s,p){var w=b.index===g-1;b=f.layout.y;f=f.layout.h;switch(d){case u.ORTHOGONAL:w=w||!Kf||!n;b={valign:"middle",halign:w?"center":"right",y:w?b+f/2:b,vertical:!0,maxWidth:f};break;case u.SLANTED:b={valign:"bottom",halign:"left",y:b+f/2,vertical:!0,angle:-A};break;default:b={halign:k,valign:"middle",y:b+(!n?f/2:t?z/2:L/2)+1}}a=Fs.formatColumnValue(a,
c);var y={};p.forEach(function(a,c){return y[a.getName()]=q[c]});h="label-"+h.join("|");v&&(s=s.getBaseRows()[0],He[h]=s[K]);new Ea(r.extend({key:h,shapeGroup:x[c.getName()],x:0,text:a,size:e.TEXT.SIZE,stroke:m,hoverStroke:l.getDimensionAxisTextHoverColor(),hotSpots:sb[c.getName()],padding:v?Mf:Lf,data:{row:y,column:r.last(p).getName()},hoverBgColor:l.getDimensionAxisTextBGColor()},b))},g);b=w.getChildren().map(Es);if(d===u.NORMAL){var qd=Cc.truncateColumns(b,f.get("w"));b.forEach(function(a,c){var b=
qd&&qd[c]||a;w.getChildren()[c].forEach(function(a){a.set("maxWidth",b)})})}else d===u.SLANTED&&b.forEach(function(a,c){w.getChildren()[c].forEach(function(c,b){var d=c.get("angle"),d=gn(Math.min(c.get("y")+q+L*Math.sin(-d),f.get("w")),L,d);c.set("maxWidth",Math.min(d,a))})});w.applyLayout({type:"hbox",reverse:!0});var Wc=w.boundingBox(),C=[],D=f.getScene().get("transforms").rotate;w.reverse().offsetX(Wc.w).forEach(function(a,c){if(!(c>=g)){a.offsetX(-(Wc.w+Wc.x));var b=a.boundingBox();C.push(b.x);
var f=[];a.forEach(function(a){switch(d){case u.SLANTED:a.set({maxWidth:Math.min(gn(b.w,L,-A),a.get("maxWidth"))});break;case u.NORMAL:a.set({maxWidth:b.w})}if(v){a:{var c=a.get(),e=c.x,c=c.y;switch(d){case u.ORTHOGONAL:c=c+a.getTextW()/2+Uj/2;break;case u.SLANTED:e=e-eb-pc/2;c-=2;break;default:e="center"===k?e+a.getTextW()/2+Uj/2:e-eb-pc/2}var g={fill:T,stroke:B,lineWidth:1,skipInFind:!0,texture:{url:He[a.get("key")],fit:X}};switch(y){case "square":a=new qc(r.extend({key:a.get("key")+"_icon_square",
x:e-pc/2,y:c-pc/2,w:pc,h:pc,cornerRadius:Math.round(pc/6),vertical:D},g));break a;default:a=new Ub(r.extend({key:a.get("key")+"_icon_point",x:e,y:c,r:pc/2},g))}}f.push(a)}});f&&a.appendAll(f)}}).flatten();h.showSeparationLines&&a.traverse(function(a,c,b,f,d){!b.isLast&&!f.isLast&&(a=f.layout.y+f.layout.h+b.layout.spacer/2,new db({layer:w,x0:C[b.index],x1:0,y0:a,y1:a,stroke:l.getDimensionAxisSeparatorColor(),key:"line-"+d.join("|"),canHover:!1,canSelect:!1}))},g);return w}}function kn(h){var l=h.theme||
vh,e=p.AXIS.TIME;r.defaults(h,{key:"time",granularity:"month",drawAxisLine:!0,drawAxis:!0});var a=h.cell,b=h.scale,c=h.formats,f=h.drawAxis,d=h.drawAxisLine,g=h.granularity,k=h.isDiscrete,m=h.firstDayOfWeek,n=h.dataFormat,q=h.fiscalGranularity,s=new Ga({cell:a,key:h.key,staggerAnim:!1}),u=b.domain(),A=b.range(),t=a.getScene().get("transforms").rotate;if(f){var w=t?{halign:"center",valign:"middle",vertical:!0}:{halign:"right",valign:"middle"},c=r.extend({},e.FORMATS,c),z=ra.ticks(b,g,c,t,k,m,n,q);
z.forEach(function(a){var c=a.time;a=a.text;new Ea(r.extend({layer:s,y:c,x:-12,stroke:l.getTimeAxisTickLabelColor(),text:a,key:"text-"+c},w))});d&&new db({layer:s,x0:0,y0:u[0],x1:0,y1:u[1],stroke:l.getTimeAxisLineColor(),key:"longline"});s.set({x:s.boundingBox().w});a.adjustColumnToFit();e=s.find({key:/^text/});e.forEach(function(a,c){var b=a.get("y"),f=z[c];new db({layer:s,x0:-3,y0:b,x1:4,y1:b,stroke:l.getTimeAxisTickMarkColor(),key:"marker-"+f.time})});s.set({scales:{y:b}});if(b=r.last(e))a=b.boundingBox(),
a=a.y+a.h,a>A[1]&&b.offsetY(A[1]-a);if(!h.showMeasure&&(h=r.first(e)))a=h.boundingBox(),b=a.y,b<A[0]&&h.offsetY(A[0]-b)}else a.adjustColumnToFit();return s}function ln(h,l,e,a){if(h){var b=h[0],c=h[1];l||(l=[null!=b?b:c,null!=c?c:b]);var f=l.slice();null!=b&&null!=c?(l=h,a=e=p.BOUND_TYPE.CUSTOM):null!=b?(l[0]=b,e=p.BOUND_TYPE.CUSTOM,l[0]>l[1]&&(l[1]=l[0]+mn,a=void 0)):null!=c&&(l[1]=c,a=p.BOUND_TYPE.CUSTOM,l[0]>l[1]&&(l[0]=l[1]-mn,e=void 0));h=(f[1]-f[0])/Gs-(l[1]-l[0]);0<h&&(b=function(a){return a===
p.BOUND_TYPE.CUSTOM?a:void 0},0>l[0]&&0>=l[1]?(l=[l[0]-h,l[1]],e=b(e)):(0<=l[0]&&0<l[1]?l=[l[0],l[1]+h]:(l=[l[0]-h/2,l[1]+h/2],e=b(e)),a=b(a)));return{domain:l,lowBound:e,highBound:a}}}function Hs(h,l,e){var a=Cb.getOrdinalDomain(l,h);l=a.length;if(0===l||1===l&&null==a[0])h.setIsAllNull(!0);else{var b;e.some(function(c){return Is(a,c)?(b=c,!0):!1});b&&(h=(new nn(h.getName(),h.getLabel())).setHotSpots(h.getHotSpots()).setValueColors(h.getValueColors()).setGeoKey(h.getGeoKey()).setValueLabels(h.getValueLabels()).setGeoMap(b.name))}h.setCardinality(l);
return h}function Is(h,l){var e;try{e=l.getGeometry()}catch(a){return!1}var b=e.getFeatureKeys();e=x.uniq([0,0.2,0.4,0.6,0.8,1].map(function(a){return Math.round(a*(h.length-1))})).map(function(a){return h[a]}).filter(function(a){return a});var c=3>=e.length?e.length:3,f=0,d=!1;e.some(function(a){-1<b.indexOf((""+a).toLowerCase())&&f++;return f===c?d=!0:!1});return d}function Vj(h,l,e){e=e?0:p.AXIS.NUM.Y.PADDING;return!l?0:(h?p.AXIS.NUM.Y.WIDTH:p.AXIS.NUM.X.HEIGHT)+e}function Js(h){var l=h.vertical,
e=h.showMeasure,a=h.showMeasure1,b=h.showMeasure2,c=h.showMeasureTitle,f=h.showMeasureTitle1,d=h.showMeasureTitle2,g=h.showDimensionTitle,k=h.hasTrellisColHeaders,m=h.hasTrellisRowHeaders,n=h.axisTitleMaxLines;void 0===n&&(n=[1,1,1]);var e=Vj(l,e,c),a=Vj(l,a,f),b=Vj(l,b,d),q=h.showDimension?p.CELL_PADDING:0,f=f?p.AXIS.NUM.TITLE.HEIGHT*n[1]:0,s=h.cellSizes||{};return{FlatWithHeader:{cells:[["title"],["*padding"],["plot"]],rows:[h.showMeasureTitle?p.AXIS.NUM.X.HEIGHT*n[0]:0,p.CELL_PADDING,"100%"],columns:["100%"]},
ParallelCoords:{cells:[["title","*padding","plot"]],rows:["100%"],columns:[h.showMeasureTitle?p.AXIS.NUM.X.HEIGHT:0,p.CELL_PADDING,"100%"]},Cartesian:{cells:[["*padding","*padding","*padding","measureAxis1Title"],["*padding","*padding","*padding","measureAxis1"],["axisYTitle","axisY","padding","plot"],["*padding","*padding","*padding","measureAxis2"],["*padding","*padding","*padding","measureAxis2Title"]],rows:[f,a,"100%",b,d?p.AXIS.NUM.TITLE.HEIGHT*n[2]:0],columns:[p.AXIS.TIME.TITLE.HEIGHT,s.axisY||
"40%",q,s.plot||"60%"],scrollY:["axisY","plot"],zIndex:{1:["measureAxis1","measureAxis2","axisY"],2:["plot"]}},LabelsLabels:{cells:[["*padding","*padding","*padding","axis-x-title"],["*padding","*padding","*padding","axis-x"],["*padding","*padding","*padding","padding-x"],["axis-y-title","axis-y","padding-y","plot"]],rows:[p.AXIS.LABELS.TITLE.HEIGHT*n[1],"40%",p.CELL_PADDING,"60%"],columns:[p.AXIS.LABELS.TITLE.HEIGHT*n[0],"40%",p.CELL_PADDING,"60%"],scrollY:["axis-y","plot"],scrollX:["axis-x","plot"],
zIndex:{1:["axis-x","axis-y"],2:["plot"]}},AxisAxis:{cells:[["axis-y-title","axis-y","plot"],["*padding","*padding","axis-x"],["*padding","*padding","axis-x-title"]],rows:["100%",p.AXIS.NUM.X.HEIGHT,p.AXIS.NUM.TITLE.HEIGHT*n[1]],columns:[p.AXIS.NUM.TITLE.HEIGHT*n[0],p.AXIS.NUM.Y.WIDTH,"100%"],zIndex:{1:["axis-x","axis-y"],2:["plot"]}},Waterfall:{cells:[["*padding","*padding","*padding","measureAxis1Title"],["*padding","*padding","*padding","axis"],["dimensionTitle","labels","padding","plot"]],rows:[f,
a,"100%"],columns:[g?p.AXIS.LABELS.TITLE.HEIGHT*n[0]:0,l?"80%":"40%",q,l?"20%":"60%"],zIndex:{1:["axis"],2:["labels","plot"]}},Pyramid:{cells:[["axis1-title","*padding","*padding","*padding","axis2-title"],["axis1","*padding","title","*padding","axis2"],["plot1","leftpadding","labels","rightpadding","plot2"]],rows:[c?p.AXIS.NUM.TITLE.HEIGHT*n[0]:0,e,"100%"],columns:[s.plot1||"40%",q,s.labels||"20%",q,s.plot2||"40%"],scrollY:["labels","plot1","plot2"],zIndex:{1:["axis1","axis2"],2:["plot1","plot2"]}},
Flat:{cells:[["plot"]],rows:["100%"],columns:["100%"]},Empty:{cells:[["empty"]],rows:["100%"],columns:["100%"]},SparkLine:{cells:[["first_val","*padding","spark","*padding","last_val"]],rows:["100%"],columns:[p.MARK.SPARKLINE.LABEL_WIDTH,p.CELL_PADDING,"100%",p.CELL_PADDING,p.MARK.SPARKLINE.LABEL_WIDTH]},Trellis:{cells:[["corner","colHeaders"],["rowHeaders","content"]],rows:[k?p.TRELLIS.HEADER.HEIGHT:0,"100%"],columns:[m?p.TRELLIS.HEADER.WIDTH:0,"100%"],scrollX:["content","colHeaders"],scrollY:["content",
"rowHeaders"],zIndex:{1:["colHeaders","rowHeaders"],2:["corner"]}},Legend:{cells:[["header"],["plot"]],rows:["80%","20%"],columns:["100%"],scrollY:["plot"],scrollX:["plot"]},ComboLegend:{cells:[["topLegend"],["bottomLegend"]],rows:["50%","50%"],columns:["100%"],scrollY:["bottomLegend"]},MultipleLegends:{cells:[["legends"]],rows:["100%"],columns:["100%"],scrollY:["legends"]}}}function Ks(h,l,e,a){void 0===l&&(l=[]);if(!l.length)return[];var b=l.map(function(a){return Ls(a,e)}),c=[];b[0]({},c,b.slice(1),
h.getColumns(),[]);return c.map(function(c){a&&a(c);c=new Vb(c);Ms(c,l);return c})}function Ms(h,l){l.forEach(function(e){var a=e.feature;if(a){var b=e.type;e=e.key;var c=h.getConfig(),f=b===xh.ARRAY?r.flatten(c[e].map(function(a){return a.column})):c[e].column;(r.isArray(a)?a:[a]).forEach(function(a){h.hasFeature(a)?h.setFeature(a,{column:h.getFeature(a).column.concat(f)}):h.setFeature(a,{column:f})})}})}function Ls(h,l){var e=h.key,a=h.type,b=h.columnType,c=h.length,f=h.properties;return function(d,
g,k,h,n){var q=Ns(b,h);Os(q,n,c).forEach(function(c){var b=x.deepCopy(d);Ps(b,e,a,f,c);var n=k[0],q=Qs(h,c);if(n)n(b,g,k.slice(1),q,c);else{c=l.useAllNonMeasure;var n=l.useAllMeasure,p=!0;n&&n?p=0===q.length:n?p=q.every(function(a){return a.getType()!==on.MEASURE}):c&&(p=q.every(function(a){return a.getType()===on.MEASURE}));p&&g.push(b)}})}}function Qs(h,l){var e=l.map(function(a){return a.getName()});return h.filter(function(a){return-1===e.indexOf(a.getName())})}function Ps(h,l,e,a,b){void 0===
e&&(e=xh.SECTION);e===xh.SECTION?(h[l]=a?x.deepCopy(a):{},h[l].column=b.map(function(a){return a.getName()})):e===xh.ARRAY&&(h[l]=b.map(function(c){return r.extend({},a,{column:[c.getName()]})}))}function Ns(h,l){if(!h)return[];var e=[],a=-1<h.indexOf(pn)?h.split(pn):[h];l.forEach(function(b){!b.isAllNull()&&-1<a.indexOf(b.getType())&&e.push(b)});return e}function Os(h,l,e){return r.isArray(e)?r.flatten(e.map(function(a){return qn(h,l,a)})):qn(h,l,e)}function qn(h,l,e){var a=[];e===Sd.ALL?a=[h]:r.isString(e)?
e.slice(0,Sd.FIRST.length)===Sd.FIRST?(l=parseInt(e.slice(Sd.FIRST.length)),a=0<=l&&l<=h.length?[h.slice(0,l)]:[]):e.slice(0,Sd.PREV.length)===Sd.PREV&&(h=parseInt(e.slice(Sd.PREV.length)),a=-1===h?l.length?[l.slice(-1)]:[]:0<=h&&h<=l.length?[l.slice(0,h)]:[]):a=e?x.k_combinations(h,e):[[]];return a}function rn(h){return function(l){r.isArray(l)||(l=r.extend({},l),l.shape&&(l.shape=yh.convertShape(l.shape)),l.hotSpot&&(l.hotSpot={box:yh.convertBox(l.hotSpot.getInfo().box)}));h(l)}}function Wj(h){return h&&
h.__esModule?h:{"default":h}}function Xj(h){return h&&h.__esModule?h:{"default":h}}function Yj(h){return h&&h.__esModule?h:{"default":h}}function zh(h){return h&&h.__esModule?h:{"default":h}}function Ah(h){return h&&h.__esModule?h:{"default":h}}function sn(h,l){var e=tn(l,!0);return[Bh.getTextWidth(e(h[0]))+Ch,Bh.getTextWidth(e(h[1]))+Ch]}function Dh(h){return h&&h.__esModule?h:{"default":h}}function Rs(h,l){var e=l.theme,a=l.format,b=l.maxValue,c=l.maxRadius,f=l.swatchSize,d=l.transforms,g=l.swatchPadding,
k=un.sqrt().domain([0,b]).range([0,c]),m=d.rotate,b=h.getCell(),d=b.get("h"),n=b.get("w"),c=Math.min(Math.max(c,Db.MARK.POINT.MIN_RADIUS),f),q=2*f+g,c=[c,2*c/3,c/2].filter(function(a){return a>Db.MARK.POINT.MIN_RADIUS}),s=g/2,u=(q-(new Ss).getH())/2,A=m?f+2*g:f+f/2+2*g,t=0,p=c.map(function(c,b){var f=new vn({key:"key_label"+b,x:m?n/2+g/2:0,y:0,halign:m?"right":"left",valign:"middle",vertical:m,padding:{left:m?A:A-g/2,right:m?s:s-g/2,top:u,bottom:u},stroke:e.getLegendTextColor(),format:a,compact:!0,
number:k.invert(c)});t=Math.max(t,f.getTextW());return f}),r=Math.floor(d/(m?t+2*f+g:q));1>r||1>c.length?b.remove(h):(c.forEach(function(a,c){if(!(a<Db.MARK.POINT.MIN_RADIUS||c>=r)){var b=new Ts({layer:h,key:"key"+c,canHover:!1});new wn({shapeGroup:b,key:"key_dot"+c,x:m?n/2+s:s+f,y:m?s+f:0,r:a,fill:e.getRadialLegendBGColor(),stroke:e.getRadialLegendBorderColor(),skipInFind:!0});p[c].prependTo(b);m?b.offsetX(-g/2):b.offsetY(q/2)}}),h.applyLayout({type:"vbox"}))}function Us(h,l){var e=l.theme,a=l.maxValue,
b=l.maxRadius,c=l.format,f=h.getCell(),d=f.get("w"),g=f.get("h"),k=l.swatchPadding,m=l.transforms.rotate,n=un.sqrt().domain([0,a]).range([0,b]);if(0!==a){var b=Math.min(d-k,g-k,2*b,2*Zj),g=n.invert(b/2),a=Math.min(g,a),q=m?d/2+b/2:b+k/2,s=b/2+k/2,u=0,A=0,t=[];[a,4*a/9,a/9].forEach(function(a){var c=n.scale(a);if(!(c<Db.RADIAL_LEGEND.MIN_RADIUS)){if(0<u){var b=n.scale(t[u-1]);if(2*c>2*b-Db.RADIAL_LEGEND.TEXT.SIZE-3)return}u++;t.push(a);A<c&&(A=c)}});u?t.forEach(function(a,b){var f=n.scale(a),g=q-f;
new wn({layer:h,key:"key_dot"+b,x:m?d-g:s,y:m?s:g,r:f,fill:e.getRadialLegendBGColor(),stroke:e.getRadialLegendBorderColor(),lineWidth:Db.RADIAL_LEGEND.BORDER.WIDTH});new vn({layer:h,x:m?d-g+f-Db.RADIAL_LEGEND.TEXT.PADDING:s,y:m?s:g-f+Db.RADIAL_LEGEND.TEXT.PADDING-3,vertical:m,halign:"center",valign:"middle",format:c,compact:!0,number:a,stroke:e.getRadialLegendTextColor(),key:"key_label"+b,size:Db.RADIAL_LEGEND.TEXT.SIZE})}):f.remove(h)}}function rd(h){return h&&h.__esModule?h:{"default":h}}function Vs(h,
l,e,a){return h===ak.BINS&&!l?!0:Nf.includes([Sa.SELECTMODE.SINGLE,Sa.SELECTMODE.SINGLE_REQUIRED],a)?h===ak.BINS||e||1<l:!1}function Of(h){return h&&h.__esModule?h:{"default":h}}function bk(h){return h&&h.__esModule?h:{"default":h}}function Pf(h){return h&&h.__esModule?h:{"default":h}}function ck(h,l){return h.map(function(e,a){return Ws.formatColumnValue(e,l[a])}).join(" - ")}function Qf(h){return h&&h.__esModule?h:{"default":h}}function Eh(h){return h&&h.__esModule?h:{"default":h}}function Fh(h){return h&&
h.__esModule?h:{"default":h}}function dk(){return{showAxis:!0,showTitle:!0,title:"",showZero:!0,scale:ba.SCALE.LINEAR,titleMaxLines:1}}function ek(h){return h&&h.__esModule?h:{"default":h}}function fk(h){return h&&h.__esModule?h:{"default":h}}function Gh(h){return h&&h.__esModule?h:{"default":h}}function Rf(h){return h&&h.__esModule?h:{"default":h}}function Hh(h){return h&&h.__esModule?h:{"default":h}}function Sf(h){return h&&h.__esModule?h:{"default":h}}function Ih(h){return h&&h.__esModule?h:{"default":h}}
function Jh(h){return h&&h.__esModule?h:{"default":h}}function Kh(h){return h&&h.__esModule?h:{"default":h}}function Xs(h){var l=h.valueType;!1===h.showValue?h.valueType=gk.VALUETYPE.NONE:l===gk.VALUETYPE.PERCENT?(h.showPercentage=!0,h.valueType=gk.VALUETYPE.NONE):h.valueType=xn.default.getValueType(h);return h}function Tf(h){return h&&h.__esModule?h:{"default":h}}function Uf(h){return h&&h.__esModule?h:{"default":h}}function Lh(h){return h&&h.__esModule?h:{"default":h}}function Vf(h){return h&&h.__esModule?
h:{"default":h}}function Mh(h){return h&&h.__esModule?h:{"default":h}}function hk(h){return h&&h.__esModule?h:{"default":h}}function Ys(h){var l=h.color;if(l&&"bins"===l.type){var e=l.breakpoints,a=l.bands;e&&e[0]>e[e.length-1]&&(l.breakpoints=e.reverse(),a&&(l.bands=a.reverse()))}return h}function Nh(h){return h&&h.__esModule?h:{"default":h}}function yn(){return{showAxis:!0,showTitle:!0,title:"",titleMaxLines:1,showZero:!0,scale:mb.SCALE.LINEAR}}function Wf(h){return h&&h.__esModule?h:{"default":h}}
function Xf(h){return h&&h.__esModule?h:{"default":h}}function Yf(h){return h&&h.__esModule?h:{"default":h}}function Oh(h){return h&&h.__esModule?h:{"default":h}}function ik(h){return h&&h.__esModule?h:{"default":h}}function Zf(h){return h&&h.__esModule?h:{"default":h}}function $f(h){return h&&h.__esModule?h:{"default":h}}function Ph(h){return h&&h.__esModule?h:{"default":h}}function xa(h){return h&&h.__esModule?h:{"default":h}}function zn(h){var l=An.default[h]||h;l!==h&&console.warn(h+" has been deprecated. Please update your code to use "+
l);return l}function Bn(h){h=zn(h);return Cn[h].getMetadata()}var U={exports:{}};(function(h){(function(){(function(){function l(a,c){a.push.apply(a,c);return a}function e(a){return function(c){return null==c?Y:c[a]}}function a(a,c,b,f,d){d(a,function(a,d,e){b=f?(f=!1,a):c(b,a,d,e)});return b}function b(a,c){return v(c,function(c){return a[c]})}function c(a){return a instanceof f?a:new f(a)}function f(a,c){this.__wrapped__=a;this.__actions__=[];this.__chain__=!!c}function d(a,c,b){if("function"!=
typeof a)throw new TypeError(V);return setTimeout(function(){a.apply(Y,b)},c)}function g(a,c){var b=!0;la(a,function(a,f,d){return b=!!c(a,f,d)});return b}function k(a,c,b){for(var f=-1,d=a.length;++f<d;){var e=a[f],g=c(e);if(null!=g&&(k===Y?g===g:b(g,k)))var k=g,h=e}return h}function m(a,c){var b=[];la(a,function(a,f,d){c(a,f,d)&&b.push(a)});return b}function n(a,c,b,f,d){var e=-1,g=a.length;b||(b=He);for(d||(d=[]);++e<g;){var k=a[e];0<c&&b(k)?1<c?n(k,c-1,b,f,d):l(d,k):f||(d[d.length]=k)}return d}
function q(a,c){return a&&Oa(a,c,Da)}function s(a,c){return m(c,function(c){return H(a[c])})}function u(a,c){return a>c}function A(a,c,b,f,d){return a===c?!0:null==a||null==c||!E(a)&&!E(c)?a!==a&&c!==c:t(a,c,b,f,A,d)}function t(a,c,b,f,d,e){var g=Ec(a),k=Ec(c),h=g?N:sa.call(a),l=k?N:sa.call(c),h=h==Z?fa:h,l=l==Z?fa:l,m=h==fa,k=l==fa,l=h==l;e||(e=[]);var n=Ca(e,function(c){return c[0]==a}),q=Ca(e,function(a){return a[0]==c});if(n&&q)return n[1]==c;e.push([a,c]);e.push([c,a]);if(l&&!m)return b=g?Kf(a,
c,b,f,d,e):Lf(a,c,h,b,f,d,e),e.pop(),b;if(!(b&W)&&(g=m&&na.call(a,"__wrapped__"),h=k&&na.call(c,"__wrapped__"),g||h))return g=g?a.value():a,h=h?c.value():c,b=d(g,h,b,f,e),e.pop(),b;if(!l)return!1;b=Mf(a,c,b,f,d,e);e.pop();return b}function p(a){return"function"==typeof a?a:null==a?Eb:("object"==typeof a?y:e)(a)}function r(a,c){return a<c}function v(a,c){var b=-1,f=Ba(a)?Array(a.length):[];la(a,function(a,d,e){f[++b]=c(a,d,e)});return f}function y(a){var c=ja(a);return function(b){var f=c.length;if(null==
b)return!f;for(b=Object(b);f--;){var d=c[f];if(!(d in b&&A(a[d],b[d],W|S)))return!1}return!0}}function K(a,c){a=Object(a);return Rd(c,function(c,b){b in a&&(c[b]=a[b]);return c},{})}function B(a,c){return ua(Wc(a,c,Eb),a+"")}function T(a,c,b){var f=-1,d=a.length;0>c&&(c=-c>d?0:d+c);b=b>d?d:b;0>b&&(b+=d);d=c>b?0:b-c>>>0;c>>>=0;for(b=Array(d);++f<d;)b[f]=a[f+c];return b}function X(a,c){var b;la(a,function(a,f,d){b=c(a,f,d);return!b});return!!b}function eb(a,c){return Rd(c,function(a,c){return c.func.apply(c.thisArg,
l([a],c.args))},a)}function L(a,c,b,f){var d=!b;b||(b={});for(var e=-1,g=c.length;++e<g;){var k=c[e],h=f?f(b[k],a[k],k,b,a):Y;h===Y&&(h=a[k]);if(d)b[k]=h;else{var l=b,m=l[k];if(!na.call(l,k)||!I(m,h)||h===Y&&!(k in l))l[k]=h}}return b}function x(a){return B(function(c,b){var f=-1,d=b.length,e=1<d?b[d-1]:Y,e=3<a.length&&"function"==typeof e?(d--,e):Y;for(c=Object(c);++f<d;){var g=b[f];g&&a(c,g,f,e)}return c})}function sb(a){return function(){var c=arguments,b=Ja(a.prototype),c=a.apply(b,c);return G(c)?
c:b}}function tb(a,c,b,f){function d(){for(var c=-1,k=arguments.length,h=-1,l=f.length,m=Array(l+k),n=this&&this!==oa&&this instanceof d?g:a;++h<l;)m[h]=f[h];for(;k--;)m[h++]=arguments[++c];return n.apply(e?b:this,m)}if("function"!=typeof a)throw new TypeError(V);var e=c&$,g=sb(a);return d}function Kf(a,c,b,f,d,e){var g=b&W,k=a.length,h=c.length;if(k!=h&&!(g&&h>k))return!1;for(var g=-1,h=!0,l=b&S?[]:Y;++g<k;){var m=a[g],n=c[g];if(void 0!==Y){h=!1;break}if(l){if(!X(c,function(a,c){if(!jn(l,c)&&(m===
a||d(m,a,b,f,e)))return l.push(c)})){h=!1;break}}else if(!(m===n||d(m,n,b,f,e))){h=!1;break}}return h}function Lf(a,c,b,f,d,e,g){switch(b){case ba:case aa:case ha:return I(+a,+c);case ca:return a.name==c.name&&a.message==c.message;case ga:case pa:return a==c+""}return!1}function Mf(a,c,b,f,d,e){var g=b&W,k=Da(a),h=k.length,l=Da(c).length;if(h!=l&&!g)return!1;for(var m=h;m--;){var n=k[m];if(!(g?n in c:na.call(c,n)))return!1}for(l=!0;++m<h;){var n=k[m],q=a[n],s=c[n];if(!(void 0===Y&&(q===s||d(q,s,b,
f,e)))){l=!1;break}g||(g="constructor"==n)}l&&!g&&(b=a.constructor,f=c.constructor,b!=f&&("constructor"in a&&"constructor"in c&&!("function"==typeof b&&b instanceof b&&"function"==typeof f&&f instanceof f))&&(l=!1));return l}function He(a){return Ec(a)||Ia(a)}function qd(a){var c=[];if(null!=a)for(var b in Object(a))c.push(b);return c}function Wc(a,c,b){c=Ga(c===Y?a.length-1:c,0);return function(){for(var f=arguments,d=-1,e=Ga(f.length-c,0),g=Array(e);++d<e;)g[d]=f[c+d];d=-1;for(e=Array(c+1);++d<
c;)e[d]=f[d];e[c]=b(g);return a.apply(this,e)}}function C(a){return(null==a?0:a.length)?n(a,1):[]}function D(a){return a&&a.length?a[0]:Y}function jn(a,c,b){var f=null==a?0:a.length;b="number"==typeof b?0>b?Ga(f+b,0):b:0;b=(b||0)-1;for(var d=c===c;++b<f;){var e=a[b];if(d?e===c:e!==e)return b}return-1}function Dc(a,c){return la(a,p(c))}function Rd(c,b,f){return a(c,p(b),f,3>arguments.length,la)}function F(a,c){var b;if("function"!=typeof c)throw new TypeError(V);a=Ra(a);return function(){0<--a&&(b=
c.apply(this,arguments));1>=a&&(c=Y);return b}}function I(a,c){return a===c||a!==a&&c!==c}function Ba(a){return null!=a&&"number"==typeof a.length&&(-1<a.length&&0==a.length%1&&a.length<=P)&&!H(a)}function H(a){if(!G(a))return!1;a=sa.call(a);return a==ia||a==da||a==ea||a==ma}function G(a){var c=typeof a;return null!=a&&("object"==c||"function"==c)}function E(a){return null!=a&&"object"==typeof a}function J(a){return"number"==typeof a||E(a)&&sa.call(a)==ha}function O(a){return"string"==typeof a||!Ec(a)&&
E(a)&&sa.call(a)==pa}function M(a){return"string"==typeof a?a:null==a?"":a+""}function ag(a){return null==a?[]:b(a,Da(a))}function Eb(a){return a}function Q(a,c,b){var f=Da(c),d=s(c,f);if(null==b&&(!G(c)||!d.length&&f.length))b=c,c=a,a=this,d=s(c,Da(c));var e=!(G(b)&&"chain"in b)||!!b.chain,g=H(a);la(d,function(b){var f=c[b];a[b]=f;g&&(a.prototype[b]=function(){var c=this.__chain__;if(e||c){var b=a(this.__wrapped__);(b.__actions__=T(this.__actions__,0,this.__actions__.length)).push({func:f,args:arguments,
thisArg:a});b.__chain__=c;return b}return f.apply(a,l([this.value()],arguments))})});return a}function Td(){}var Y,V="Expected a function",W=1,S=2,$=1,R=1/0,P=9007199254740991,Z="[object Arguments]",N="[object Array]",ea="[object AsyncFunction]",ba="[object Boolean]",aa="[object Date]",ca="[object Error]",ia="[object Function]",da="[object GeneratorFunction]",ha="[object Number]",fa="[object Object]",ma="[object Proxy]",ga="[object RegExp]",pa="[object String]",ra=/[&<>"']/g,xa=RegExp(ra.source),
ta=/^(?:0|[1-9]\d*)$/,qa="object"==typeof self&&self&&self.Object===Object&&self,oa="object"==typeof h&&h&&h.Object===Object&&h||qa||Function("return this")(),va="object"==typeof U.exports&&U.exports&&!U.exports.nodeType&&U.exports,za=va&&U&&!U.nodeType&&U,ka=function(a){return function(c){return null==a?Y:a[c]}}({"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"}),Ea=Array.prototype,Aa=Object.prototype,na=Aa.hasOwnProperty,ya=0,sa=Aa.toString,Ha=oa._,Ka=Object.create,
Na=Aa.propertyIsEnumerable,La=oa.isFinite,ja=function(a,c){return function(b){return a(c(b))}}(Object.keys,Object),Ga=Math.max,Ja=function(){function a(){}return function(c){if(!G(c))return{};if(Ka)return Ka(c);a.prototype=c;c=new a;a.prototype=Y;return c}}();f.prototype=Ja(c.prototype);f.prototype.constructor=f;var la=function(a,c){return function(b,f){if(null==b)return b;if(!Ba(b))return a(b,f);for(var d=b.length,e=c?d:-1,g=Object(b);(c?e--:++e<d)&&!1!==f(g[e],e,g););return b}}(q),Oa=function(a){return function(c,
b,f){var d=-1,e=Object(c);f=f(c);for(var g=f.length;g--;){var k=f[a?g:++d];if(!1===b(e[k],k,e))break}return c}}(),ua=Eb,Ca=function(a){return function(c,b,f){var d=Object(c);if(!Ba(c)){var e=p(b,3);c=Da(c);b=function(a){return e(d[a],a,d)}}b=a(c,b,f);return-1<b?d[e?c[b]:b]:Y}}(function(a,c,b){var f=null==a?0:a.length;if(!f)return-1;b=null==b?0:Ra(b);0>b&&(b=Ga(f+b,0));a:{c=p(c,3);f=a.length;for(b+=-1;++b<f;)if(c(a[b],b,a)){a=b;break a}a=-1}return a}),Qa=B(function(a,c,b){return tb(a,$|32,c,b)}),wa=
B(function(a,c){return d(a,1,c)}),Pa=B(function(a,c,b){return d(a,Sa(c)||0,b)}),Ia=Td(function(){return arguments}())?Td:function(a){return E(a)&&na.call(a,"callee")&&!Na.call(a,"callee")},Ec=Array.isArray,Ra=Number,Sa=Number,Ma=x(function(a,c){L(c,ja(c),a)}),Ta=x(function(a,c){L(c,qd(c),a)}),Ua=B(function(a,c){a=Object(a);var b=-1,f=c.length,d=2<f?c[2]:Y,e;if(e=d){e=c[0];var g=c[1];if(G(d)){var k=typeof g;if("number"==k){if(k=Ba(d))var k=d.length,h=typeof g,k=null==k?P:k,k=!!k&&("number"==h||"symbol"!=
h&&ta.test(g))&&-1<g&&0==g%1&&g<k}else k="string"==k&&g in d;e=k?I(d[g],e):!1}else e=!1}for(e&&(f=1);++b<f;){d=c[b];e=Va(d);g=-1;for(k=e.length;++g<k;){var h=e[g],l=a[h];if(l===Y||I(l,Aa[h])&&!na.call(a,h))a[h]=d[h]}}return a}),Da=ja,Va=qd,Fa=function(a){return ua(Wc(a,Y,C),a+"")}(function(a,c){return null==a?{}:K(a,c)}),Wa=p;c.assignIn=Ta;c.before=F;c.bind=Qa;c.chain=function(a){a=c(a);a.__chain__=!0;return a};c.compact=function(a){return m(a,Boolean)};c.concat=function(){var a=arguments.length;
if(!a)return[];for(var c=Array(a-1),b=arguments[0];a--;)c[a-1]=arguments[a];return l(Ec(b)?T(b,0,b.length):[b],n(c,1))};c.create=function(a,c){var b=Ja(a);return null==c?b:Ma(b,c)};c.defaults=Ua;c.defer=wa;c.delay=Pa;c.filter=function(a,c){return m(a,p(c))};c.flatten=C;c.flattenDeep=function(a){return(null==a?0:a.length)?n(a,R):[]};c.iteratee=Wa;c.keys=Da;c.map=function(a,c){return v(a,p(c))};c.matches=function(a){return y(Ma({},a))};c.mixin=Q;c.negate=function(a){if("function"!=typeof a)throw new TypeError(V);
return function(){return!a.apply(this,arguments)}};c.once=function(a){return F(2,a)};c.pick=Fa;c.slice=function(a,c,b){var f=null==a?0:a.length;b=b===Y?f:+b;return f?T(a,null==c?0:+c,b):[]};c.sortBy=function(a,c){var b=0;c=p(c);return v(v(a,function(a,f,d){return{value:a,index:b++,criteria:c(a,f,d)}}).sort(function(a,c){var b;a:{b=a.criteria;var f=c.criteria;if(b!==f){var d=b!==Y,e=null===b,g=b===b,k=f!==Y,h=null===f,l=f===f;if(!h&&b>f||e&&k&&l||!d&&l||!g){b=1;break a}if(!e&&b<f||h&&d&&g||!k&&g||
!l){b=-1;break a}}b=0}return b||a.index-c.index}),e("value"))};c.tap=function(a,c){c(a);return a};c.thru=function(a,c){return c(a)};c.toArray=function(a){return!Ba(a)?ag(a):a.length?T(a,0,a.length):[]};c.values=ag;c.extend=Ta;Q(c,c);c.clone=function(a){return!G(a)?a:Ec(a)?T(a,0,a.length):L(a,ja(a))};c.escape=function(a){return(a=M(a))&&xa.test(a)?a.replace(ra,ka):a};c.every=function(a,c,b){c=b?Y:c;return g(a,p(c))};c.find=Ca;c.forEach=Dc;c.has=function(a,c){return null!=a&&na.call(a,c)};c.head=D;
c.identity=Eb;c.indexOf=jn;c.isArguments=Ia;c.isArray=Ec;c.isBoolean=function(a){return!0===a||!1===a||E(a)&&sa.call(a)==ba};c.isDate=function(a){return E(a)&&sa.call(a)==aa};c.isEmpty=function(a){return Ba(a)&&(Ec(a)||O(a)||H(a.splice)||Ia(a))?!a.length:!ja(a).length};c.isEqual=function(a,c){return A(a,c)};c.isFinite=function(a){return"number"==typeof a&&La(a)};c.isFunction=H;c.isNaN=function(a){return J(a)&&a!=+a};c.isNull=function(a){return null===a};c.isNumber=J;c.isObject=G;c.isRegExp=function(a){return E(a)&&
sa.call(a)==ga};c.isString=O;c.isUndefined=function(a){return a===Y};c.last=function(a){var c=null==a?0:a.length;return c?a[c-1]:Y};c.max=function(a){return a&&a.length?k(a,Eb,u):Y};c.min=function(a){return a&&a.length?k(a,Eb,r):Y};c.noConflict=function(){oa._===this&&(oa._=Ha);return this};c.noop=Td;c.reduce=Rd;c.result=function(a,c,b){c=null==a?Y:a[c];c===Y&&(c=b);return H(c)?c.call(a):c};c.size=function(a){if(null==a)return 0;a=Ba(a)?a:ja(a);return a.length};c.some=function(a,c,b){c=b?Y:c;return X(a,
p(c))};c.uniqueId=function(a){var c=++ya;return M(a)+c};c.each=Dc;c.first=D;Q(c,function(){var a={};q(c,function(b,f){na.call(c.prototype,f)||(a[f]=b)});return a}(),{chain:!1});c.VERSION="4.17.15";la("pop join replace reverse split push shift sort splice unshift".split(" "),function(a){var b=(/^(?:replace|split)$/.test(a)?String.prototype:Ea)[a],f=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:pop|join|replace|shift)$/.test(a);c.prototype[a]=function(){var a=arguments;if(d&&!this.__chain__){var c=
this.value();return b.apply(Ec(c)?c:[],a)}return this[f](function(c){return b.apply(Ec(c)?c:[],a)})}});c.prototype.toJSON=c.prototype.valueOf=c.prototype.value=function(){return eb(this.__wrapped__,this.__actions__)};za&&((za.exports=c)._=c,va._=c)}).call(this)}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var U=U.exports,Fc={exports:{}};(function(h){(function(){(function(){function l(a,c){a.push.apply(a,c);return a}
function e(a){return function(c){return null==c?Y:c[a]}}function a(a,c,b,f,d){d(a,function(a,d,e){b=f?(f=!1,a):c(b,a,d,e)});return b}function b(a,c){return v(c,function(c){return a[c]})}function c(a){return a instanceof f?a:new f(a)}function f(a,c){this.__wrapped__=a;this.__actions__=[];this.__chain__=!!c}function d(a,c,b){if("function"!=typeof a)throw new TypeError(U);return setTimeout(function(){a.apply(Y,b)},c)}function g(a,c){var b=!0;ua(a,function(a,f,d){return b=!!c(a,f,d)});return b}function k(a,
c,b){for(var f=-1,d=a.length;++f<d;){var e=a[f],g=c(e);if(null!=g&&(k===Y?g===g:b(g,k)))var k=g,h=e}return h}function m(a,c){var b=[];ua(a,function(a,f,d){c(a,f,d)&&b.push(a)});return b}function n(a,c,b,f,d){var e=-1,g=a.length;b||(b=He);for(d||(d=[]);++e<g;){var k=a[e];0<c&&b(k)?1<c?n(k,c-1,b,f,d):l(d,k):f||(d[d.length]=k)}return d}function q(a,c){return a&&Na(a,c,Fa)}function s(a,c){return m(c,function(c){return G(a[c])})}function u(a,c){return a>c}function A(a,c,b,f,d){return a===c?!0:null==a||
null==c||!J(a)&&!J(c)?a!==a&&c!==c:t(a,c,b,f,A,d)}function t(a,c,b,f,d,e){var g=wa(a),k=wa(c),h=g?ba:ka.call(a),l=k?ba:ka.call(c),h=h==N?ga:h,l=l==N?ga:l,m=h==ga,k=l==ga,l=h==l;e||(e=[]);var n=Ia(e,function(c){return c[0]==a}),q=Ia(e,function(a){return a[0]==c});if(n&&q)return n[1]==c;e.push([a,c]);e.push([c,a]);if(l&&!m)return b=g?Kf(a,c,b,f,d,e):Lf(a,c,h,b,f,d,e),e.pop(),b;if(!(b&S)&&(g=m&&ja.call(a,"__wrapped__"),h=k&&ja.call(c,"__wrapped__"),g||h))return g=g?a.value():a,h=h?c.value():c,b=d(g,
h,b,f,e),e.pop(),b;if(!l)return!1;b=Mf(a,c,b,f,d,e);e.pop();return b}function p(a){return"function"==typeof a?a:null==a?Eb:("object"==typeof a?y:e)(a)}function r(a,c){return a<c}function v(a,c){var b=-1,f=Ba(a)?Array(a.length):[];ua(a,function(a,d,e){f[++b]=c(a,d,e)});return f}function y(a){var c=ya(a);return function(b){var f=c.length;if(null==b)return!f;for(b=Object(b);f--;){var d=c[f];if(!(d in b&&A(a[d],b[d],S|$)))return!1}return!0}}function K(a,c){a=Object(a);return Rd(c,function(c,b){b in a&&
(c[b]=a[b]);return c},{})}function B(a,c){return La(Wc(a,c,Eb),a+"")}function T(a,c,b){var f=-1,d=a.length;0>c&&(c=-c>d?0:d+c);b=b>d?d:b;0>b&&(b+=d);d=c>b?0:b-c>>>0;c>>>=0;for(b=Array(d);++f<d;)b[f]=a[f+c];return b}function X(a,c){var b;ua(a,function(a,f,d){b=c(a,f,d);return!b});return!!b}function eb(a,c){return Rd(c,function(a,c){return c.func.apply(c.thisArg,l([a],c.args))},a)}function L(a,c,b,f){var d=!b;b||(b={});for(var e=-1,g=c.length;++e<g;){var k=c[e],h=f?f(b[k],a[k],k,b,a):Y;h===Y&&(h=a[k]);
if(d)b[k]=h;else{var l=b,m=l[k];if(!ja.call(l,k)||!I(m,h)||h===Y&&!(k in l))l[k]=h}}return b}function x(a){return B(function(c,b){var f=-1,d=b.length,e=1<d?b[d-1]:Y,e=3<a.length&&"function"==typeof e?(d--,e):Y;for(c=Object(c);++f<d;){var g=b[f];g&&a(c,g,f,e)}return c})}function sb(a){return function(){var c=arguments,b=Ha(a.prototype),c=a.apply(b,c);return E(c)?c:b}}function tb(a,c,b,f){function d(){for(var c=-1,k=arguments.length,h=-1,l=f.length,m=Array(l+k),n=this&&this!==la&&this instanceof d?
g:a;++h<l;)m[h]=f[h];for(;k--;)m[h++]=arguments[++c];return n.apply(e?b:this,m)}if("function"!=typeof a)throw new TypeError(U);var e=c&P,g=sb(a);return d}function Kf(a,c,b,f,d,e){var g=b&S,k=a.length,h=c.length;if(k!=h&&!(g&&h>k))return!1;for(var g=-1,h=!0,l=b&$?[]:Y;++g<k;){var m=a[g],n=c[g];if(void 0!==Y){h=!1;break}if(l){if(!X(c,function(a,c){if(!F(l,c)&&(m===a||d(m,a,b,f,e)))return l.push(c)})){h=!1;break}}else if(!(m===n||d(m,n,b,f,e))){h=!1;break}}return h}function Lf(a,c,b,f,d,e,g){switch(b){case ea:case fa:case da:return I(+a,
+c);case ca:return a.name==c.name&&a.message==c.message;case ma:case na:return a==c+""}return!1}function Mf(a,c,b,f,d,e){var g=b&S,k=Fa(a),h=k.length,l=Fa(c).length;if(h!=l&&!g)return!1;for(var m=h;m--;){var n=k[m];if(!(g?n in c:ja.call(c,n)))return!1}for(l=!0;++m<h;){var n=k[m],q=a[n],s=c[n];if(!(void 0===Y&&(q===s||d(q,s,b,f,e)))){l=!1;break}g||(g="constructor"==n)}l&&!g&&(b=a.constructor,f=c.constructor,b!=f&&("constructor"in a&&"constructor"in c&&!("function"==typeof b&&b instanceof b&&"function"==
typeof f&&f instanceof f))&&(l=!1));return l}function He(a){return wa(a)||Ma(a)}function qd(a){var c=[];if(null!=a)for(var b in Object(a))c.push(b);return c}function Wc(a,c,b){c=Ca(c===Y?a.length-1:c,0);return function(){for(var f=arguments,d=-1,e=Ca(f.length-c,0),g=Array(e);++d<e;)g[d]=f[c+d];d=-1;for(e=Array(c+1);++d<c;)e[d]=f[d];e[c]=b(g);return a.apply(this,e)}}function C(a){return(null==a?0:a.length)?n(a,1):[]}function D(a){return a&&a.length?a[0]:Y}function F(a,c,b){var f=null==a?0:a.length;
b="number"==typeof b?0>b?Ca(f+b,0):b:0;b=(b||0)-1;for(var d=c===c;++b<f;){var e=a[b];if(d?e===c:e!==e)return b}return-1}function Dc(a,c){return ua(a,p(c))}function Rd(c,b,f){return a(c,p(b),f,3>arguments.length,ua)}function H(a,c){var b;if("function"!=typeof c)throw new TypeError(U);a=Pa(a);return function(){0<--a&&(b=c.apply(this,arguments));1>=a&&(c=Y);return b}}function I(a,c){return a===c||a!==a&&c!==c}function Ba(a){return null!=a&&"number"==typeof a.length&&(-1<a.length&&0==a.length%1&&a.length<=
Z)&&!G(a)}function G(a){if(!E(a))return!1;a=ka.call(a);return a==ha||a==ia||a==aa||a==oa}function E(a){var c=typeof a;return null!=a&&("object"==c||"function"==c)}function J(a){return null!=a&&"object"==typeof a}function O(a){return"number"==typeof a||J(a)&&ka.call(a)==da}function M(a){return"string"==typeof a||!wa(a)&&J(a)&&ka.call(a)==na}function V(a){return"string"==typeof a?a:null==a?"":a+""}function Q(a){return null==a?[]:b(a,Fa(a))}function Eb(a){return a}function W(a,c,b){var f=Fa(c),d=s(c,
f);if(null==b&&(!E(c)||!d.length&&f.length))b=c,c=a,a=this,d=s(c,Fa(c));var e=!(E(b)&&"chain"in b)||!!b.chain,g=G(a);ua(d,function(b){var f=c[b];a[b]=f;g&&(a.prototype[b]=function(){var c=this.__chain__;if(e||c){var b=a(this.__wrapped__);(b.__actions__=T(this.__actions__,0,this.__actions__.length)).push({func:f,args:arguments,thisArg:a});b.__chain__=c;return b}return f.apply(a,l([this.value()],arguments))})});return a}function Td(){}var Y,U="Expected a function",S=1,$=2,P=1,R=1/0,Z=9007199254740991,
N="[object Arguments]",ba="[object Array]",aa="[object AsyncFunction]",ea="[object Boolean]",fa="[object Date]",ca="[object Error]",ha="[object Function]",ia="[object GeneratorFunction]",da="[object Number]",ga="[object Object]",oa="[object Proxy]",ma="[object RegExp]",na="[object String]",pa=/[&<>"']/g,ra=RegExp(pa.source),sa=/^(?:0|[1-9]\d*)$/,xa="object"==typeof self&&self&&self.Object===Object&&self,la="object"==typeof h&&h&&h.Object===Object&&h||xa||Function("return this")(),ta="object"==typeof Fc.exports&&
Fc.exports&&!Fc.exports.nodeType&&Fc.exports,va=ta&&Fc&&!Fc.nodeType&&Fc,za=function(a){return function(c){return null==a?Y:a[c]}}({"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"}),Aa=Array.prototype,qa=Object.prototype,ja=qa.hasOwnProperty,Da=0,ka=qa.toString,Ga=la._,Ea=Object.create,Ja=qa.propertyIsEnumerable,Ka=la.isFinite,ya=function(a,c){return function(b){return a(c(b))}}(Object.keys,Object),Ca=Math.max,Ha=function(){function a(){}return function(c){if(!E(c))return{};
if(Ea)return Ea(c);a.prototype=c;c=new a;a.prototype=Y;return c}}();f.prototype=Ha(c.prototype);f.prototype.constructor=f;var ua=function(a,c){return function(b,f){if(null==b)return b;if(!Ba(b))return a(b,f);for(var d=b.length,e=c?d:-1,g=Object(b);(c?e--:++e<d)&&!1!==f(g[e],e,g););return b}}(q),Na=function(a){return function(c,b,f){var d=-1,e=Object(c);f=f(c);for(var g=f.length;g--;){var k=f[a?g:++d];if(!1===b(e[k],k,e))break}return c}}(),La=Eb,Ia=function(a){return function(c,b,f){var d=Object(c);
if(!Ba(c)){var e=p(b,3);c=Fa(c);b=function(a){return e(d[a],a,d)}}b=a(c,b,f);return-1<b?d[e?c[b]:b]:Y}}(function(a,c,b){var f=null==a?0:a.length;if(!f)return-1;b=null==b?0:Pa(b);0>b&&(b=Ca(f+b,0));a:{c=p(c,3);f=a.length;for(b+=-1;++b<f;)if(c(a[b],b,a)){a=b;break a}a=-1}return a}),Oa=B(function(a,c,b){return tb(a,P|32,c,b)}),Qa=B(function(a,c){return d(a,1,c)}),Ra=B(function(a,c,b){return d(a,Ta(c)||0,b)}),Ma=Td(function(){return arguments}())?Td:function(a){return J(a)&&ja.call(a,"callee")&&!Ja.call(a,
"callee")},wa=Array.isArray,Pa=Number,Ta=Number,Sa=x(function(a,c){L(c,ya(c),a)}),Ua=x(function(a,c){L(c,qd(c),a)}),Va=B(function(a,c){a=Object(a);var b=-1,f=c.length,d=2<f?c[2]:Y,e;if(e=d){e=c[0];var g=c[1];if(E(d)){var k=typeof g;if("number"==k){if(k=Ba(d))var k=d.length,h=typeof g,k=null==k?Z:k,k=!!k&&("number"==h||"symbol"!=h&&sa.test(g))&&-1<g&&0==g%1&&g<k}else k="string"==k&&g in d;e=k?I(d[g],e):!1}else e=!1}for(e&&(f=1);++b<f;){d=c[b];e=Wa(d);g=-1;for(k=e.length;++g<k;){var h=e[g],l=a[h];if(l===
Y||I(l,qa[h])&&!ja.call(a,h))a[h]=d[h]}}return a}),Fa=ya,Wa=qd,Xa=function(a){return La(Wc(a,Y,C),a+"")}(function(a,c){return null==a?{}:K(a,c)}),Ya=p;c.assignIn=Ua;c.before=H;c.bind=Oa;c.chain=function(a){a=c(a);a.__chain__=!0;return a};c.compact=function(a){return m(a,Boolean)};c.concat=function(){var a=arguments.length;if(!a)return[];for(var c=Array(a-1),b=arguments[0];a--;)c[a-1]=arguments[a];return l(wa(b)?T(b,0,b.length):[b],n(c,1))};c.create=function(a,c){var b=Ha(a);return null==c?b:Sa(b,
c)};c.defaults=Va;c.defer=Qa;c.delay=Ra;c.filter=function(a,c){return m(a,p(c))};c.flatten=C;c.flattenDeep=function(a){return(null==a?0:a.length)?n(a,R):[]};c.iteratee=Ya;c.keys=Fa;c.map=function(a,c){return v(a,p(c))};c.matches=function(a){return y(Sa({},a))};c.mixin=W;c.negate=function(a){if("function"!=typeof a)throw new TypeError(U);return function(){return!a.apply(this,arguments)}};c.once=function(a){return H(2,a)};c.pick=Xa;c.slice=function(a,c,b){var f=null==a?0:a.length;b=b===Y?f:+b;return f?
T(a,null==c?0:+c,b):[]};c.sortBy=function(a,c){var b=0;c=p(c);return v(v(a,function(a,f,d){return{value:a,index:b++,criteria:c(a,f,d)}}).sort(function(a,c){var b;a:{b=a.criteria;var f=c.criteria;if(b!==f){var d=b!==Y,e=null===b,g=b===b,k=f!==Y,h=null===f,l=f===f;if(!h&&b>f||e&&k&&l||!d&&l||!g){b=1;break a}if(!e&&b<f||h&&d&&g||!k&&g||!l){b=-1;break a}}b=0}return b||a.index-c.index}),e("value"))};c.tap=function(a,c){c(a);return a};c.thru=function(a,c){return c(a)};c.toArray=function(a){return!Ba(a)?
Q(a):a.length?T(a,0,a.length):[]};c.values=Q;c.extend=Ua;W(c,c);c.clone=function(a){return!E(a)?a:wa(a)?T(a,0,a.length):L(a,ya(a))};c.escape=function(a){return(a=V(a))&&ra.test(a)?a.replace(pa,za):a};c.every=function(a,c,b){c=b?Y:c;return g(a,p(c))};c.find=Ia;c.forEach=Dc;c.has=function(a,c){return null!=a&&ja.call(a,c)};c.head=D;c.identity=Eb;c.indexOf=F;c.isArguments=Ma;c.isArray=wa;c.isBoolean=function(a){return!0===a||!1===a||J(a)&&ka.call(a)==ea};c.isDate=function(a){return J(a)&&ka.call(a)==
fa};c.isEmpty=function(a){return Ba(a)&&(wa(a)||M(a)||G(a.splice)||Ma(a))?!a.length:!ya(a).length};c.isEqual=function(a,c){return A(a,c)};c.isFinite=function(a){return"number"==typeof a&&Ka(a)};c.isFunction=G;c.isNaN=function(a){return O(a)&&a!=+a};c.isNull=function(a){return null===a};c.isNumber=O;c.isObject=E;c.isRegExp=function(a){return J(a)&&ka.call(a)==ma};c.isString=M;c.isUndefined=function(a){return a===Y};c.last=function(a){var c=null==a?0:a.length;return c?a[c-1]:Y};c.max=function(a){return a&&
a.length?k(a,Eb,u):Y};c.min=function(a){return a&&a.length?k(a,Eb,r):Y};c.noConflict=function(){la._===this&&(la._=Ga);return this};c.noop=Td;c.reduce=Rd;c.result=function(a,c,b){c=null==a?Y:a[c];c===Y&&(c=b);return G(c)?c.call(a):c};c.size=function(a){if(null==a)return 0;a=Ba(a)?a:ya(a);return a.length};c.some=function(a,c,b){c=b?Y:c;return X(a,p(c))};c.uniqueId=function(a){var c=++Da;return V(a)+c};c.each=Dc;c.first=D;W(c,function(){var a={};q(c,function(b,f){ja.call(c.prototype,f)||(a[f]=b)});
return a}(),{chain:!1});c.VERSION="4.17.15";ua("pop join replace reverse split push shift sort splice unshift".split(" "),function(a){var b=(/^(?:replace|split)$/.test(a)?String.prototype:Aa)[a],f=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:pop|join|replace|shift)$/.test(a);c.prototype[a]=function(){var a=arguments;if(d&&!this.__chain__){var c=this.value();return b.apply(wa(c)?c:[],a)}return this[f](function(c){return b.apply(wa(c)?c:[],a)})}});c.prototype.toJSON=c.prototype.valueOf=c.prototype.value=
function(){return eb(this.__wrapped__,this.__actions__)};va&&((va.exports=c)._=c,ta._=c)}).call(this)}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Fc=Fc.exports,O={};"use strict";Object.defineProperty(O,"__esModule",{value:!0});var Ud=function(h){function l(){return h.apply(this,arguments)||this}Qb(l,h);return l}(ej(Error)),Zs=function(h){function l(e){return h.call(this,"Invalid DateTime: "+e.toMessage())||this}
Qb(l,h);return l}(Ud),$s=function(h){function l(e){return h.call(this,"Invalid Interval: "+e.toMessage())||this}Qb(l,h);return l}(Ud),at=function(h){function l(e){return h.call(this,"Invalid Duration: "+e.toMessage())||this}Qb(l,h);return l}(Ud),Ef=function(h){function l(){return h.apply(this,arguments)||this}Qb(l,h);return l}(Ud),Mm=function(h){function l(e){return h.call(this,"Invalid unit "+e)||this}Qb(l,h);return l}(Ud),Rb=function(h){function l(){return h.apply(this,arguments)||this}Qb(l,h);
return l}(Ud),sd=function(h){function l(){return h.call(this,"Zone is an abstract class")||this}Qb(l,h);return l}(Ud),ph={year:"numeric",month:"numeric",day:"numeric"},ij={year:"numeric",month:"short",day:"numeric"},om={year:"numeric",month:"short",day:"numeric",weekday:"short"},jj={year:"numeric",month:"long",day:"numeric"},kj={year:"numeric",month:"long",day:"numeric",weekday:"long"},lj={hour:"numeric",minute:"numeric"},mj={hour:"numeric",minute:"numeric",second:"numeric"},nj={hour:"numeric",minute:"numeric",
second:"numeric",timeZoneName:"short"},oj={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},pj={hour:"numeric",minute:"numeric",hour12:!1},qj={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1},rj={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,timeZoneName:"short"},sj={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,timeZoneName:"long"},tj={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},xj={year:"numeric",month:"numeric",
day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},uj={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},yj={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},pm={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},vj={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},zj={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",
second:"numeric",timeZoneName:"short"},wj={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},Aj={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},Dn=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/,Br="January February March April May June July August September October November December".split(" "),jm="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
Ar="JFMAMJJASOND".split(""),mm="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),lm="Mon Tue Wed Thu Fri Sat Sun".split(" "),Cr="MTWTFSS".split(""),En=["AM","PM"],Fr=["Before Christ","Anno Domini"],Er=["BC","AD"],Dr=["B","A"],bt={D:ph,DD:ij,DDD:jj,DDDD:kj,t:lj,tt:mj,ttt:nj,tttt:oj,T:pj,TT:qj,TTT:rj,TTTT:sj,f:tj,ff:uj,fff:vj,ffff:wj,F:xj,FF:yj,FFF:zj,FFFF:Aj},Ac=function(){function h(e,a){this.opts=a;this.loc=e;this.systemLoc=null}h.create=function(e,a){void 0===a&&(a={});return new h(e,
a)};h.parseFormat=function(e){for(var a=null,b="",c=!1,f=[],d=0;d<e.length;d++){var g=e.charAt(d);"'"===g?(0<b.length&&f.push({literal:c,val:b}),a=null,b="",c=!c):c?b+=g:g===a?b+=g:(0<b.length&&f.push({literal:!1,val:b}),a=b=g)}0<b.length&&f.push({literal:c,val:b});return f};h.macroTokenToFormatOpts=function(e){return bt[e]};var l=h.prototype;l.formatWithSystemDefault=function(e,a){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(e,Object.assign({},
this.opts,a)).format()};l.formatDateTime=function(e,a){void 0===a&&(a={});return this.loc.dtFormatter(e,Object.assign({},this.opts,a)).format()};l.formatDateTimeParts=function(e,a){void 0===a&&(a={});return this.loc.dtFormatter(e,Object.assign({},this.opts,a)).formatToParts()};l.resolvedOptions=function(e,a){void 0===a&&(a={});return this.loc.dtFormatter(e,Object.assign({},this.opts,a)).resolvedOptions()};l.num=function(e,a){void 0===a&&(a=0);if(this.opts.forceSimple)return xe(e,a);var b=Object.assign({},
this.opts);0<a&&(b.padTo=a);return this.loc.numberFormatter(b).format(e)};l.formatDateTimeFromString=function(e,a){var b=this,c="en"===this.loc.listingMode(),f=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar&&Df(),d=function(a,c){return b.loc.extract(e,a,c)},g=function(a){return e.isOffsetFixed&&0===e.offset&&a.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,a.format):""},k=function(a,b){return c?im(a)[e.month-1]:d(b?{month:a}:{month:a,day:"numeric"},"month")},l=function(a,b){return c?
km(a)[e.weekday-1]:d(b?{weekday:a}:{weekday:a,month:"long",day:"numeric"},"weekday")},n=function(a){return c?nm(a)[0>e.year?0:1]:d({era:a},"era")};return qm(h.parseFormat(a),function(a){switch(a){case "S":return b.num(e.millisecond);case "u":case "SSS":return b.num(e.millisecond,3);case "s":return b.num(e.second);case "ss":return b.num(e.second,2);case "m":return b.num(e.minute);case "mm":return b.num(e.minute,2);case "h":return b.num(0===e.hour%12?12:e.hour%12);case "hh":return b.num(0===e.hour%
12?12:e.hour%12,2);case "H":return b.num(e.hour);case "HH":return b.num(e.hour,2);case "Z":return g({format:"narrow",allowZ:b.opts.allowZ});case "ZZ":return g({format:"short",allowZ:b.opts.allowZ});case "ZZZ":return g({format:"techie",allowZ:b.opts.allowZ});case "ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:b.loc.locale});case "ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:b.loc.locale});case "z":return e.zoneName;case "a":return c?En[12>e.hour?0:1]:d({hour:"numeric",hour12:!0},
"dayperiod");case "d":return f?d({day:"numeric"},"day"):b.num(e.day);case "dd":return f?d({day:"2-digit"},"day"):b.num(e.day,2);case "c":return b.num(e.weekday);case "ccc":return l("short",!0);case "cccc":return l("long",!0);case "ccccc":return l("narrow",!0);case "E":return b.num(e.weekday);case "EEE":return l("short",!1);case "EEEE":return l("long",!1);case "EEEEE":return l("narrow",!1);case "L":return f?d({month:"numeric",day:"numeric"},"month"):b.num(e.month);case "LL":return f?d({month:"2-digit",
day:"numeric"},"month"):b.num(e.month,2);case "LLL":return k("short",!0);case "LLLL":return k("long",!0);case "LLLLL":return k("narrow",!0);case "M":return f?d({month:"numeric"},"month"):b.num(e.month);case "MM":return f?d({month:"2-digit"},"month"):b.num(e.month,2);case "MMM":return k("short",!1);case "MMMM":return k("long",!1);case "MMMMM":return k("narrow",!1);case "y":return f?d({year:"numeric"},"year"):b.num(e.year);case "yy":return f?d({year:"2-digit"},"year"):b.num(e.year.toString().slice(-2),
2);case "yyyy":return f?d({year:"numeric"},"year"):b.num(e.year,4);case "yyyyyy":return f?d({year:"numeric"},"year"):b.num(e.year,6);case "G":return n("short");case "GG":return n("long");case "GGGGG":return n("narrow");case "kk":return b.num(e.weekYear.toString().slice(-2),2);case "kkkk":return b.num(e.weekYear,4);case "W":return b.num(e.weekNumber);case "WW":return b.num(e.weekNumber,2);case "o":return b.num(e.ordinal);case "ooo":return b.num(e.ordinal,3);case "q":return b.num(e.quarter);case "qq":return b.num(e.quarter,
2);case "X":return b.num(Math.floor(e.ts/1E3));case "x":return b.num(e.ts);default:var s=h.macroTokenToFormatOpts(a);a=s?b.formatWithSystemDefault(e,s):a;return a}})};l.formatDurationFromString=function(e,a){var b=this,c=function(a){switch(a[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";case "M":return"month";case "y":return"year";default:return null}},f=h.parseFormat(a),d=f.reduce(function(a,c){var b=c.val;return c.literal?
a:a.concat(b)},[]),d=e.shiftTo.apply(e,d.map(c).filter(function(a){return a}));return qm(f,function(a){return function(f){var d=c(f);return d?b.num(a.get(d),f.length):f}}(d))};return h}(),nc=function(){function h(h,e){this.reason=h;this.explanation=e}h.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason};return h}(),ze=function(){function h(){}var l=h.prototype;l.offsetName=function(e,a){throw new sd;};l.formatOffset=function(e,a){throw new sd;};l.offset=
function(e){throw new sd;};l.equals=function(e){throw new sd;};kc(h,[{key:"type",get:function(){throw new sd;}},{key:"name",get:function(){throw new sd;}},{key:"universal",get:function(){throw new sd;}},{key:"isValid",get:function(){throw new sd;}}]);return h}(),jk=null,Fn=function(h){function l(){return h.apply(this,arguments)||this}Qb(l,h);var e=l.prototype;e.offsetName=function(a,b){return gm(a,b.format,b.locale)};e.formatOffset=function(a,b){return nh(this.offset(a),b)};e.offset=function(a){return-(new Date(a)).getTimezoneOffset()};
e.equals=function(a){return"local"===a.type};kc(l,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return xc()?(new Intl.DateTimeFormat).resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){null===jk&&(jk=new l);return jk}}]);return l}(ze),ct=RegExp("^"+Dn.source+"$"),Qh={},dt={year:0,month:1,day:2,hour:3,minute:4,second:5},Rh={},zc=function(h){function l(a){var b;b=h.call(this)||
this;b.zoneName=a;b.valid=l.isValidZone(a);return b}Qb(l,h);l.create=function(a){Rh[a]||(Rh[a]=new l(a));return Rh[a]};l.resetCache=function(){Rh={};Qh={}};l.isValidSpecifier=function(a){return!(!a||!a.match(ct))};l.isValidZone=function(a){try{return(new Intl.DateTimeFormat("en-US",{timeZone:a})).format(),!0}catch(b){return!1}};l.parseGMTOffset=function(a){return a&&(a=a.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i))?-60*parseInt(a[1]):null};var e=l.prototype;e.offsetName=function(a,b){return gm(a,b.format,
b.locale,this.name)};e.formatOffset=function(a,b){return nh(this.offset(a),b)};e.offset=function(a){a=new Date(a);if(isNaN(a))return NaN;var b;b=this.name;Qh[b]||(Qh[b]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:b,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}));b=Qh[b];if(b.formatToParts){b=b.formatToParts(a);for(var c=[],f=0;f<b.length;f++){var d=b[f],e=d.value,d=dt[d.type];da(d)||(c[d]=parseInt(e,10))}b=c}else b=b.format(a).replace(/\u200E/g,
""),b=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(b),b=[b[3],b[1],b[2],b[4],b[5],b[6]];c=b[3];b=ye({year:b[0],month:b[1],day:b[2],hour:24===c?0:c,minute:b[4],second:b[5],millisecond:0});a=+a;c=a%1E3;return(b-(a-(0<=c?c:1E3+c)))/6E4};e.equals=function(a){return"iana"===a.type&&a.name===this.name};kc(l,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]);return l}(ze),
kk=null,Ab=function(h){function l(a){var b;b=h.call(this)||this;b.fixed=a;return b}Qb(l,h);l.instance=function(a){return 0===a?l.utcInstance:new l(a)};l.parseSpecifier=function(a){return a&&(a=a.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new l(lh(a[1],a[2])):null};kc(l,null,[{key:"utcInstance",get:function(){null===kk&&(kk=new l(0));return kk}}]);var e=l.prototype;e.offsetName=function(){return this.name};e.formatOffset=function(a,b){return nh(this.fixed,b)};e.offset=function(){return this.fixed};
e.equals=function(a){return"fixed"===a.type&&a.fixed===this.fixed};kc(l,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+nh(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]);return l}(ze),Bj=function(h){function l(a){var b;b=h.call(this)||this;b.zoneName=a;return b}Qb(l,h);var e=l.prototype;e.offsetName=function(){return null};e.formatOffset=function(){return""};e.offset=function(){return NaN};
e.equals=function(){return!1};kc(l,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]);return l}(ze),Gn=function(){return Date.now()},Hn=null,In=null,Jn=null,Kn=null,Ln=!1,ja=function(){function h(){}h.resetCaches=function(){Ta.resetCache();zc.resetCache()};kc(h,null,[{key:"now",get:function(){return Gn},set:function(h){Gn=h}},{key:"defaultZoneName",get:function(){return h.defaultZone.name},
set:function(h){Hn=h?Jd(h):null}},{key:"defaultZone",get:function(){return Hn||Fn.instance}},{key:"defaultLocale",get:function(){return In},set:function(h){In=h}},{key:"defaultNumberingSystem",get:function(){return Jn},set:function(h){Jn=h}},{key:"defaultOutputCalendar",get:function(){return Kn},set:function(h){Kn=h}},{key:"throwOnInvalid",get:function(){return Ln},set:function(h){Ln=h}}]);return h}(),Dj={},lk={},mk={},bg=null,et=function(){function h(h,e,a){this.padTo=a.padTo||0;this.floor=a.floor||
!1;if(!e&&xc()){e={useGrouping:!1};0<a.padTo&&(e.minimumIntegerDigits=a.padTo);a=e;void 0===a&&(a={});e=JSON.stringify([h,a]);var b=lk[e];b||(b=new Intl.NumberFormat(h,a),lk[e]=b);this.inf=b}}h.prototype.format=function(h){if(this.inf)return this.inf.format(this.floor?Math.floor(h):h);h=this.floor?Math.floor(h):gj(h,3);return xe(h,this.padTo)};return h}(),ft=function(){function h(e,a,b){this.opts=b;this.hasIntl=xc();var c;if(e.zone.universal&&this.hasIntl){c=-1*(e.offset/60);c=0<=c?"Etc/GMT+"+c:"Etc/GMT"+
c;var f=zc.isValidZone(c);0!==e.offset&&f?this.dt=e:(c="UTC",this.dt=b.timeZoneName?e:0===e.offset?e:Qa.fromMillis(e.ts+6E4*e.offset))}else"local"===e.zone.type?this.dt=e:(this.dt=e,c=e.zone.name);this.hasIntl&&(e=Object.assign({},this.opts),c&&(e.timeZone=c),this.dtf=Cj(a,e))}var l=h.prototype;l.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var e=Hr(this.opts),a=Ta.create("en-US");return Ac.create(a).formatDateTimeFromString(this.dt,e)};l.formatToParts=function(){return this.hasIntl&&
Df()?this.dtf.formatToParts(this.dt.toJSDate()):[]};l.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}};return h}(),gt=function(){function h(e,a,b){this.opts=Object.assign({style:"long"},b);if(!a&&dm()){a=b;void 0===a&&(a={});b=a;var c=["base"];if(null==b)b={};else{var f={},d=Object.keys(b),g,k;for(k=0;k<d.length;k++)g=d[k],0<=c.indexOf(g)||(f[g]=b[g]);b=f}b=JSON.stringify([e,b]);c=mk[b];c||(c=new Intl.RelativeTimeFormat(e,
a),mk[b]=c);this.rtf=c}}var l=h.prototype;l.format=function(e,a){return this.rtf?this.rtf.format(e,a):Gr(a,e,this.opts.numeric,"long"!==this.opts.style)};l.formatToParts=function(e,a){return this.rtf?this.rtf.formatToParts(e,a):[]};return h}(),Ta=function(){function h(e,a,b,c){var f=e.indexOf("-u-");if(-1===f)e=[e];else{var d,f=e.substring(0,f);try{d=Cj(e).resolvedOptions()}catch(g){d=Cj(f).resolvedOptions()}e=d;e=[f,e.numberingSystem,e.calendar]}d=e[1];f=e[2];this.locale=e[0];this.numberingSystem=
a||d||null;this.outputCalendar=b||f||null;a=this.locale;b=this.numberingSystem;e=this.outputCalendar;if(xc()){if(e||b)a+="-u",e&&(a+="-ca-"+e),b&&(a+="-nu-"+b)}else a=[];this.intl=a;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=c;this.fastNumbersCached=null}h.fromOpts=function(e){return h.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)};h.create=function(e,a,b,c){void 0===c&&(c=
!1);e=e||ja.defaultLocale;var f;if(!(f=e))c?c="en-US":(bg||(xc()?(c=(new Intl.DateTimeFormat).resolvedOptions().locale,bg=!c||"und"===c?"en-US":c):bg="en-US"),c=bg),f=c;return new h(f,a||ja.defaultNumberingSystem,b||ja.defaultOutputCalendar,e)};h.resetCache=function(){bg=null;Dj={};lk={};mk={}};h.fromObject=function(e){e=void 0===e?{}:e;return h.create(e.locale,e.numberingSystem,e.outputCalendar)};var l=h.prototype;l.listingMode=function(e){void 0===e&&(e=!0);var a=xc()&&Df(),b=this.isEnglish(),c=
(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return!a&&(!b||!c)&&!e?"error":!a||b&&c?"en":"intl"};l.clone=function(e){return!e||0===Object.getOwnPropertyNames(e).length?this:h.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)};l.redefaultToEN=function(e){void 0===e&&(e={});return this.clone(Object.assign({},e,{defaultToEN:!0}))};l.redefaultToSystem=
function(e){void 0===e&&(e={});return this.clone(Object.assign({},e,{defaultToEN:!1}))};l.months=function(e,a,b){var c=this;void 0===a&&(a=!1);void 0===b&&(b=!0);return qh(this,e,b,im,function(){var b=a?{month:e,day:"numeric"}:{month:e},d=a?"format":"standalone";c.monthsCache[d][e]||(c.monthsCache[d][e]=Ir(function(a){return c.extract(a,b,"month")}));return c.monthsCache[d][e]})};l.weekdays=function(e,a,b){var c=this;void 0===a&&(a=!1);void 0===b&&(b=!0);return qh(this,e,b,km,function(){var b=a?{weekday:e,
year:"numeric",month:"long",day:"numeric"}:{weekday:e},d=a?"format":"standalone";c.weekdaysCache[d][e]||(c.weekdaysCache[d][e]=Jr(function(a){return c.extract(a,b,"weekday")}));return c.weekdaysCache[d][e]})};l.meridiems=function(e){var a=this;void 0===e&&(e=!0);return qh(this,void 0,e,function(){return En},function(){if(!a.meridiemCache){var b={hour:"numeric",hour12:!0};a.meridiemCache=[Qa.utc(2016,11,13,9),Qa.utc(2016,11,13,19)].map(function(c){return a.extract(c,b,"dayperiod")})}return a.meridiemCache})};
l.eras=function(e,a){var b=this;void 0===a&&(a=!0);return qh(this,e,a,nm,function(){var a={era:e};b.eraCache[e]||(b.eraCache[e]=[Qa.utc(-40,1,1),Qa.utc(2017,1,1)].map(function(f){return b.extract(f,a,"era")}));return b.eraCache[e]})};l.extract=function(e,a,b){return(e=this.dtFormatter(e,a).formatToParts().find(function(a){return a.type.toLowerCase()===b}))?e.value:null};l.numberFormatter=function(e){void 0===e&&(e={});return new et(this.intl,e.forceSimple||this.fastNumbers,e)};l.dtFormatter=function(e,
a){void 0===a&&(a={});return new ft(e,this.intl,a)};l.relFormatter=function(e){void 0===e&&(e={});return new gt(this.intl,this.isEnglish(),e)};l.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||xc()&&(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")};l.equals=function(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar};kc(h,[{key:"fastNumbers",get:function(){if(null==
this.fastNumbersCached){var e;e=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||xc()&&"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;this.fastNumbersCached=e}return this.fastNumbersCached}}]);return h}(),Mn=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,nk=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Nn=RegExp(""+nk.source+Mn.source+"?"),ok=RegExp("(?:T"+Nn.source+")?"),ht=rm("weekYear",
"weekNumber","weekDay"),it=rm("year","ordinal"),On=RegExp(nk.source+" ?(?:"+Mn.source+"|("+Dn.source+"))?"),jt=RegExp("(?: "+On.source+")?"),kt=RegExp("^T?"+nk.source+"$"),lt=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/,Mr={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,
nt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ot=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,pt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,qt=Ae(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,ok),rt=Ae(/(\d{4})-?W(\d\d)(?:-?(\d))?/,
ok),st=Ae(/(\d{4})-?(\d{3})/,ok),tt=Ae(Nn),ut=Kd(sm,Ld,De),vt=Kd(ht,Ld,De),wt=Kd(it,Ld,De),xt=Kd(Ld,De),yt=Kd(Ld),zt=Ae(/(\d{4})-(\d\d)-(\d\d)/,jt),At=Ae(On),Bt=Kd(sm,Ld,De,tm),Ct=Kd(Ld,De,tm),Pn={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},Dt=Object.assign({years:{quarters:4,months:12,weeks:52,
days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,milliseconds:2592E6}},Pn),Et=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,
milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3}},Pn),Ie="years quarters months weeks days hours minutes seconds milliseconds".split(" "),Pr=Ie.slice(0).reverse(),lb=function(){function h(e){var a="longterm"===e.conversionAccuracy||!1;this.values=e.values;this.loc=e.loc||Ta.create();this.conversionAccuracy=a?"longterm":"casual";this.invalid=e.invalid||null;this.matrix=a?Et:Dt;this.isLuxonDuration=!0}h.fromMillis=
function(e,a){return h.fromObject(Object.assign({milliseconds:e},a))};h.fromObject=function(e){if(null==e||"object"!==typeof e)throw new Rb("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new h({values:mh(e,h.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:Ta.fromObject(e),conversionAccuracy:e.conversionAccuracy})};h.fromISO=function(e,a){var b=Be(e,[lt,Kr])[0];return b?(b=Object.assign(b,a),h.fromObject(b)):h.invalid("unparsable",
'the input "'+e+"\" can't be parsed as ISO 8601")};h.fromISOTime=function(e,a){var b=Be(e,[kt,yt])[0];return b?(b=Object.assign(b,a),h.fromObject(b)):h.invalid("unparsable",'the input "'+e+"\" can't be parsed as ISO 8601")};h.invalid=function(e,a){void 0===a&&(a=null);if(!e)throw new Rb("need to specify a reason the Duration is invalid");var b=e instanceof nc?e:new nc(e,a);if(ja.throwOnInvalid)throw new at(b);return new h({invalid:b})};h.normalizeUnit=function(e){var a={year:"years",years:"years",
quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!a)throw new Mm(e);return a};h.isDuration=function(e){return e&&e.isLuxonDuration||!1};var l=h.prototype;l.toFormat=function(e,a){void 0===a&&(a={});var b=Object.assign({},a,{floor:!1!==a.round&&!1!==a.floor});
return this.isValid?Ac.create(this.loc,b).formatDurationFromString(this,e):"Invalid Duration"};l.toObject=function(e){void 0===e&&(e={});if(!this.isValid)return{};var a=Object.assign({},this.values);e.includeConfig&&(a.conversionAccuracy=this.conversionAccuracy,a.numberingSystem=this.loc.numberingSystem,a.locale=this.loc.locale);return a};l.toISO=function(){if(!this.isValid)return null;var e="P";0!==this.years&&(e+=this.years+"Y");if(0!==this.months||0!==this.quarters)e+=this.months+3*this.quarters+
"M";0!==this.weeks&&(e+=this.weeks+"W");0!==this.days&&(e+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)e+="T";0!==this.hours&&(e+=this.hours+"H");0!==this.minutes&&(e+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)e+=gj(this.seconds+this.milliseconds/1E3,3)+"S";"P"===e&&(e+="T0S");return e};l.toISOTime=function(e){void 0===e&&(e={});if(!this.isValid)return null;var a=this.toMillis();if(0>a||864E5<=a)return null;e=Object.assign({suppressMilliseconds:!1,
suppressSeconds:!1,includePrefix:!1,format:"extended"},e);var a=this.shiftTo("hours","minutes","seconds","milliseconds"),b="basic"===e.format?"hhmm":"hh:mm";if(!e.suppressSeconds||0!==a.seconds||0!==a.milliseconds)if(b+="basic"===e.format?"ss":":ss",!e.suppressMilliseconds||0!==a.milliseconds)b+=".SSS";a=a.toFormat(b);e.includePrefix&&(a="T"+a);return a};l.toJSON=function(){return this.toISO()};l.toString=function(){return this.toISO()};l.toMillis=function(){return this.as("milliseconds")};l.valueOf=
function(){return this.toMillis()};l.plus=function(e){if(!this.isValid)return this;e=Nd(e);for(var a={},b=md(Ie),c;!(c=b()).done;)if(c=c.value,we(e.values,c)||we(this.values,c))a[c]=e.get(c)+this.get(c);return Md(this,{values:a},!0)};l.minus=function(e){if(!this.isValid)return this;e=Nd(e);return this.plus(e.negate())};l.mapUnits=function(e){if(!this.isValid)return this;for(var a={},b=0,c=Object.keys(this.values);b<c.length;b++){var f=c[b];a[f]=hm(e(this.values[f],f))}return Md(this,{values:a},!0)};
l.get=function(e){return this[h.normalizeUnit(e)]};l.set=function(e){if(!this.isValid)return this;e=Object.assign(this.values,mh(e,h.normalizeUnit,[]));return Md(this,{values:e})};l.reconfigure=function(e){var a=void 0===e?{}:e;e=a.conversionAccuracy;a={loc:this.loc.clone({locale:a.locale,numberingSystem:a.numberingSystem})};e&&(a.conversionAccuracy=e);return Md(this,a)};l.as=function(e){return this.isValid?this.shiftTo(e).get(e):NaN};l.normalize=function(){if(!this.isValid)return this;var e=this.toObject();
Or(this.matrix,e);return Md(this,{values:e},!0)};l.shiftTo=function(){for(var e=arguments.length,a=Array(e),b=0;b<e;b++)a[b]=arguments[b];if(!this.isValid||0===a.length)return this;for(var a=a.map(function(a){return h.normalizeUnit(a)}),e={},b={},c=this.toObject(),f,d=md(Ie),g;!(g=d()).done;)if(g=g.value,0<=a.indexOf(g)){f=g;var k=0,l;for(l in b)k+=this.matrix[l][g]*b[l],b[l]=0;Id(c[g])&&(k+=c[g]);var n=Math.trunc(k);e[g]=n;b[g]=k-n;for(var q in c)Ie.indexOf(q)>Ie.indexOf(g)&&vm(this.matrix,c,q,e,
g)}else Id(c[g])&&(b[g]=c[g]);for(var s in b)0!==b[s]&&(e[f]+=s===f?b[s]:b[s]/this.matrix[f][s]);return Md(this,{values:e},!0).normalize()};l.negate=function(){if(!this.isValid)return this;for(var e={},a=0,b=Object.keys(this.values);a<b.length;a++){var c=b[a];e[c]=-this.values[c]}return Md(this,{values:e},!0)};l.equals=function(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;for(var a=md(Ie),b;!(b=a()).done;){var c=b.value;b=this.values[c];c=e.values[c];b=void 0===b||0===b?void 0===
c||0===c:b===c;if(!b)return!1}return!0};kc(h,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||
0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?
this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]);return h}(),cg=function(){function h(e){this.s=e.start;this.e=e.end;this.invalid=e.invalid||null;this.isLuxonInterval=!0}h.invalid=function(e,a){void 0===a&&(a=null);if(!e)throw new Rb("need to specify a reason the Interval is invalid");var b=e instanceof nc?e:new nc(e,a);if(ja.throwOnInvalid)throw new $s(b);return new h({invalid:b})};h.fromDateTimes=function(e,a){var b=If(e),
c=If(a),f=!b||!b.isValid?cg.invalid("missing or invalid start"):!c||!c.isValid?cg.invalid("missing or invalid end"):c<b?cg.invalid("end before start","The end of an interval must be after its start, but you had start\x3d"+b.toISO()+" and end\x3d"+c.toISO()):null;return null==f?new h({start:b,end:c}):f};h.after=function(e,a){var b=Nd(a),c=If(e);return h.fromDateTimes(c,c.plus(b))};h.before=function(e,a){var b=Nd(a),c=If(e);return h.fromDateTimes(c.minus(b),c)};h.fromISO=function(e,a){var b=(e||"").split("/",
2),c=b[0],b=b[1];if(c&&b){var f,d;try{f=Qa.fromISO(c,a),d=f.isValid}catch(g){d=!1}var k,l;try{k=Qa.fromISO(b,a),l=k.isValid}catch(n){l=!1}if(d&&l)return h.fromDateTimes(f,k);if(d){if(k=lb.fromISO(b,a),k.isValid)return h.after(f,k)}else if(l&&(f=lb.fromISO(c,a),f.isValid))return h.before(k,f)}return h.invalid("unparsable",'the input "'+e+"\" can't be parsed as ISO 8601")};h.isInterval=function(e){return e&&e.isLuxonInterval||!1};var l=h.prototype;l.length=function(e){void 0===e&&(e="milliseconds");
return this.isValid?this.toDuration.apply(this,[e]).get(e):NaN};l.count=function(e){void 0===e&&(e="milliseconds");if(!this.isValid)return NaN;var a=this.start.startOf(e),b=this.end.startOf(e);return Math.floor(b.diff(a,e).get(e))+1};l.hasSame=function(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1};l.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()};l.isAfter=function(e){return!this.isValid?!1:this.s>e};l.isBefore=function(e){return!this.isValid?!1:this.e<=
e};l.contains=function(e){return!this.isValid?!1:this.s<=e&&this.e>e};l.set=function(e){e=void 0===e?{}:e;return!this.isValid?this:h.fromDateTimes(e.start||this.s,e.end||this.e)};l.splitAt=function(){var e=this;if(!this.isValid)return[];for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];for(var a=b.map(If).filter(function(a){return e.contains(a)}).sort(),b=[],c=this.s,f=0;c<this.e;){var d=a[f]||this.e,d=+d>+this.e?this.e:d;b.push(h.fromDateTimes(c,d));c=d;f+=1}return b};l.splitBy=
function(e){e=Nd(e);if(!this.isValid||!e.isValid||0===e.as("milliseconds"))return[];for(var a=this.s,b=1,c,f=[];a<this.e;)c=this.start.plus(e.mapUnits(function(a){return a*b})),c=+c>+this.e?this.e:c,f.push(h.fromDateTimes(a,c)),a=c,b+=1;return f};l.divideEqually=function(e){return!this.isValid?[]:this.splitBy(this.length()/e).slice(0,e)};l.overlaps=function(e){return this.e>e.s&&this.s<e.e};l.abutsStart=function(e){return!this.isValid?!1:+this.e===+e.s};l.abutsEnd=function(e){return!this.isValid?
!1:+e.e===+this.s};l.engulfs=function(e){return!this.isValid?!1:this.s<=e.s&&this.e>=e.e};l.equals=function(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)};l.intersection=function(e){if(!this.isValid)return this;var a=this.s>e.s?this.s:e.s;e=this.e<e.e?this.e:e.e;return a>=e?null:h.fromDateTimes(a,e)};l.union=function(e){return!this.isValid?this:h.fromDateTimes(this.s<e.s?this.s:e.s,this.e>e.e?this.e:e.e)};h.merge=function(e){var a=e.sort(function(a,c){return a.s-c.s}).reduce(function(a,
c){var f=a[0],d=a[1];return d?d.overlaps(c)||d.abutsStart(c)?[f,d.union(c)]:[f.concat([d]),c]:[f,c]},[[],null]);e=a[0];(a=a[1])&&e.push(a);return e};h.xor=function(e){var a,b=null,c=0,f=[];e=e.map(function(a){return[{time:a.s,type:"s"},{time:a.e,type:"e"}]});e=(a=Array.prototype).concat.apply(a,e).sort(function(a,c){return a.time-c.time});for(a=md(e);!(e=a()).done;)e=e.value,c+="s"===e.type?1:-1,1===c?b=e.time:(b&&+b!==+e.time&&f.push(h.fromDateTimes(b,e.time)),b=null);return h.merge(f)};l.difference=
function(){for(var e=this,a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return h.xor([this].concat(b)).map(function(a){return e.intersection(a)}).filter(function(a){return a&&!a.isEmpty()})};l.toString=function(){return!this.isValid?"Invalid Interval":"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")"};l.toISO=function(e){return!this.isValid?"Invalid Interval":this.s.toISO(e)+"/"+this.e.toISO(e)};l.toISODate=function(){return!this.isValid?"Invalid Interval":this.s.toISODate()+"/"+this.e.toISODate()};
l.toISOTime=function(e){return!this.isValid?"Invalid Interval":this.s.toISOTime(e)+"/"+this.e.toISOTime(e)};l.toFormat=function(e,a){var b=(void 0===a?{}:a).separator;return!this.isValid?"Invalid Interval":""+this.s.toFormat(e)+(void 0===b?" \u2013 ":b)+this.e.toFormat(e)};l.toDuration=function(e,a){return!this.isValid?lb.invalid(this.invalidReason):this.e.diff(this.s,e,a)};l.mapEndpoints=function(e){return h.fromDateTimes(e(this.s),e(this.e))};kc(h,[{key:"start",get:function(){return this.isValid?
this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]);return h}(),dg=function(){function h(){}h.hasDST=function(h){void 0===h&&(h=ja.defaultZone);var e=Qa.now().setZone(h).set({month:12});return!h.universal&&e.offset!==e.set({month:6}).offset};
h.isValidIANAZone=function(h){return zc.isValidSpecifier(h)&&zc.isValidZone(h)};h.normalizeZone=function(h){return Jd(h,ja.defaultZone)};h.months=function(h,e){void 0===h&&(h="long");var a=void 0===e?{}:e,b=a.locale,c=a.numberingSystem,f=a.locObj,a=a.outputCalendar;return((void 0===f?null:f)||Ta.create(void 0===b?null:b,void 0===c?null:c,void 0===a?"gregory":a)).months(h)};h.monthsFormat=function(h,e){void 0===h&&(h="long");var a=void 0===e?{}:e,b=a.locale,c=a.numberingSystem,f=a.locObj,a=a.outputCalendar;
return((void 0===f?null:f)||Ta.create(void 0===b?null:b,void 0===c?null:c,void 0===a?"gregory":a)).months(h,!0)};h.weekdays=function(h,e){void 0===h&&(h="long");var a=void 0===e?{}:e,b=a.locale,c=a.numberingSystem,a=a.locObj;return((void 0===a?null:a)||Ta.create(void 0===b?null:b,void 0===c?null:c,null)).weekdays(h)};h.weekdaysFormat=function(h,e){void 0===h&&(h="long");var a=void 0===e?{}:e,b=a.locale,c=a.numberingSystem,a=a.locObj;return((void 0===a?null:a)||Ta.create(void 0===b?null:b,void 0===
c?null:c,null)).weekdays(h,!0)};h.meridiems=function(h){h=(void 0===h?{}:h).locale;return Ta.create(void 0===h?null:h).meridiems()};h.eras=function(h,e){void 0===h&&(h="short");var a=(void 0===e?{}:e).locale;return Ta.create(void 0===a?null:a,null,"gregory").eras(h)};h.features=function(){var h=!1,e=!1,a=!1,b=!1;if(xc()){h=!0;e=Df();b=dm();try{a="America/New_York"===(new Intl.DateTimeFormat("en",{timeZone:"America/New_York"})).resolvedOptions().timeZone}catch(c){a=!1}}return{intl:h,intlTokens:e,zones:a,
relative:b}};return h}(),Fj={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",
thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},xm={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Sr=Fj.hanidec.replace(/[\[|\]]/g,"").split(""),Vr="missing Intl.DateTimeFormat.formatToParts support",ym=
"( |"+String.fromCharCode(160)+")",Gj=RegExp(ym,"g"),as={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM","short":"MMM","long":"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{"short":"EEE","long":"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}},Hj=null,Jj=[0,31,59,90,120,151,181,212,243,273,304,334],Ij=[0,31,60,91,121,152,182,213,244,274,305,335],Pm={month:1,day:1,hour:0,minute:0,
second:0,millisecond:0},Ft={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Gt={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Om="year month day hour minute second millisecond".split(" "),Ht="weekYear weekNumber weekday hour minute second millisecond".split(" "),It="year ordinal hour minute second millisecond".split(" "),Qa=function(){function h(e){var a=e.zone||ja.defaultZone,b=e.invalid||(Number.isNaN(e.ts)?new nc("invalid input"):null)||(!a.isValid?rh(a):null);this.ts=da(e.ts)?
ja.now():e.ts;var c=null,f=null;b||(e.old&&e.old.ts===this.ts&&e.old.zone.equals(a)?(f=[e.old.c,e.old.o],c=f[0],f=f[1]):(f=a.offset(this.ts),c=Im(this.ts,f),c=(b=Number.isNaN(c.year)?new nc("invalid input"):null)?null:c,f=b?null:f));this._zone=a;this.loc=e.loc||Ta.create();this.invalid=b;this.weekData=null;this.c=c;this.o=f;this.isLuxonDateTime=!0}h.now=function(){return new h({})};h.local=function(e,a,b,c,f,d,g){return da(e)?h.now():Nm({year:e,month:a,day:b,hour:c,minute:f,second:d,millisecond:g},
ja.defaultZone)};h.utc=function(e,a,b,c,f,d,g){return da(e)?new h({ts:ja.now(),zone:Ab.utcInstance}):Nm({year:e,month:a,day:b,hour:c,minute:f,second:d,millisecond:g},Ab.utcInstance)};h.fromJSDate=function(e,a){void 0===a&&(a={});var b="[object Date]"===Object.prototype.toString.call(e)?e.valueOf():NaN;if(Number.isNaN(b))return h.invalid("invalid input");var c=Jd(a.zone,ja.defaultZone);return!c.isValid?h.invalid(rh(c)):new h({ts:b,zone:c,loc:Ta.fromObject(a)})};h.fromMillis=function(e,a){void 0===
a&&(a={});if(Id(e))return-864E13>e||864E13<e?h.invalid("Timestamp out of range"):new h({ts:e,zone:Jd(a.zone,ja.defaultZone),loc:Ta.fromObject(a)});throw new Rb("fromMillis requires a numerical input, but received a "+typeof e+" with value "+e);};h.fromSeconds=function(e,a){void 0===a&&(a={});if(Id(e))return new h({ts:1E3*e,zone:Jd(a.zone,ja.defaultZone),loc:Ta.fromObject(a)});throw new Rb("fromSeconds requires a numerical input");};h.fromObject=function(e){var a=Jd(e.zone,ja.defaultZone);if(!a.isValid)return h.invalid(rh(a));
var b=ja.now(),c=a.offset(b),f=mh(e,Lm,["zone","locale","outputCalendar","numberingSystem"]),d=!da(f.ordinal),g=!da(f.year),k=!da(f.month)||!da(f.day),g=g||k,l=f.weekYear||f.weekNumber,n=Ta.fromObject(e);if((g||d)&&l)throw new Ef("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(k&&d)throw new Ef("Can't mix ordinal dates with month/day");var k=l||f.weekday&&!g,q,l=Im(b,c);k?(q=Ht,b=Ft,l=Kj(l)):d?(q=It,b=Gt,l=Lj(l)):(q=Om,b=Pm);var s=!1;q=md(q);for(var u;!(u=q()).done;)u=u.value,
da(f[u])?f[u]=s?b[u]:l[u]:s=!0;k?(b=ih(f.weekYear),l=Uc(f.weekNumber,1,kh(f.weekYear)),s=Uc(f.weekday,1,7),b=b?l?s?!1:Sb("weekday",f.weekday):Sb("week",f.week):Sb("weekYear",f.weekYear)):d?(b=ih(f.year),l=Uc(f.ordinal,1,yc(f.year)?366:365),b=b?l?!1:Sb("ordinal",f.ordinal):Sb("year",f.year)):b=Gm(f);if(b=b||Hm(f))return h.invalid(b);d=k?Em(f):d?Fm(f):f;c=Gf(ye(d),c,a);a=new h({ts:c[0],zone:a,o:c[1],loc:n});return f.weekday&&g&&e.weekday!==a.weekday?h.invalid("mismatched weekday","you can't specify both a weekday of "+
f.weekday+" and a date of "+a.toISO()):a};h.fromISO=function(e,a){void 0===a&&(a={});var b=Be(e,[qt,ut],[rt,vt],[st,wt],[tt,xt]);return Hf(b[0],b[1],a,"ISO 8601",e)};h.fromRFC2822=function(e,a){void 0===a&&(a={});var b=Be(e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[mt,Lr]);return Hf(b[0],b[1],a,"RFC 2822",e)};h.fromHTTP=function(e,a){void 0===a&&(a={});var b=Be(e,[nt,um],[ot,um],[pt,Nr]);return Hf(b[0],b[1],a,"HTTP",a)};h.fromFormat=function(e,a,b){void 0===b&&(b={});if(da(e)||
da(a))throw new Rb("fromFormat requires an input string and a format");var c=b,f=c.locale,c=c.numberingSystem,f=Ta.fromOpts({locale:void 0===f?null:f,numberingSystem:void 0===c?null:c,defaultToEN:!0}),d,f=Bm(f,e,a);d=[f.result,f.zone,f.invalidReason];f=d[0];c=d[1];return(d=d[2])?h.invalid(d):Hf(f,c,b,"format "+a,e)};h.fromString=function(e,a,b){void 0===b&&(b={});return h.fromFormat(e,a,b)};h.fromSQL=function(e,a){void 0===a&&(a={});var b=Be(e,[zt,Bt],[At,Ct]);return Hf(b[0],b[1],a,"SQL",e)};h.invalid=
function(e,a){void 0===a&&(a=null);if(!e)throw new Rb("need to specify a reason the DateTime is invalid");var b=e instanceof nc?e:new nc(e,a);if(ja.throwOnInvalid)throw new Zs(b);return new h({invalid:b})};h.isDateTime=function(e){return e&&e.isLuxonDateTime||!1};var l=h.prototype;l.get=function(e){return this[e]};l.resolvedLocaleOpts=function(e){void 0===e&&(e={});e=Ac.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:e.locale,numberingSystem:e.numberingSystem,outputCalendar:e.calendar}};
l.toUTC=function(e,a){void 0===e&&(e=0);void 0===a&&(a={});return this.setZone(Ab.instance(e),a)};l.toLocal=function(){return this.setZone(ja.defaultZone)};l.setZone=function(e,a){var b=void 0===a?{}:a,c=b.keepLocalTime,c=void 0===c?!1:c,b=b.keepCalendarTime,b=void 0===b?!1:b;e=Jd(e,ja.defaultZone);if(e.equals(this.zone))return this;if(e.isValid){var f=this.ts;if(c||b)c=e.offset(this.ts),b=this.toObject(),f=Gf(ye(b),c,e)[0];return Ff(this,{ts:f,zone:e})}return h.invalid(rh(e))};l.reconfigure=function(e){e=
void 0===e?{}:e;e=this.loc.clone({locale:e.locale,numberingSystem:e.numberingSystem,outputCalendar:e.outputCalendar});return Ff(this,{loc:e})};l.setLocale=function(e){return this.reconfigure({locale:e})};l.set=function(e){if(!this.isValid)return this;e=mh(e,Lm,[]);var a=!da(e.weekYear)||!da(e.weekNumber)||!da(e.weekday),b=!da(e.ordinal),c=!da(e.year),f=!da(e.month)||!da(e.day),d=e.weekYear||e.weekNumber;if((c||f||b)&&d)throw new Ef("Can't mix weekYear/weekNumber units with year/month/day or ordinals");
if(f&&b)throw new Ef("Can't mix ordinal dates with month/day");a?a=Em(Object.assign(Kj(this.c),e)):da(e.ordinal)?(a=Object.assign(this.toObject(),e),da(e.day)&&(a.day=Math.min(jh(a.year,a.month),a.day))):a=Fm(Object.assign(Lj(this.c),e));e=Gf(ye(a),this.o,this.zone);return Ff(this,{ts:e[0],o:e[1]})};l.plus=function(e){if(!this.isValid)return this;e=Nd(e);return Ff(this,Jm(this,e))};l.minus=function(e){if(!this.isValid)return this;e=Nd(e).negate();return Ff(this,Jm(this,e))};l.startOf=function(e){if(!this.isValid)return this;
var a={};e=lb.normalizeUnit(e);switch(e){case "years":a.month=1;case "quarters":case "months":a.day=1;case "weeks":case "days":a.hour=0;case "hours":a.minute=0;case "minutes":a.second=0;case "seconds":a.millisecond=0}"weeks"===e&&(a.weekday=1);"quarters"===e&&(e=Math.ceil(this.month/3),a.month=3*(e-1)+1);return this.set(a)};l.endOf=function(e){var a;return this.isValid?this.plus((a={},a[e]=1,a)).startOf(e).minus(1):this};l.toFormat=function(e,a){void 0===a&&(a={});return this.isValid?Ac.create(this.loc.redefaultToEN(a)).formatDateTimeFromString(this,
e):"Invalid DateTime"};l.toLocaleString=function(e){void 0===e&&(e=ph);return this.isValid?Ac.create(this.loc.clone(e),e).formatDateTime(this):"Invalid DateTime"};l.toLocaleParts=function(e){void 0===e&&(e={});return this.isValid?Ac.create(this.loc.clone(e),e).formatDateTimeParts(this):[]};l.toISO=function(e){void 0===e&&(e={});return!this.isValid?null:this.toISODate(e)+"T"+this.toISOTime(e)};l.toISODate=function(e){e=(void 0===e?{}:e).format;e="basic"===(void 0===e?"extended":e)?"yyyyMMdd":"yyyy-MM-dd";
9999<this.year&&(e="+"+e);return Ee(this,e)};l.toISOWeekDate=function(){return Ee(this,"kkkk-'W'WW-c")};l.toISOTime=function(e){var a=void 0===e?{}:e;e=a.suppressMilliseconds;var b=a.suppressSeconds,c=a.includeOffset,f=a.includePrefix,a=a.format;return Km(this,{suppressSeconds:void 0===b?!1:b,suppressMilliseconds:void 0===e?!1:e,includeOffset:void 0===c?!0:c,includePrefix:void 0===f?!1:f,format:void 0===a?"extended":a})};l.toRFC2822=function(){return Ee(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)};l.toHTTP=
function(){return Ee(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")};l.toSQLDate=function(){return Ee(this,"yyyy-MM-dd")};l.toSQLTime=function(e){var a=void 0===e?{}:e;e=a.includeOffset;a=a.includeZone;return Km(this,{includeOffset:void 0===e?!0:e,includeZone:void 0===a?!1:a,spaceZone:!0})};l.toSQL=function(e){void 0===e&&(e={});return!this.isValid?null:this.toSQLDate()+" "+this.toSQLTime(e)};l.toString=function(){return this.isValid?this.toISO():"Invalid DateTime"};l.valueOf=function(){return this.toMillis()};
l.toMillis=function(){return this.isValid?this.ts:NaN};l.toSeconds=function(){return this.isValid?this.ts/1E3:NaN};l.toJSON=function(){return this.toISO()};l.toBSON=function(){return this.toJSDate()};l.toObject=function(e){void 0===e&&(e={});if(!this.isValid)return{};var a=Object.assign({},this.c);e.includeConfig&&(a.outputCalendar=this.outputCalendar,a.numberingSystem=this.loc.numberingSystem,a.locale=this.loc.locale);return a};l.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)};l.diff=
function(e,a,b){void 0===a&&(a="milliseconds");void 0===b&&(b={});if(!this.isValid||!e.isValid)return lb.invalid(this.invalid||e.invalid,"created by diffing an invalid DateTime");b=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},b);var c=(Array.isArray(a)?a:[a]).map(lb.normalizeUnit);a=e.valueOf()>this.valueOf();e=Rr(a?this:e,a?e:this,c,b);return a?e.negate():e};l.diffNow=function(e,a){void 0===e&&(e="milliseconds");void 0===a&&(a={});return this.diff(h.now(),e,a)};l.until=
function(e){return this.isValid?cg.fromDateTimes(this,e):this};l.hasSame=function(e,a){if(!this.isValid)return!1;var b=e.valueOf(),c=this.setZone(e.zone,{keepLocalTime:!0});return c.startOf(a)<=b&&b<=c.endOf(a)};l.equals=function(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)};l.toRelative=function(e){void 0===e&&(e={});if(!this.isValid)return null;var a=e.base||h.fromObject({zone:this.zone}),b=e.padding?this<a?-e.padding:e.padding:
0,c="years months days hours minutes seconds".split(" "),f=e.unit;Array.isArray(e.unit)&&(c=e.unit,f=void 0);return Qm(a,this.plus(b),Object.assign(e,{numeric:"always",units:c,unit:f}))};l.toRelativeCalendar=function(e){void 0===e&&(e={});return!this.isValid?null:Qm(e.base||h.fromObject({zone:this.zone}),this,Object.assign(e,{numeric:"auto",units:["years","months","days"],calendary:!0}))};h.min=function(){for(var e=arguments.length,a=Array(e),b=0;b<e;b++)a[b]=arguments[b];if(!a.every(h.isDateTime))throw new Rb("min requires all arguments be DateTimes");
return em(a,function(a){return a.valueOf()},Math.min)};h.max=function(){for(var e=arguments.length,a=Array(e),b=0;b<e;b++)a[b]=arguments[b];if(!a.every(h.isDateTime))throw new Rb("max requires all arguments be DateTimes");return em(a,function(a){return a.valueOf()},Math.max)};h.fromFormatExplain=function(e,a,b){void 0===b&&(b={});var c=b;b=c.locale;c=c.numberingSystem;b=Ta.fromOpts({locale:void 0===b?null:b,numberingSystem:void 0===c?null:c,defaultToEN:!0});return Bm(b,e,a)};h.fromStringExplain=function(e,
a,b){void 0===b&&(b={});return h.fromFormatExplain(e,a,b)};kc(h,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?
this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",
get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Mj(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Mj(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Mj(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Lj(this.c).ordinal:NaN}},
{key:"monthShort",get:function(){return this.isValid?dg.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?dg.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?dg.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?dg.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?
+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}},{key:"isInLeapYear",
get:function(){return yc(this.year)}},{key:"daysInMonth",get:function(){return jh(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?yc(this.year)?366:365:NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?kh(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return ph}},{key:"DATE_MED",get:function(){return ij}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return om}},{key:"DATE_FULL",get:function(){return jj}},{key:"DATE_HUGE",get:function(){return kj}},
{key:"TIME_SIMPLE",get:function(){return lj}},{key:"TIME_WITH_SECONDS",get:function(){return mj}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return nj}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return oj}},{key:"TIME_24_SIMPLE",get:function(){return pj}},{key:"TIME_24_WITH_SECONDS",get:function(){return qj}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return rj}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return sj}},{key:"DATETIME_SHORT",get:function(){return tj}},{key:"DATETIME_SHORT_WITH_SECONDS",
get:function(){return xj}},{key:"DATETIME_MED",get:function(){return uj}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return yj}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return pm}},{key:"DATETIME_FULL",get:function(){return vj}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return zj}},{key:"DATETIME_HUGE",get:function(){return wj}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return Aj}}]);return h}();O.DateTime=Qa;O.Duration=lb;O.FixedOffsetZone=Ab;O.IANAZone=zc;O.Info=dg;O.Interval=
cg;O.InvalidZone=Bj;O.LocalZone=Fn;O.Settings=ja;O.VERSION="1.28.1";O.Zone=ze;var pk=function(h){var l=typeof h;return null!=h&&("object"==l||"function"==l)},Qn={};(function(h){Qn="object"==typeof h&&h&&h.Object===Object&&h}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Jt="object"==typeof self&&self&&self.Object===Object&&self,Sh=Qn||Jt||Function("return this")(),Th=Sh.Symbol,Rn=Object.prototype,Kt=Rn.hasOwnProperty,Lt=Rn.toString,
eg=Th?Th.toStringTag:void 0,Mt=Object.prototype.toString,Sn=Th?Th.toStringTag:void 0,Tn=0/0,Nt=/^\s+|\s+$/g,Ot=/^[-+]0x[0-9a-f]+$/i,Pt=/^0b[01]+$/i,Qt=/^0o[0-7]+$/i,Rt=parseInt,Un=function(h){if("number"==typeof h)return h;var l;if(!(l="symbol"==typeof h))if(l=null!=h&&"object"==typeof h){l=h;var e;if(null==l)e=void 0===l?"[object Undefined]":"[object Null]";else if(Sn&&Sn in Object(l)){var a=Kt.call(l,eg),b=l[eg];try{l[eg]=void 0,e=!0}catch(c){}var f=Lt.call(l);e&&(a?l[eg]=b:delete l[eg]);e=f}else e=
Mt.call(l);l="[object Symbol]"==e}if(l)return Tn;pk(h)&&(h="function"==typeof h.valueOf?h.valueOf():h,h=pk(h)?h+"":h);if("string"!=typeof h)return 0===h?h:+h;h=h.replace(Nt,"");return(e=Pt.test(h))||Qt.test(h)?Rt(h.slice(2),e?2:8):Ot.test(h)?Tn:+h},St=Math.max,Tt=Math.min,qk=function(h){function l(a){if(e[a])return e[a].exports;var b=e[a]={i:a,l:!1,exports:{}};h[a].call(b.exports,b,b.exports,l);b.l=!0;return b.exports}var e={};l.m=h;l.c=e;l.d=function(a,b,c){l.o(a,b)||Object.defineProperty(a,b,{enumerable:!0,
get:c})};l.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,"__esModule",{value:!0})};l.t=function(a,b){b&1&&(a=l(a));if(b&8||b&4&&"object"===typeof a&&a&&a.__esModule)return a;var c=Object.create(null);l.r(c);Object.defineProperty(c,"default",{enumerable:!0,value:a});if(b&2&&"string"!=typeof a)for(var f in a)l.d(c,f,function(c){return a[c]}.bind(null,f));return c};l.n=function(a){var b=a&&a.__esModule?
function(){return a["default"]}:function(){return a};l.d(b,"a",b);return b};l.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};l.p="";return l(l.s="./NumberFormat/src/NumberFormatter.js")}({"./Common/src/collection/Cache.js":function(h,l,e){e.r(l);e.d(l,"default",function(){return c});var a=e("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),b=e("./node_modules/@babel/runtime/helpers/esm/createClass.js"),c=function(){function c(b){Object(a["default"])(this,c);this._cache=
new Map;this._misses=this._hits=this._size=0;b&&this.setLimit(b)}Object(b["default"])(c,[{key:"put",value:function(a,c){var b=this._cache.get(a);b?(b.value=c,this._remove(b)):b={key:a,value:c};return this._insert(b).value}},{key:"shift",value:function(){return this._remove(this._head)}},{key:"has",value:function(a){return this._cache.has(a)}},{key:"get",value:function(a){if(a=this._cache.get(a))return this._hits++,this._remove(a),this._insert(a).value;this._misses++}},{key:"getOrPut",value:function(a,
c){var b=this.get(a);return null!=b?b:this._insert({key:a,value:c()}).value}},{key:"delete",value:function(a){if(a=this._cache.get(a))return this._remove(a)}},{key:"flush",value:function(){delete this._head;delete this._tail;this._size=0;this._cache=new Map;return this}},{key:"keys",value:function(){for(var a=this._head,c=[];a;){var b=a.key,a=a.newer;c.push(b)}return c}},{key:"setLimit",value:function(a){this._limit=a;a=this._size-a;if(0<a)for(;--a;)this.shift();return this}},{key:"clone",value:function(){for(var a=
new c(this._limit),b=this._head;b;)a.put(b.key,b.value),b=b.newer;return a}},{key:"_remove",value:function(a){if(a)return this._cache.delete(a.key),a.newer?a.newer.older=a.older:this._tail=a.older,a.older?a.older.newer=a.newer:this._head=a.newer,this._size--,a}},{key:"_insert",value:function(a){this._cache.set(a.key,a);this._tail?(this._tail.newer=a,a.older=this._tail):this._head=a;delete a.newer;this._tail=a;this._size===this._limit&&this._remove(this._head);this._size++;return a}}]);return c}()},
"./Common/src/util/NumberUtil.js":function(h,l,e){function a(a,c){var b=a%c;return 0>b?b+c:b}function b(a){return Number(a).toLocaleString()}function c(a,c){var b=0>a,f=Math.abs(a);if(0===c)f=Math.round(f);else var d=Math.pow(10,c),f=Math.round(f*d)/d;return b&&0!==f?-f:f}function f(a){var b=a.toString(),f="-"===b.charAt(0);f&&(b=b.substring(1),a=-a);var e;if(1>Math.abs(a)&&(e=parseInt(b.split("e-")[1])))a*=Math.pow(10,e-1),a=c(a,15),b="0.".concat(Object(d.repeat)("0",e-1)).concat(a.toString().substring(2));
else if(20<(e=parseInt(b.split("+")[1])))e-=20,a/=Math.pow(10,e),b=a+Object(d.repeat)("0",e);f&&(b="-".concat(b));return b}e.r(l);e.d(l,"modulo",function(){return a});e.d(l,"toLocalizedString",function(){return b});e.d(l,"round",function(){return c});e.d(l,"toStandardFormString",function(){return f});var d=e("./Common/src/util/StringUtil.js")},"./Common/src/util/StringUtil.js":function(h,l,e){function a(a,c){return 0<=a.indexOf(c)}function b(a,c){return 0===a.indexOf(c)}function c(a,c){var b=a.lastIndexOf(c);
return 0>b?!1:a.length-c.length===b}function f(a){return a.replace(/^\s+/,"")}function d(a,c){return!a&&!c||a===c}function g(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,b=a.substr(1);c&&(b=b.toLowerCase());return a.charAt(0).toUpperCase()+b}function k(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return a.substr(0,c).toUpperCase()+a.substr(c)}function m(a){var c=RegExp((1<arguments.length&&void 0!==arguments[1]?arguments[1]:"-")+"(.)","g");return a.toLowerCase().replace(c,
function(a,c){return c.toUpperCase()})}function n(a,c,b){for(a=a.toString();a.length<c;)a=b+a;return a}function q(a,c){return Array(c+1).join(a)}function s(a){var c=a.length,b="";if(0<c)for(;c--;)b+=a.charAt(c);return b}function u(a,c,b){if(c>a.length)throw Error("Invalid position (".concat(c,') and replacement ("').concat(b,'") for string "').concat(a,'".)'));return a.slice(0,c)+b+a.slice(c+b.length)}function A(a){return 1<arguments.length&&void 0!==arguments[1]&&arguments[1]?a.replace(/'/g,"\\'"):
a.replace(/"/g,'\\"')}function t(a){return a.replace(/\\/g,"\\\\")}function p(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;return A(t(a),c)}function r(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;return"string"!==typeof a?a:c?"'".concat(p(a,c),"'"):'"'.concat(p(a,c),'"')}function v(a){if(!a)return a;var c=Object.keys(K.decodeMap);return a.replace(RegExp("(".concat(c.join("|"),")"),"g"),function(a){return K.decodeMap[a]})}function y(a){if(!a)return a;var c=
Object.keys(K.encodeMap);return a.replace(RegExp("(".concat(c.join("|"),")"),"g"),function(a){return"\\"!==a?K.encodeMap[a]:K.encodeMap["\\\\"]})}e.r(l);e.d(l,"contains",function(){return a});e.d(l,"startsWith",function(){return b});e.d(l,"endsWith",function(){return c});e.d(l,"leftTrim",function(){return f});e.d(l,"isEqual",function(){return d});e.d(l,"capitalizeFirst",function(){return g});e.d(l,"toUpperCaseFirstN",function(){return k});e.d(l,"camelCase",function(){return m});e.d(l,"leftPad",function(){return n});
e.d(l,"repeat",function(){return q});e.d(l,"reverse",function(){return s});e.d(l,"splice",function(){return u});e.d(l,"escapeQuotes",function(){return A});e.d(l,"escapeBackslash",function(){return t});e.d(l,"escapeQuotesAndBackslash",function(){return p});e.d(l,"quoteValue",function(){return r});e.d(l,"decodeHTMLString",function(){return v});e.d(l,"encodeHTMLString",function(){return y});var K={decodeMap:{"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"',"\x26#39;":"'","\x26#92;":"\\"},
encodeMap:{}};h=0;for(l=Object.keys(K.decodeMap);h<l.length;h++){e=l[h];var B=K.decodeMap[e];"\\"!==B?K.encodeMap[B]=e:K.encodeMap["\\".concat(B)]=e}},"./NumberFormat/src/NumberFormatter.js":function(h,l,e){function a(a){a={thousands:a&&a.thousands||",",decimal:a&&a.decimal||"."};1<a.thousands.length&&(a.thousands=a.thousands.charAt(0));1<a.decimal.length&&(a.decimal=a.decimal.charAt(0));return a}function b(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(""===c)return a;var b=
Object(v.reverse)(Object(v.reverse)(a).replace(/(\d{3})/g,"$1"+c));b.charAt(0)===c?b=b.substring(1):"-"===b.charAt(0)&&b.charAt(1)===c&&(b="-"+b.substring(2));return b}function c(a,c,b){var f=a,d=c;b||(f=Object(v.reverse)(a),d=Object(v.reverse)(c));d=Object(v.escapeQuotesAndBackslash)(d);c=a=0;var e="",g="-"===f.charAt(f.length-1);for(g&&(f=f.substring(0,f.length-1));a<d.length&&c<f.length&&0<=d.substring(a).search(/[0#?]/);)d.charAt(a).match(/[0?]/)?(e="-"!==f.charAt(c)?e+f.charAt(c):e+"0",a++,c++):
"#"===d.charAt(a)?b?(f.length>=d.substring(a).length&&(e+=f.charAt(c),c++),a++):(e="-"!==f.charAt(c)?e+f.charAt(c):e+"0",a++,c++):(e+=d.charAt(a),a++);c<f.length&&(e+=f.substring(c));a<d.length&&(e+=d.substring(a));g&&(e+="-");e=e.replace(/#/g,"").replace(/\?/g," ");b||(e=Object(v.reverse)(e));return e}function f(a,f,d){if(0<a.length&&-1===a.search(/[0#?]/))return function(){return a.replace(/('|\\)/g,"\\$1")};var e=a,g="",k;if(k=a.replace(/(e)([+-]?)(0+)/i,"").match(/^([^.]*)\.(.*)$/))e=k[1].replace(/\./g,
""),g=k[2].replace(/\./g,"");var h=0<=e.search(/[0#?],[0#?]/);if(k||h)e=e.replace(/,/g,"");var l=(k=e.match(/0[0#?]*/))?k[0].length:0;k=g.lastIndexOf("0");var m=-1!==k?k+1:0,n=(k=g.match(/[0#?]*/))?k[0].length:0,q=(k=e.match(/(,+)(?:$|[^0#?,])/))?Math.pow(1E3,k[1].length):1;return function(a){a/=q;var k=Object(y.round)(a,n),s=Object(y.toStandardFormString)(k).split("."),u=s[1]?s[1].replace(/\./g,"").length:0,u=(u<m?m:u)-u;!d&&0<u&&(s[1]=(null!=s[1]?s[1]:"")+Object(v.repeat)("0",u));(u=g.match(/[^#0]/)&&
null==s[1])&&(s[1]="");s[0]=0!==k&&0>a?"-".concat(Object(v.leftPad)(s[0].substring(1),l,"0")):Object(v.leftPad)(s[0],l,"0");h&&(s[0]=b(s[0],f.thousands));s[0]=c(s[0],e,!1);!d&&null!=s[1]&&(s[1]=c(s[1],g,!0));return u?s[0]+s[1]:s.join(f.decimal)}}function d(a,c,b){var d=c?a+JSON.stringify(c)+Number(b):a+Number(b);return x.getOrPut(d,function(){return function(d){return f(a,c,b)(d)}})}function g(a,c,b,f,e){var g=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1,k=a*c,h;if(!b||f){h="";for(var l=
k,m=f?T[0]:T[2];l<m;)l*=10,10*Math.ceil(l/10)!==l&&(h+="#");h="#,###.".concat(h)}return d(h||b,e,g)(k)}function k(a,c){for(var b=Object(v.repeat)("0",c),f=0,d=a,e="";d<T[2];)d*=10,f++,10*Math.ceil(d/10)!==d&&f>c&&(e+="#");return"#,###.".concat(b).concat(e)}function m(a){var c=a.n,b=a.scaledN,f=a.multiplier,d=a.formatString,e=a.byOriginalFormatString,g=a.compactDecimalDigits;a=a.minDecimalDigits;return 0<a?k(b,a):!d?"":e?d:0<=g?L.getOrPut(d+g,function(){return d.split(".")[0]+"."+Object(v.repeat)("0",
g)}):c*f>=T[1]&&c*f<T[0]?L.getOrPut(d+"smart",function(){return d.replace(/0/g,"#")}):""}function n(a){return!a?{prefix:"",suffix:"",stem:""}:X.getOrPut(a,function(){if(!a.match(/.*[#0-9].*/))return{prefix:"",suffix:"",stem:""};var c=a.replace(/[0#?].*/,""),b=a.replace(/.*[0#?]+/,"");"."===b&&(b="");var f=a.slice(c.length,a.length-b.length);return{prefix:c,suffix:b,stem:f}})}function q(a,c){var b=c&&c.split(";")||[],f=0>a&&1<b.length?b[1]:0===a&&2<b.length?b[2]:b[0],f=f&&f.trim().replace(/[<>"']/,
""),f=n(f);return{sign:0>a&&2>b.length?"-":"",prefix:f.prefix,suffix:f.suffix,stem:f.stem}}function s(a,c,b){return isNaN(a)||"number"!==typeof a?"":Infinity===a?"Infinity":-Infinity===a?"-Infinity":c+"0"+b}function u(a,c,b,f,d,e){var g=d&&d.decimal&&d.decimal[0]||".";d=b.split("").every(function(a){return"0"===a||a===g})?"":a;return e&&"-"===a?c+b+f+d:d+c+b+f}function A(a,c){return C.getOrPut("".concat(a,"-").concat(JSON.stringify(c)),function(){return new Intl.NumberFormat(a,c)})}function t(c){var b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=b.locale,d=b.formatString,e=b.multiplier,k=b.delimiters,h=b.byOriginalFormatString,l=void 0===h?!1:h,h=b.compactDecimalDigits,n=void 0===h?-1:h,h=b.minCompactDecimalDigits,t=void 0===h?0:h,h=b.minMidRangeCompactDecimalDigits,p=void 0===h?0:h,h=b.isPreciseCompact,w=void 0===h?!1:h,h=b.isRTL,h=void 0===h?!1:h,v=b.currencyIsoCode,b=b.removeTrailingZeros,b=void 0===b?!1:b;if(!d&&null!=v)return h=(1E-8>Math.abs(c)||1E14<Math.abs(c))&&0!==c?"scientific":
"compact",A(f,{style:"currency",currency:v,notation:h}).format(c);var y=null==e?1:e,v=q(c,d||""),f=v.sign,d=v.prefix,e=v.suffix,X=v.stem;if(0===c||Infinity===c||-Infinity===c||isNaN(c)||"number"!==typeof c)return s(c,d,e);var v=Math.abs(c),L=Math.abs(y),k=a(k);if(v*L>=T[0])if(!v||0===L)l="0";else{p=0;for(y=v;1E3<=Math.round(y*L);)y/=1E3,p++;if(K[p])var x=Object(r["default"])(0===p?[y,L]:[y*L,1],2),y=x[0],x=x[1],l=m({n:v,scaledN:y,multiplier:L,formatString:X,byOriginalFormatString:l,compactDecimalDigits:n,
minDecimalDigits:t}),l=g(y,x,l,w,k,b),l=0===p?l:l+K[p];else l=v.toExponential(0)}else if(v*L<T[1]&&0!==v){p=0;for(y=v;1E3>Math.round(1E3*y*L);)y*=1E3,p++;B[p]?(x=Object(r["default"])(0===p?[y,L]:[y*L,1],2),y=x[0],x=x[1],l=m({n:v,scaledN:y,multiplier:L,formatString:X,byOriginalFormatString:l,compactDecimalDigits:n,minDecimalDigits:t}),l=g(y,x,l,w,k,b),l=0===p?l:l+B[p]):l=v.toExponential(0)}else l=m({n:v,scaledN:v,multiplier:y,formatString:X,byOriginalFormatString:l,compactDecimalDigits:n,minDecimalDigits:p}),
l=g(v,L,l,w,k,b);return u(f,d,l,e,k,h)}function p(c){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=b.locale,d=b.formatString,e=b.multiplier,k=b.delimiters,h=b.isRTL,b=b.currencyIsoCode;if(!d&&null!=b)return A(f,{style:"currency",currency:b}).format(c);var f=null==e?1:e,l=q(c,d||""),d=l.sign,e=l.prefix,b=l.suffix,l=l.stem,k=a(k);if(0===c&&!l||Infinity===c||-Infinity===c||isNaN(c)||"number"!==typeof c)return s(c,e,b);f=g(Math.abs(c),Math.abs(f),l,void 0,k);return u(d,e,f,b,k,h)}
e.r(l);e.d(l,"getFormatParts",function(){return q});e.d(l,"formatCompact",function(){return t});e.d(l,"format",function(){return p});var r=e("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");h=e("./Common/src/collection/Cache.js");var v=e("./Common/src/util/StringUtil.js"),y=e("./Common/src/util/NumberUtil.js"),K=" \u1d0b \u1d0d \u0299 \u1d1b \u1d18 x \u1d22 \u028f".split(" "),B=" m \u03bc n p f a z y".split(" "),T=[1E3,0.01,10],X=new h["default"](1E3),x=new h["default"](1E3),L=new h["default"](1E3),
C=new h["default"]},"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":function(h,l,e){function a(a,c){if(null==c||c>a.length)c=a.length;for(var f=0,d=Array(c);f<c;f++)d[f]=a[f];return d}e.r(l);e.d(l,"default",function(){return a})},"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":function(h,l,e){function a(a){if(Array.isArray(a))return a}e.r(l);e.d(l,"default",function(){return a})},"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js":function(h,l,e){function a(a,
c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}e.r(l);e.d(l,"default",function(){return a})},"./node_modules/@babel/runtime/helpers/esm/createClass.js":function(h,l,e){function a(a,b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}function b(c,b,d){b&&a(c.prototype,b);d&&a(c,d);return c}e.r(l);e.d(l,"default",function(){return b})},"./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":function(h,
l,e){function a(a,c){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(a)){var f=[],d=!0,e=!1,k=void 0;try{for(var h=a[Symbol.iterator](),l;!(d=(l=h.next()).done)&&!(f.push(l.value),c&&f.length===c);d=!0);}catch(q){e=!0,k=q}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(e)throw k;}}return f}}e.r(l);e.d(l,"default",function(){return a})},"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":function(h,l,e){function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}e.r(l);e.d(l,"default",function(){return a})},"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":function(h,l,e){function a(a,e){return Object(b["default"])(a)||Object(c["default"])(a,e)||Object(f["default"])(a,e)||Object(d["default"])()}e.r(l);e.d(l,"default",function(){return a});var b=e("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),c=e("./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"),f=e("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),
d=e("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js")},"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":function(h,l,e){function a(a,f){if(a){if("string"===typeof a)return Object(b["default"])(a,f);var d=Object.prototype.toString.call(a).slice(8,-1);"Object"===d&&a.constructor&&(d=a.constructor.name);if("Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Object(b["default"])(a,f)}}e.r(l);e.d(l,
"default",function(){return a});var b=e("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js")}});"use strict";var Vn={e:function(h,l){var e=document.createElement(h);e.className=l;return e},appendTo:function(h,l){l.appendChild(h);return h},css:function(h,l,e){if("object"===typeof l){for(var a in l)e=l[a],"number"===typeof e&&(e=e.toString()+"px"),h.style[a]=e;return h}if("undefined"===typeof e)return window.getComputedStyle(h)[l];a=e;"number"===typeof a&&(a=a.toString()+"px");h.style[l]=
a;return h},matches:function(h,l){if("undefined"!==typeof h.matches)return h.matches(l);if("undefined"!==typeof h.matchesSelector)return h.matchesSelector(l);if("undefined"!==typeof h.webkitMatchesSelector)return h.webkitMatchesSelector(l);if("undefined"!==typeof h.mozMatchesSelector)return h.mozMatchesSelector(l);if("undefined"!==typeof h.msMatchesSelector)return h.msMatchesSelector(l)},remove:function(h){"undefined"!==typeof h.remove?h.remove():h.parentNode&&h.parentNode.removeChild(h)},queryChildren:function(h,
l){return Array.prototype.filter.call(h.childNodes,function(e){return Vn.matches(e,l)})}},H=Vn,gb={};"use strict";gb.add=function(h,l){if(h.classList)h.classList.add(l);else{var e=h.className.split(" ");0>e.indexOf(l)&&e.push(l);h.className=e.join(" ")}};gb.remove=function(h,l){if(h.classList)h.classList.remove(l);else{var e=h.className.split(" "),a=e.indexOf(l);0<=a&&e.splice(a,1);h.className=e.join(" ")}};gb.list=function(h){return h.classList?Array.prototype.slice.apply(h.classList):h.className.split(" ")};
var E={};"use strict";E.toInt=function(h){return parseInt(h,10)||0};E.clone=function(h){if(null===h)return null;if("object"===typeof h){var l={},e;for(e in h)l[e]=this.clone(h[e]);return l}return h};E.extend=function(h,l){var e=this.clone(h),a;for(a in l)e[a]=this.clone(l[a]);return e};E.isEditable=function(h){return H.matches(h,"input,[contenteditable]")||H.matches(h,"select,[contenteditable]")||H.matches(h,"textarea,[contenteditable]")||H.matches(h,"button,[contenteditable]")};E.removePsClasses=
function(h){for(var l=gb.list(h),e=0;e<l.length;e++){var a=l[e];0===a.indexOf("ps-")&&gb.remove(h,a)}};E.outerWidth=function(h){return this.toInt(H.css(h,"width"))+this.toInt(H.css(h,"paddingLeft"))+this.toInt(H.css(h,"paddingRight"))+this.toInt(H.css(h,"borderLeftWidth"))+this.toInt(H.css(h,"borderRightWidth"))};E.startScrolling=function(h,l){gb.add(h,"ps-in-scrolling");"undefined"!==typeof l?gb.add(h,"ps-"+l):(gb.add(h,"ps-x"),gb.add(h,"ps-y"))};E.stopScrolling=function(h,l){gb.remove(h,"ps-in-scrolling");
"undefined"!==typeof l?gb.remove(h,"ps-"+l):(gb.remove(h,"ps-x"),gb.remove(h,"ps-y"))};E.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints};"use strict";var ds={maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,
useBothWheelAxes:!1,useKeyboard:!0,useSelectionScroll:!1,wheelPropagation:!1,wheelSpeed:1};"use strict";var Uh=function(h){this.element=h;this.events={}};Uh.prototype.bind=function(h,l){"undefined"===typeof this.events[h]&&(this.events[h]=[]);this.events[h].push(l);this.element.addEventListener(h,l,!1)};Uh.prototype.unbind=function(h,l){var e="undefined"!==typeof l;this.events[h]=this.events[h].filter(function(a){if(e&&a!==l)return!0;this.element.removeEventListener(h,a,!1);return!1},this)};Uh.prototype.unbindAll=
function(){for(var h in this.events)this.unbind(h)};var Je=function(){this.eventElements=[]};Je.prototype.eventElement=function(h){var l=this.eventElements.filter(function(e){return e.element===h})[0];"undefined"===typeof l&&(l=new Uh(h),this.eventElements.push(l));return l};Je.prototype.bind=function(h,l,e){this.eventElement(h).bind(l,e)};Je.prototype.unbind=function(h,l,e){this.eventElement(h).unbind(l,e)};Je.prototype.unbindAll=function(){for(var h=0;h<this.eventElements.length;h++)this.eventElements[h].unbindAll()};
Je.prototype.once=function(h,l,e){var a=this.eventElement(h),b=function(c){a.unbind(l,b);e(c)};a.bind(l,b)};var es=Je;"use strict";var Ut=function(){function h(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return h()+h()+"-"+h()+"-"+h()+"-"+h()+"-"+h()+h()+h()}}(),Ua={};"use strict";var Vh={};Ua.add=function(h){var l=Ut();"undefined"===typeof h.dataset?h.setAttribute("data-ps-id",l):h.dataset.psId=l;Vh[l]=new cs(h);return Vh[l]};Ua.remove=function(h){delete Vh[Rm(h)];
"undefined"===typeof h.dataset?h.removeAttribute("data-ps-id"):delete h.dataset.psId};Ua.get=function(h){return Vh[Rm(h)]};"use strict";"use strict";var Wn=document.createEvent("Event"),Xn=document.createEvent("Event"),Yn=document.createEvent("Event"),Zn=document.createEvent("Event"),$n=document.createEvent("Event"),ao=document.createEvent("Event"),bo=document.createEvent("Event"),co=document.createEvent("Event"),eo=document.createEvent("Event"),fo=document.createEvent("Event"),fg,gg;Wn.initEvent("ps-scroll-up",
!0,!0);Xn.initEvent("ps-scroll-down",!0,!0);Yn.initEvent("ps-scroll-left",!0,!0);Zn.initEvent("ps-scroll-right",!0,!0);$n.initEvent("ps-scroll-y",!0,!0);ao.initEvent("ps-scroll-x",!0,!0);bo.initEvent("ps-x-reach-start",!0,!0);co.initEvent("ps-x-reach-end",!0,!0);eo.initEvent("ps-y-reach-start",!0,!0);fo.initEvent("ps-y-reach-end",!0,!0);var Xa=function(h,l,e){if("undefined"===typeof h)throw"You must provide an element to the update-scroll function";if("undefined"===typeof l)throw"You must provide an axis to the update-scroll function";
if("undefined"===typeof e)throw"You must provide a value to the update-scroll function";if("top"===l&&0>=e)h.scrollTop=0,h.dispatchEvent(eo);else if("left"===l&&0>=e)h.scrollLeft=0,h.dispatchEvent(bo);else{var a=Ua.get(h);"top"===l&&e>a.contentHeight-a.containerHeight?(h.scrollTop=a.contentHeight-a.containerHeight,h.dispatchEvent(fo)):"left"===l&&e>a.contentWidth-a.containerWidth?(h.scrollLeft=a.contentWidth-a.containerWidth,h.dispatchEvent(co)):(fg||(fg=h.scrollTop),gg||(gg=h.scrollLeft),"top"===
l&&e<fg&&h.dispatchEvent(Wn),"top"===l&&e>fg&&h.dispatchEvent(Xn),"left"===l&&e<gg&&h.dispatchEvent(Yn),"left"===l&&e>gg&&h.dispatchEvent(Zn),"top"===l&&(h.scrollTop=fg=e,h.dispatchEvent($n)),"left"===l&&(h.scrollLeft=gg=e,h.dispatchEvent(ao)))}};"use strict";var oc=function(h){var l=Ua.get(h);l.containerWidth=h.clientWidth;l.containerHeight=h.clientHeight;l.contentWidth=h.scrollWidth;l.contentHeight=h.scrollHeight;var e;h.contains(l.scrollbarXRail)||(e=H.queryChildren(h,".ps-scrollbar-x-rail"),0<
e.length&&e.forEach(function(a){H.remove(a)}),H.appendTo(l.scrollbarXRail,h));h.contains(l.scrollbarYRail)||(e=H.queryChildren(h,".ps-scrollbar-y-rail"),0<e.length&&e.forEach(function(a){H.remove(a)}),H.appendTo(l.scrollbarYRail,h));!l.settings.suppressScrollX&&l.containerWidth+l.settings.scrollXMarginOffset<l.contentWidth?(l.scrollbarXActive=!0,l.railXWidth=l.containerWidth-l.railXMarginWidth,l.railXRatio=l.containerWidth/l.railXWidth,l.scrollbarXWidth=Sm(l,E.toInt(l.railXWidth*l.containerWidth/
l.contentWidth)),l.scrollbarXLeft=E.toInt((l.negativeScrollAdjustment+h.scrollLeft)*(l.railXWidth-l.scrollbarXWidth)/(l.contentWidth-l.containerWidth))):(l.scrollbarXActive=!1,l.scrollbarXWidth=0,l.scrollbarXLeft=0,h.scrollLeft=0);!l.settings.suppressScrollY&&l.containerHeight+l.settings.scrollYMarginOffset<l.contentHeight?(l.scrollbarYActive=!0,l.railYHeight=l.containerHeight-l.railYMarginHeight,l.railYRatio=l.containerHeight/l.railYHeight,l.scrollbarYHeight=Sm(l,E.toInt(l.railYHeight*l.containerHeight/
l.contentHeight)),l.scrollbarYTop=E.toInt(h.scrollTop*(l.railYHeight-l.scrollbarYHeight)/(l.contentHeight-l.containerHeight))):(l.scrollbarYActive=!1,l.scrollbarYHeight=0,l.scrollbarYTop=0,Xa(h,"top",0));l.scrollbarXLeft>=l.railXWidth-l.scrollbarXWidth&&(l.scrollbarXLeft=l.railXWidth-l.scrollbarXWidth);l.scrollbarYTop>=l.railYHeight-l.scrollbarYHeight&&(l.scrollbarYTop=l.railYHeight-l.scrollbarYHeight);fs(h,l);gb[l.scrollbarXActive?"add":"remove"](h,"ps-active-x");gb[l.scrollbarYActive?"add":"remove"](h,
"ps-active-y")};"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";var r=Nj(U),rk=Nj(function(h,l,e){function a(a){var c=g,b=k;g=k=void 0;u=a;return n=h.apply(b,c)}function b(a){var c=a-s;a-=u;return void 0===s||c>=l||0>c||t&&a>=m}function c(){var a=Sh.Date.now();if(b(a))return f(a);var d=setTimeout,e=c,g;g=a-u;a=l-(a-s);g=t?Tt(a,m-g):a;q=d(e,g)}function f(c){q=void 0;if(p&&g)return a(c);g=k=void 0;
return n}function d(){var f=Sh.Date.now(),d=b(f);g=arguments;k=this;s=f;if(d){if(void 0===q)return u=f=s,q=setTimeout(c,l),A?a(f):n;if(t)return clearTimeout(q),q=setTimeout(c,l),a(s)}void 0===q&&(q=setTimeout(c,l));return n}var g,k,m,n,q,s,u=0,A=!1,t=!1,p=!0;if("function"!=typeof h)throw new TypeError("Expected a function");l=Un(l)||0;pk(e)&&(A=!!e.leading,m=(t="maxWait"in e)?St(Un(e.maxWait)||0,l):m,p="trailing"in e?!!e.trailing:p);d.cancel=function(){void 0!==q&&clearTimeout(q);u=0;g=s=k=q=void 0};
d.flush=function(){return void 0===q?n:f(Sh.Date.now())};return d}),sk=Nj({initialize:function(h,l){l="object"===typeof l?l:{};gb.add(h,"ps-container");var e=Ua.add(h);e.settings=E.extend(e.settings,l);var a=Ua.get(h);gs(h,a);a=Ua.get(h);hs(h,a);is(h,a);a=Ua.get(h);ks(h,a);a=Ua.get(h);ls(h,a);e.settings.useSelectionScroll&&(a=Ua.get(h),ms(h,a));if(E.env.supportsTouch||E.env.supportsIePointer){var a=E.env.supportsTouch,b=E.env.supportsIePointer,c=Ua.get(h);ns(h,c,a,b)}e.settings.useKeyboard&&(e=Ua.get(h),
js(h,e));oc(h)},update:function(h){var l=Ua.get(h);l&&(l.negativeScrollAdjustment=l.isNegativeScroll?h.scrollWidth-h.clientWidth:0,H.css(l.scrollbarXRail,"display","block"),H.css(l.scrollbarYRail,"display","block"),l.railXMarginWidth=E.toInt(H.css(l.scrollbarXRail,"marginLeft"))+E.toInt(H.css(l.scrollbarXRail,"marginRight")),l.railYMarginHeight=E.toInt(H.css(l.scrollbarYRail,"marginTop"))+E.toInt(H.css(l.scrollbarYRail,"marginBottom")),H.css(l.scrollbarXRail,"display","none"),H.css(l.scrollbarYRail,
"display","none"),oc(h),H.css(l.scrollbarXRail,"display",""),H.css(l.scrollbarYRail,"display",""))},destroy:function(h){var l=Ua.get(h);l&&(l.event.unbindAll(),H.remove(l.scrollbarX),H.remove(l.scrollbarY),H.remove(l.scrollbarXRail),H.remove(l.scrollbarYRail),E.removePsClasses(h),Ua.remove(h))}}),Ia={FONT:{FAMILY:'"Helvetica Neue", Helvetica, Arial, sans-serif',SIZE:12,LOADING_TEST:{TEXT:"9",WIDTH:7,MAX_DELAY:1E3}},DOCUMENT_READY_MAX_DELAY:6E4,VIEWPORT_PADDING:10,EPSILON:1E-7,ELLIPSIS:"..."},Yc=function(){};
Yc.prototype.ready=function(){throw Error("Not implemented.");};Yc.prototype.getRenderer=function(h){throw Error("Not implemented.");};Yc.prototype.require=function(h){throw Error("Not implemented.");};Yc.prototype.getTextWidth=function(h,l){throw Error("Not implemented.");};Yc.prototype.getTruncatedText=function(h,l,e){throw Error("Not implemented.");};Yc.prototype.getRealFontSize=function(h){throw Error("Not implemented.");};Yc.prototype.isPointInStroke=function(h,l,e,a,b){throw Error("Not implemented.");
};Yc.prototype.fontInfo=function(){throw Error("Not implemented.");};var Ma=function(){};Ma.RENDER_BEGIN="renderBegin";Ma.RENDER_END="renderEnd";Ma.RENDER_SKIPPED="renderSkipped";Ma.SELECTION_CHANGED="selectionChanged";Ma.SORT="sort";Ma.MOUSE_CLICK="mouseClick";Ma.MOUSE_LEAVE="mouseLeave";Ma.MOUSE_ENTER_HOTSPOT="mouseEnterHotSpot";Ma.MOUSE_LEAVE_HOTSPOT="mouseLeaveHotSpot";Ma.MOUSE_ENTER_SHAPE="mouseEnterShape";Ma.MOUSE_LEAVE_SHAPE="mouseLeaveShape";Ma.LEGEND_MOUSE_CLICK="legend::mouseClick";Ma.LEGEND_MOUSE_ENTER_HOTSPOT=
"legend::mouseEnterHotSpot";Ma.LEGEND_MOUSE_LEAVE_HOTSPOT="legend::mouseLeaveHotSpot";Ma.KEY_DOWN="keyDown";Ma.KEY_UP="keyUp";Ma.ERROR="error";var p={SHAPE_KEY_SEPARATOR:"||",ROW_INTERNAL_KEY:"$$ROW_INTERNAL",SERIES_KEY:"__series__",NULL_KEY:"$$null",PERCENTAGE_INFO_KEY:"__%__",TIME_GRANULARITY:{MILLISECOND:"millisecond",SECOND:"second",MINUTE:"minute",HOUR:"hour",DAY:"day",WEEK:"week",SFDC_WEEK:"sfdcWeek",MONTH:"month",QUARTER:"quarter",YEAR:"year",WEEKYEAR:"weekYear",FISCAL_YEAR:"fiscalYear",FISCAL_QUARTER:"fiscalQuarter",
FISCAL_MONTH:"fiscalMonth",FISCAL_WEEK:"fiscalWeek"},COLUMN_TYPE:{DIMENSION:"dimension",MEASURE:"measure",TIME:"time",GEO:"geo"},TEXTURE:{FIT:{COVER:"cover",CONTAIN:"contain",FILL:"fill"}},ICON:{SIZE:30,TEXT_PADDING:4},GEOMAP_TYPE:{CHOROPLETH:"choropleth",BUBBLE:"bubble",CLUSTER:"cluster",LATLNG:"latlng",HEATMAP:"heatmap"},MAPSOURCE_TYPE:{GEOJSON:"geojson",PRESET_BOUNDARIES:"preset_boundaries",GEOJSON_POINTS:"geojson_points",LATLNG:"Latlng"},CHART_LAYOUT:{COLOR_TYPE:{BINS:"bins",CATEGORICAL:"categorical",
GRADIENT:"gradient",CONSTANT:"constant"},RADIUS_TYPE:{SQRT:"sqrt"},AXIS_TYPE:{NUMERIC:"numeric",TIME:"time",CATEGORICAL:"categorical"},STACK_TYPE:{BY_MEASURE:"by_measure",BY_DIMENSION:"by_dimension"},CONSTANT:"constant"},CELL:{IGNORED_PATTERN:/^\*.*/},FORMAT:{PERCENT:{AXIS:["#%",1],MEASURE:["#.##%",1]}},SCALE:{LINEAR:"linear",SQRT:"sqrt"},SELECTMODE:{SINGLE:"single",SINGLE_REQUIRED:"singlerequired",MULTI:"multi",MULTI_REQUIRED:"multirequired",RANGE:"range",NONE:"none"},VALUETYPE:{COMPACT_NUMBER:"compactNumber",
NUMBER:"number",PERCENT:"percent",NONE:"none"},CENTER_VALUE_TYPE:{NONE:"none",NUMBER:"number",COMPACT_NUMBER:"compactNumber",TEXT:"text"},TOTAL_SUM_MODE:{NONE:"none",ABSOLUTE:"absolute",NET:"net"},SELECT_ACTION:{SELECT:"select",SELECT_EXCLUSIVE:"selectExclusive",UNSELECT:"unselect",RESET:"reset"},SELECT_STATE:{NONE:0,TRUE:1,FALSE:2},HOVER_STATE:{NONE:0,TRUE:1,FALSE:2},HOVER_SHAPE_EFFECT:{DIMMING_FACTOR:0.5},AUTOFIT_MODE:{FIT:"fit",KEEP_LABELS:"keepLabels",SCROLL:"scroll"},AXIS_MODE:{SYNC:"sync",DUAL:"dual",
MULTI:"multi"},CELL_RENDERER_TYPE:{DIMENSION:"dimension",TIME:"time",MEASURE:"measure",TITLE:"title"},CHART_MODE:{CLUSTER:"cluster",STACK:"stack"},MARK_TYPE:{BAR:"bar",LINE:"line",DOT:"dot"},MISSING_VALUE:{CONNECT:"connect",DISCONNECT:"disconnect",CUMULATIVE:"cumulative",CUMULATIVE_UNTIL_LAST_DATA:"cumulativeUntilLastData"},ROWS_LAYOUT:{TABULAR:"tabular"},TITLE:{DEFAULT_FONT_SIZE:14,DEFAULT_SUBTITLE_FONT_SIZE:11,DEFAULT_ALIGN:"left",PADDING_BETWEEN_SUBTITLE:12,PADDING_BOTTOM:16},MIN_FONT_SIZE:10,
TEXT_SIZE:12,PADDING:5,CELL_PADDING:5,SPACER:1,STACKBAR_TOTAL:{PADDING:5},LINE_STYLE:{SOLID:"solid",DASHED:"dashed"},DASHED_LINE_SPACING:5,MARK:{LINE:{LINE_WIDTH:2,POINT_RADIUS:3,LABEL_SIZE:26,TIME_POINT_RADIUS:3,MIN_LINE_WIDTH:1,MIN_POINT_RADIUS:0,MIN_LABEL_SIZE:10,FILL_AREA_OPACITY:0.1},BAR:{SIZE:25,SPACER:1,MIN_SIZE:1,MIN_SPACER:0,MAX_WIDTH:110,TEXT_PADDING:2,TEXT_SIZE:12},POINT:{RADIUS:8,MIN_RADIUS:2,MAX_RADIUS:45,MIN_RATIO:0.1,MAX_RATIO:10},DOT:{OPACITY_POS_VALUE:0.7,OPACITY_NEG_VALUE:0.1},PIE:{INNER_RADIUS_PERCENT:70},
POLAR_GAUGE:{INNER_RADIUS_PERCENT:80,TRACK_OPACITY:0.5},SPARKLINE:{LABEL_WIDTH:50},GAUGE:{INNER_RADIUS_PERCENT:90,ANGLE:180,MIN_ANGLE:90,MAX_ANGLE:270,MIN_LABEL_SIZE:5}},AXIS:{NUM:{TICKMARK:{HORI_DISTANCE:100,VERTI_DISTANCE:50,MIN_DISTANCE:40},TICKLABEL:{PADDING:5},TITLE:{HEIGHT:20},X:{HEIGHT:20},Y:{WIDTH:40,PADDING:10}},LABELS:{MIN_COLUMN_SIZE:30,PADDING:{WIDE:5,SMALL:2},LAYOUT:{NORMAL:"normal",ORTHOGONAL:"orthogonal",SLANTED:"slanted",VERTICAL:"vertical",HIDDEN:"hidden"},TEXT:{SIZE:12,HALIGN:"right"},
TITLE:{HEIGHT:20,SEPARATOR:" \x3e ",PADDING:{HORIZONTAL:2,VERTICAL:4}}},TIME:{TITLE:{HEIGHT:20},FORMATS:{millisecond:"SSS",second:"ss",minute:"mm",hour:"h a",day:"dd",week:"'W'W",sfdcWeek:"sfdcWeek",month:"MMM",quarter:"'Q'q",year:"yyyy",weekYear:"kkkk",fiscalYear:"fiscalYear",fiscalQuarter:"fiscalQuarter",fiscalMonth:"fiscalMonth",fiscalWeek:"fiscalWeek"}}},TRELLIS:{HEADER:{HEIGHT:40,WIDTH:40,WRAP:27},DEFAULT_SIZE:[200,200],CELL_PADDING:30,CELL_PADDING_WRAP:25,CHARTS_PER_LINE:3,MAX_NUM_CELLS:100},
SMALL_MULTIPLE:{CELL_PADDING:20},TREEMAP:{CELL_PADDING:5},ORDER:{ASC:"asc",DESC:"desc"},LEGEND:{MIN_PADDING:0,VPAD:5,HPAD:5,PADDING:10,POSITION:"right-top",TEXT:{SIZE:12}},SORT:{TYPE:{ROWS:"rows",VALUES:"values"},ORDER:{ASC:"asc",DESC:"desc"}},DATA_TYPE:{NUMBER:"number",DATE:"date"},GRADIENT_LEGEND:{GRADIENT:{WIDTH:12,MIN_WIDTH:12,MIN_RATIO:2},TEXT:{PADDING:5}},COLOR_LEGEND:{SWATCH:{PADDING:10,SIZE:12}},RADIAL_LEGEND:{MIN_RADIUS:13,BORDER:{WIDTH:1},TEXT:{SIZE:12,PADDING:12}},HOTSPOT:{COLOR:"#ffffff",
HOVER_COLOR:"#ffffff",BG_COLOR:"#6b7273",HOVER_BG_COLOR:"#6b7273"},ANIM_DURATION:{DEFAULT:1E3,RESIZE_DEBOUNCE:100,CROSSHAIR:50,HOVER:0,TAB:1,ONDEMAND_RENDER:100,IMAGE_LOADING_REDRAW:100},TOOLTIP:{LINE_TYPE:{MEASURE:"measure",DIMENSION:"dimension",PERCENT:"percent"},DEFAULT_DELAY:{SHOW:700,HIDE:500},INTERACTIVE_TOOLTIP_DELAY:{SHOW:1E3,HIDE:500}},CANVAS:{NO_EVENT_DURATION:500},COLOR_TYPE:{SIMPLE_COLOR:"simpleColor",LINEAR_GRADIENT:"linearGradient"},ACCESSIBILITY:{TYPE:{CAPTION:"caption",DATA:"captionData",
AXIS:"axis",LEGEND_DATA:"legendData"},CELL_TYPE:{DIMENSION:"dimension",MEASURE:"measure",REFERENCE_LINE:"referenceLine"},CAPTION_KEY:{TITLE:"Title",SUBTITLE:"Subtitle",DIMENSION_AXIS_TITLE:"Dimension Axis Title",MEASURE_AXIS_TITLE:"Measure Axis Title",THEME_NAME:"Theme Name",REFERENCE_LINE:"Reference Line",ERROR:"Error",MAP_NAME:"Map Name",BREAKPOINTS:"Gauge Break Points",GAUGE_LABEL:"Measure Label",TOTAL:"Total"},ID_SEPARATOR:"$%.",INACTIVE_WAIT:500},PATCH:{INSERT:"insert",UPDATE:"update",REMOVE:"remove"},
BRUSH:{CONTROL_POINT_LAYOUT:{HORIZONTAL:"horizontal",VERTICAL:"vertical"},CONTROL_POINT_SIZE:7,LAYER_TYPE:{DEFAULT:"default",TIME:"time"}},CURSOR_TYPE:{DEFAULT:"default",EW_RESIZE:"ew-resize",NS_RESIZE:"ns-resize",MOVE:"move",POINTER:"pointer"},OPTIMIZATION:{MEASURE_LABEL_SIZE:500},DECORATION_LAYER_TYPE:{CROSSHAIR:"crosshair",DISCRETE_CROSSHAIR:"discreetCrosshair",TIME_CROSSHAIR:"timeCrosshair"},INTERACTION_DELEGATE_TYPE:{ANNOTATION:"annotation",BRUSH:"brush",CENTER:"center",CROSSHAIR:"crosshair",
CURSOR:"cursor",CUSTOM:"custom",DISCRETE_CROSSHAIR:"discreteCrosshair",EVENT:"event",HIGHLIGHT:"highlight",RANGE:"range",SELECTION:"selection",TIME_CROSSHAIR:"timeCrosshair",TOOLTIP:"tooltip"},INTERACTION_TYPE:{ANNOTATION:"annotation",COMMON:"common",DIMENSION_CROSSHAIR:"dimensionCrosshair",CUSTOM:"custom",HIGHLIGHT:"highlight",RANGE_SELECTION:"rangeSelection",SELECTION:"selection",SINGLE_SELECTION:"singleSelection",TAB:"tab",TIME_CROSSHAIR:"timeCrosshair",MULTI_SELECTION:"multiSelection",SPACE:"space"},
TRANSFORM:{ROTATE:"rotate",FLIP_X:"flipX",FLIP_Y:"flipY"},SCORER_TYPE:{TRELLIS:"trellis",COLOR:"color",AXIS:"axis",CONTEXT:"context",POPULARITY:"popularity"},FEATURE_NAME:{TRELLIS:"trellis",CATEGORICAL_COLOR:"categorical_color",GRADIENT_COLOR:"gradient_color",BIN_COLOR:"bin_color",X_TIME_AXIS:"x_time_axis",Y_TIME_AXIS:"y_time_axis",X_DIMENSION_AXIS:"x_dimension_axis",X_MEASURE_AXIS:"x_measure_axis",Y_DIMENSION_AXIS:"y_dimension_axis",Y_MEASURE_AXIS:"y_measure_axis",MULTI_METRIC:"multi_metric",SINGLE_METRIC:"single_metric",
GEO_DATA:"geo_data",LAT_LNG:"lat_lng",FLOW_DIAGRAM:"flow_diagram",POPULARITY:"popularity"},UPDATE_STATE:{UPDATED:"updated",MODIFIED:"modified"},KEYBOARD_KEY:{TAB:"Tab",ENTER:"Enter",SHIFT:"Shift",SPACE:"Space",ARROW_UP:"ArrowUp",ARROW_LEFT:"ArrowLeft",ARROW_DOWN:"ArrowDown",ARROW_RIGHT:"ArrowRight",ESCAPE:"Escape"},RENDER_STATUS:{OK:"ok",SKIPPED:"skipped"},RENDER_TYPE:{UPDATE:"update",INTERACTION:"interaction"},EVENT_NAME:Ma,RENDER_SKIPPED_REASON:{SUPERSEDED:"superseded",NOT_IN_VIEWPORT:"notInViewport",
NO_CHANGE:"noChange"},UNDOCUMENTED_EVENTS:{LEGACY_SELECTION_CHANGED:"legacySelectionChanged",PERF_READY:"perfReady",MOUSE_UP:"mouseUp",MOUSE_DOWN:"mouseDown",MOUSE_MOVE:"mouseMove"},LOCALE:{DIR:{RTL:"rtl",LTR:"ltr"}},BOUND_TYPE:{REFLINE:"refline",DATA:"data",CUSTOM:"custom"}},Ke=function(){this.localeDir=""};Ke.prototype.setLocaleDirection=function(h){this.localeDir=h.toLowerCase();return this};Ke.prototype.getLocaleDirection=function(){return this.localeDir};Ke.prototype.isRTL=function(){return"rtl"===
this.localeDir};Ke.prototype.setLocale=function(h){this.locale=h;return this};Ke.prototype.getLocale=function(){return this.locale};var Fb=new Ke,Zc={rotate:function(h,l){if(l){var e=l.x,a=l.y,b=l.angle,c=h[0],f=h[1];if(b){var c=c-e,f=f-a,d=Math.cos(b),b=Math.sin(b);return[e+d*c-b*f,a+b*c+d*f]}return[c,f]}return h},centroid:function(h){var l=this.area(h);if(0===l)return[0,0];for(var e=h.length,a=0,b=0,c=0,f=e-1;c<e;)var d=h[c],f=h[f],g=d[0]*f[1]-f[0]*d[1],a=a+(d[0]+f[0])*g,b=b+(d[1]+f[1])*g,f=c,c=
c+1;l*=6;return[a/l,b/l]},area:function(h){for(var l=h.length,e=0,a=0,b=l-1;a<l;)var c=h[a],b=h[b],e=e+c[0]*b[1],e=e-c[1]*b[0],b=a,a=a+1;return e/2},multiPolygonCentroid:function(h){var l=this,e=-Infinity,a=h[0];h.forEach(function(b){var c=Math.abs(l.area(b[0]));if(c>e)return e=c,a=b});return this.centroid(a[0])}},fb=function(h){null==h&&(h={});var l=h.right,e=h.bottom,a=h.left;this.top=this._sanitizePad(h.top);this.right=this._sanitizePad(l);this.bottom=this._sanitizePad(e);this.left=this._sanitizePad(a)};
fb.prototype.rotate=function(h){null==h&&(h={});h=h.isCW;null==h&&(h=!1);h?(h=[this.top,this.right,this.bottom,this.left],this.right=h[0],this.bottom=h[1],this.left=h[2],this.top=h[3]):(h=[this.top,this.right,this.bottom,this.left],this.left=h[0],this.top=h[1],this.right=h[2],this.bottom=h[3]);return this};fb.prototype.flipX=function(){var h;h=[this.left,this.right];this.right=h[0];this.left=h[1];return this};fb.prototype.flipY=function(){var h;h=[this.top,this.bottom];this.bottom=h[0];this.top=h[1];
return this};fb.prototype._sanitizePad=function(h){return r.isNumber(h)&&r.isFinite(h)?Math.max(h,0):0};fb.prototype.toJson=function(){return{top:this.top,right:this.right,bottom:this.bottom,left:this.left}};fb.fromJson=function(h){return new fb(h)};var tk={escape:function(h){return h.replace(/('|\\)/g,"\\$1")},repeat:function(h,l){return Array(l+1).join(h)},leftPad:function(h,l,e){null==e&&(e=" ");for(h=h.toString();h.length<l;)h=e+h;return h},reverse:function(h){var l,e="";if(l=h.length)for(;l--;)e+=
h.charAt(l);return e}},hg={TYPE:{RGB:0,GRADIENT:1},type:function(h){return"gradient"===(null!=h?h.type:void 0)?this.TYPE.GRADIENT:this.TYPE.RGB},dimColor:function(h,l,e){if(null===h||void 0===h||"transparent"===h)return h;switch(this.type(h)){case this.TYPE.GRADIENT:var a=h.high;return{type:"gradient",low:this.dimColor(h.low,l,e),high:this.dimColor(a,l,e)};case this.TYPE.RGB:return h=this.rgb(h),h.r=Math.round(h.r*l),h.g=Math.round(h.g*l),h.b=Math.round(h.b*l),e&&(l=this.rgb(e),h.r+=l.r,h.g+=l.g,
h.b+=l.b),255<h.r&&(h.r=255),255<h.g&&(h.g=255),255<h.b&&(h.b=255),h.toString()}},rgbToHsl:function(h,l,e){var a,b;h/=255;l/=255;e/=255;var c=Math.max(h,l,e);a=Math.min(h,l,e);var f=(c+a)/2;if(c===a)a=b=0;else{var d=c-a;b=0.5<f?d/(2-c-a):d/(c+a);a=function(){switch(c){case h:return(l-e)/d+(l<e?6:0);case l:return(e-h)/d+2;case e:return(h-l)/d+4}}();a*=60}return{h:a,s:b,l:f}},toGrayscale:function(h){switch(this.type(h)){case this.TYPE.GRADIENT:var l=h.high;return{type:"gradient",low:this.toGrayscale(h.low),
high:this.toGrayscale(l)};case this.TYPE.RGB:return h=this.rgb(h),h=Math.round(51+0.8*(0.21*h.r+0.71*h.g+0.07*h.b)),this.rgbToHex(h,h,h)}},rgbToHex:function(h,l,e){h=tk.leftPad(h.toString(16),2,"0");l=tk.leftPad(l.toString(16),2,"0");e=tk.leftPad(e.toString(16),2,"0");return"#"+h+l+e},rgb:function(h){if(h){var l,e,a;switch(this.type(h)){case this.TYPE.GRADIENT:return l=h.high,{type:"gradient",low:this.rgb(h.low),high:this.rgb(l)};case this.TYPE.RGB:if("#"===h[0]){if(4===h.length)a=(e=h[1])+e,l=(e=
h[2])+e,h=(e=h[3])+e;else if(7===h.length)a=h.slice(1,3),l=h.slice(3,5),h=h.slice(5,7);else{console.error("rgb, unknown color",h);break}a=parseInt(a,16);l=parseInt(l,16);h=parseInt(h,16)}else if(e=h.replace(/ /g,"").match(/rgb\((\d+),(\d+),(\d+)\)/))a=e[1],l=e[2],h=e[3],a=parseInt(a,10),l=parseInt(l,10),h=parseInt(h,10);else{console.error("rgb, unknown color",h);break}return{r:a,g:l,b:h,toString:function(){return hg.rgbToHex(this.r,this.g,this.b)}}}}else console.error("rgb, unknown color",h)}},Wh=
p.COLOR_TYPE,Vt=hg.rgbToHex,go=hg.rgbToHsl,Wt=1/4.5,F=function l(e){this._colorRGBA="string"===typeof e?this._round(l.fromStringToColor(e)):this._round(e)};F.prototype._round=function(l){return{r:Math.round(l.r),g:Math.round(l.g),b:Math.round(l.b),a:null!=l.a?l.a:1}};F.fromStringToColor=function(l){var e;r.find([F.fromHex,F.fromRGBString,F.fromRGBAString],function(a){return e=a(l)});return e||{r:0,g:0,b:0,a:1}};F.fromHex=function(l){l=l.toLowerCase();var e=l.match(F.HexFormat),a;if((4===l.length||
7===l.length)&&e){var b,c,f;4===l.length?(b=l[1]+l[1],c=l[2]+l[2],f=l[3]+l[3]):7===l.length&&(b=l[1]+l[2],c=l[3]+l[4],f=l[5]+l[6]);a={r:parseInt(b,16),g:parseInt(c,16),b:parseInt(f,16),a:1}}return a};F.fromRGBString=function(l){l=l.toLowerCase().match(F.RGBFormat);var e;l&&(e={r:Math.min(255,parseInt(l[1])),g:Math.min(255,parseInt(l[2])),b:Math.min(255,parseInt(l[3])),a:1});return e};F.fromRGBAString=function(l){l=l.toLowerCase().match(F.RGBAFormat);var e;l&&(e={r:Math.min(255,parseInt(l[1])),g:Math.min(255,
parseInt(l[2])),b:Math.min(255,parseInt(l[3])),a:Math.min(1,parseFloat(l[4]))});return e};F.prototype._linearInterpolate=function(l,e,a){return l*(1-a)+e*a};F.prototype._toColorWithSimpleColor=function(l,e){var a=l.toRGBA(),b=a.g,c=a.b,f=a.a;return new F({r:this._linearInterpolate(this._colorRGBA.r,a.r,e),g:this._linearInterpolate(this._colorRGBA.g,b,e),b:this._linearInterpolate(this._colorRGBA.b,c,e),a:this._linearInterpolate(this._colorRGBA.a,f,e)})};F.prototype._toColorWithLinearGradient=function(l,
e){return l.toColor(this,1-e)};F.prototype._mixColorWithSimpleColor=function(l){l=l.toRGBA();var e=l.g,a=l.b,b=l.a;return new F({r:Math.min(255,this._colorRGBA.r+l.r),g:Math.min(255,this._colorRGBA.g+e),b:Math.min(255,this._colorRGBA.b+a),a:Math.min(1,this._colorRGBA.a+b)})};F.prototype._mixColorWithLinearGradient=function(l){return l.mixColor(this)};F.prototype._isEqualToSimpleColor=function(l){l=l.toRGBA();var e=l.g,a=l.b,b=l.a,c=this._colorRGBA,f=c.g,d=c.b,g=c.a;return l.r===c.r&&e===f&&a===d&&
b===g};F.prototype._isEqualToLinearGradientColor=function(l){return l.isEqual(this)};F.prototype.getType=function(){return Wh.SIMPLE_COLOR};F.prototype.toColor=function(l,e){void 0===e&&(e=1);var a=this._toColorWithSimpleColor;switch(l.getType()){case Wh.LINEAR_GRADIENT:a=this._toColorWithLinearGradient}return a.call(this,l,e)};F.prototype.toGreyscale=function(){var l=this._colorRGBA,e=l.a,l=Math.round(51+0.8*(0.21*l.r+0.71*l.g+0.07*l.b));return new F({r:l,g:l,b:l,a:e})};F.prototype.dimColor=function(l){var e=
this._colorRGBA,a=e.g,b=e.b,c=e.a,e=Math.min(255,Math.round(e.r*l)),a=Math.min(255,Math.round(a*l));l=Math.min(255,Math.round(b*l));return new F({r:e,g:a,b:l,a:c})};F.prototype.adjustOpacity=function(l){var e=this._colorRGBA,a=e.r,b=e.g,c=e.b;l=Math.max(0,Math.min(1,e.a*l));return new F({r:a,g:b,b:c,a:l})};F.prototype.toOpaque=function(){var l=this._colorRGBA;return new F({r:l.r,g:l.g,b:l.b,a:1})};F.prototype.mixColor=function(l){var e=this._mixColorWithSimpleColor;switch(l.getType()){case Wh.LINEAR_GRADIENT:e=
this._mixColorWithLinearGradient}return e.call(this,l)};F.prototype.luminance=function(l){l=[l.r,l.g,l.b].map(function(e){e/=255;return 0.03928>=e?e/12.92:Math.pow((e+0.055)/1.055,2.4)});return 0.2126*l[0]+0.7152*l[1]+0.0722*l[2]};F.prototype.colorContrastRatio=function(l,e){var a=this.luminance(l),b=this.luminance(e);return b>a?(a+0.05)/(b+0.05):(b+0.05)/(a+0.05)};F.prototype.toHighContrast=function(l,e){return this.colorContrastRatio(l.toRGB(),this.toRGB())<Wt?l:e};F.prototype.isEqual=function(l){return!l?
!1:l.getType()===Wh.SIMPLE_COLOR?this._isEqualToSimpleColor(l):this._isEqualToLinearGradientColor(l)};F.prototype.reverse=function(){return this};F.prototype.toHex=function(){var l=this._colorRGBA;return Vt(l.r,l.g,l.b)};F.prototype.toRGB=function(){var l=this._colorRGBA;return{r:l.r,g:l.g,b:l.b}};F.prototype.toRGBString=function(){var l=this._colorRGBA;return"rgb("+l.r+","+l.g+","+l.b+")"};F.prototype.toHSLA=function(){var l=this._colorRGBA,e=l.a;return r.extend(go(l.r,l.g,l.b),{a:e})};F.prototype.toHSL=
function(){var l=this._colorRGBA;return go(l.r,l.g,l.b)};F.prototype.toRGBA=function(){return this._colorRGBA};F.prototype.toRGBAString=function(){var l=this._colorRGBA;return"rgba("+l.r+","+l.g+","+l.b+","+l.a+")"};F.prototype.toString=function(){return this.toRGBAString()};F.prototype.toJSON=function(){return this.toRGBAString()};F.RGBFormat=/rgb\(([\d| ]+),([\d| ]+),([\d| ]+)\)/;F.RGBAFormat=/rgba\(([\d| ]+),([\d| ]+),([\d| ]+),([\d(.\d*)?| ]+)\)/;F.HSLFormat=/hsl\((\d+),(\d+),(\d+)\)/;F.HexFormat=
/^#([0-9|a-f|A-F])*$/;var Le=function(l,e){var a,b="";for(a=0;a<l.length;a++)b="string"===typeof l[a]?b+l[a]:b+l[a].source;return RegExp(b,e)},Tm=/.*gradient\s*\(((?:\([^\)]*\)|[^\)\(]*)*)\)/,Jf=function(){var l=/\s*,\s*/,e=/(?:[+-]?\d*\.?\d+)(?:%|[a-z]+)?/,a=Le(["(?:",/\#(?:[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/,"|","(?:rgb|hsl)",/\(\s*(?:[0-9]{1,3}\s*,\s*){2}[0-9]{1,3}\s*\)/,"|","(?:rgba|hsla)",/\(\s*(?:[0-9]{1,3}\s*,\s*){3}[0-9|\.]+\s*\)/,"|",/[_A-Za-z-][_A-Za-z0-9-]*/,")"],""),b=Le([a,"(?:\\s+",e,")?"],
""),b=Le(["(?:",b,l,")*",b],""),c=Le(["(?:(",/(?:[+-]?\d*\.?\d+)(?:deg|grad|rad|turn)/,")|",/to\s+((?:(?:left|right|top|bottom)(?:\s+(?:left|right))?))/,")"],""),b=Le(["(",c,")",l,"(",b,")"],"gi"),l=Le(["\\s*(",a,")","(?:\\s+","(",e,"))?","(?:",l,"\\s*)?"],"gi");return{gradientSearch:b,colorStopSearch:l}}(),Xh=p.COLOR_TYPE,D=function e(a){a&&"object"===typeof a&&a.low&&a.high&&!Array.isArray(a)?(this._colorStops=[[a.low,0],[a.high,1]],this._direction=0):("string"===typeof a&&(a=e.fromStringToColor(a)),
this._colorStops=a[0],this._direction=a[1])};D.fromStringToColor=function(e){var a=os(e);a?(e=D._parseDirection(a.line)||0,a=D._setDefaultColorSteps(a.colorStopList.map(D._parseColorStop))):(a=[[new F({r:0,g:0,b:0,a:1}),0]],e=0);return[a,e].filter(function(a){return null!=a})};D._parseDirection=function(e){var a=D.DirectionMap[e];return null==a?parseInt(e):a};D._parseColorStop=function(e){return[new F(e.color),null==e.position?null:parseFloat(e.position)/100]};D._setDefaultColorSteps=function(e){for(var a=
e.length,b=1/(a-1),c=0;c<a;++c){var f=e[c];f[1]=0===c?0:c===a-1?1:null==f[1]?b*c:f[1]}return e};D.prototype._toColorWithSimpleColor=function(e,a){return new D([this._colorStops.map(function(b){return[b[0].toColor(e,a),b[1]]}),this._direction])};D.prototype._toColorWithLinearGradient=function(e,a){for(var b=this._colorStops,c=e.getColorStops(),f=D._unionSteps(b.map(function(a){return a[1]}),c.map(function(a){return a[1]})),b=D._interpolateMissingStops(b,f),c=D._interpolateMissingStops(c,f),d=[],g=
0;g<f.length;++g)d.push([b[g][0].toColor(c[g][0],a),f[g]]);return new D([d,D._interpolate(0,this._direction,1,e.getDirection(),a)])};D.prototype._mixColorWithSimpleColor=function(e){return new D([this._colorStops.map(function(a){return[a[0].mixColor(e),a[1]]}),this._direction])};D.prototype._mixColorWithLinearGradient=function(e){var a=e.getColorStops(),b=this._colorStops;e=D._unionSteps(a.map(function(a){return a[1]}),b.map(function(a){return a[1]}));for(var a=D._interpolateMissingStops(a,e),b=D._interpolateMissingStops(b,
e),c=[],f=0;f<e.length;++f)c.push([a[f][0].mixColor(b[f][0]),e[f]]);return new D([c,this._direction])};D._unionSteps=function(e,a){for(var b=e.length,c=a.length,f=0,d=0,g=[];f<b||d<c;){var k=e[f],m=a[d];f===b?f++:d===c?d++:k<m?(f++,g.push(k)):k>m?(d++,g.push(m)):(f++,d++,g.push(k))}return g};D._interpolateMissingStops=function(e,a){var b=e.length,c=a.length,f=[];if(c<=b)return e;for(var d=0,g=0;g<c;){var k=a[g];if((d===b?1:e[d][1])===k)f.push([(d===b?e[d-1]:e[d])[0],k]),d++;else{var m=e[d-1],n=e[d];
f.push([D._interpolateColor(m[1],m[0],n[1],n[0],k),k])}g++}return f};D._interpolateColor=function(e,a,b,c,f){a=a.toRGBA();c=c.toRGBA();return new F({r:D._interpolate(e,a.r,b,c.r,f),g:D._interpolate(e,a.g,b,c.g,f),b:D._interpolate(e,a.b,b,c.b,f),a:D._interpolate(e,a.a,b,c.a,f)})};D._interpolate=function(e,a,b,c,f){return e===b||null==b?a:(f-e)*((c||0)-a)/(b-e)+a};D.prototype._getGradientObject=function(e,a){var b=a.x0,c=a.y0,f=a.x1,d=a.y1,g,k=this._colorStops;0<f?g=e.createLinearGradient(b,c,f,d):
(g=e.createLinearGradient(b,c,-f,d),k=k.reverse());k.forEach(function(a){return g.addColorStop(a[1],a[0].toRGBAString())});return g};D.prototype._isEqualToSimpleColor=function(e){return this.getColorStops().reduce(function(a,b){return a&&b[0].isEqual(e)},!0)};D.prototype._isEqualToLinearGradientColor=function(e){var a=e.getColorStops(),b=this._colorStops;e=D._unionSteps(a.map(function(a){return a[1]}),b.map(function(a){return a[1]}));for(var a=D._interpolateMissingStops(a,e),b=D._interpolateMissingStops(b,
e),c=0;c<e.length;++c)if(!a[c][0].isEqual(b[c][0]))return!1;return!0};D.prototype.getPaletteColors=function(e,a){void 0===a&&(a=!0);var b=this.getColorStops(),c=this.getDirection(),f=b[0][0],b=b[b.length-1][0],d,g=[];for(d=0;d<e;d++){var k=D._interpolateColor(0,f,1,b,d/e),m=D._interpolateColor(0,f,1,b,(d+1)/e);a?g.push(new D([[[k,0],[m,1]],c])):g.push(k)}return g};D.prototype.getType=function(){return Xh.LINEAR_GRADIENT};D.prototype.toColor=function(e,a){void 0===a&&(a=1);var b=this._toColorWithSimpleColor;
switch(e.getType()){case Xh.LINEAR_GRADIENT:b=this._toColorWithLinearGradient}return b.call(this,e,a)};D.prototype.toGreyscale=function(){return new D([this._colorStops.map(function(e){return[e[0].toGreyscale(),e[1]]}),this._direction])};D.prototype.dimColor=function(e){return new D([this._colorStops.map(function(a){return[a[0].dimColor(e),a[1]]}),this._direction])};D.prototype.adjustOpacity=function(e){return new D([this._colorStops.map(function(a){return[a[0].adjustOpacity(e),a[1]]}),this._direction])};
D.prototype.toOpaque=function(){return new D([this._colorStops.map(function(e){return[e[0].toOpaque(),e[1]]}),this._direction])};D.prototype.mixColor=function(e){var a=this._mixColorWithSimpleColor;switch(e.getType()){case Xh.LINEAR_GRADIENT:a=this._mixColorWithLinearGradient}return a.call(this,e)};D.prototype.getColorStops=function(){return this._colorStops};D.prototype.getDirection=function(){return this._direction};D.prototype.toHighContrast=function(e,a){return this._colorStops[this._colorStops.length-
1][0].toHighContrast(e,a)};D.prototype.toRepresentativeColor=function(){return this._colorStops[0][0]};D.prototype.interpolate=function(){var e=this._colorStops;return D._interpolateColor(0,e[0][0],1,e[e.length-1][0],0.5)};D.prototype.isEqual=function(e){return e?e.getType()===Xh.SIMPLE_COLOR?this._isEqualToSimpleColor(e):this._isEqualToLinearGradientColor(e):!1};D.prototype.reverse=function(){return new D([[[this._colorStops[1][0],0],[this._colorStops[0][0],1]],this._direction])};D.prototype.toHex=
function(){return this.toRepresentativeColor().toHex()};D.prototype.toRGB=function(){return this.toRepresentativeColor().toRGB()};D.prototype.toRGBString=function(){return this.toRepresentativeColor().toRGBString()};D.prototype.toRGBA=function(){return this.toRepresentativeColor().toRGBA()};D.prototype.toRGBAString=function(){return this.toRepresentativeColor().toRGBAString()};D.prototype._stringify=function(){return"linear-gradient("+this._direction+"deg, "+this._colorStops.map(function(e){return e[0].toString()+
" "+100*e[1]+"%"}).join(",")+")"};D.prototype.toString=function(){return this._stringify()};D.prototype.toJSON=function(){return this._stringify()};D.DirectionMap={};[["to right",0],["tp bottom right",45],["to bottom",90],["to bottom left",135],["to left",180],["to top left",225],["to top",270],["to top right",315]].forEach(function(e){return D.DirectionMap[e[0]]=e[1]});var ho=p.COLOR_TYPE,uk=null,vk=function(){};vk.prototype.getColor=function(e){if(e&&Array.isArray(e)){var a=e.length;e=e.map(function(b,
c){return[new F(b),c/(a-1)]});return new D([e,0])}return r.isString(e)&&e.match(Tm)?new D(e):new F(e)};vk.prototype.isColor=function(e){return e&&e.getType&&(e.getType()===ho.SIMPLE_COLOR||e.getType()===ho.LINEAR_GRADIENT)};var Vd={getInstance:function(){null==uk&&(uk=new vk);return uk}},x={debounce:rk,setFromValues:function(e){if(!e)return{};var a={};e.forEach(function(b){return a[b]=b});return a},intersection:function(e,a){if(null==e||null==a)return[];var b=this.setFromValues(e);return a.filter(function(a){return null!=
b[a]})},deepCopy:function(e){return e?JSON.parse(JSON.stringify(e)):e},deepEqual:function(e,a){return e===a?!0:JSON.stringify(e)===JSON.stringify(a)},ensureArray:function(e){return r.isArray(e)?e:[e]},extendDeep:function(e){for(var a=this,b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];b.forEach(function(c){for(var b in c){var g=c[b],k=e[b];a.isPlainObject(k)&&a.isPlainObject(g)?a.extendDeep(k,g):e[b]=g}});return e},defaultsDeep:function(e,a){var b=this;r.keys(a).forEach(function(c){var f=e[c],
d=a[c];!r.has(e,c)||void 0===f?e[c]=d:b.isPlainObject(f)&&b.isPlainObject(d)?b.defaultsDeep(f,d):r.isArray(f)&&r.isArray(d)&&f.forEach(function(a,c){b.isPlainObject(a)&&b.isPlainObject(d[c])&&b.defaultsDeep(a,d[c])})});return e},repeat:function(e,a){return String.prototype.repeat?e.repeat(a):Array(a+1).join(e)},isPlainObject:function(e){return r.isObject(e)&&!r.isArray(e)&&!r.isString(e)},camelCase:function(e){return e.replace(/\W+(.)/g,function(a,b){return b.toUpperCase()})},difference:function(e,
a){var b=e.reduce(function(a,b){a[b]=!0;return a},{});a.forEach(function(a){b[a]&&delete b[a]});return Object.keys(b)},notIntersect:function(e,a){var b=[];r.keys(e).forEach(function(c){null==a[c]&&b.push(e[c])});r.keys(a).forEach(function(c){null==e[c]&&b.push(a[c])});return b},uniq:function(e,a){if(r.isArray(e)){a=a||function(a){return a};var b={},c=[];e.forEach(function(f){var d=a(f);void 0===b[d]&&(b[d]=!0,c.push(f))});return c}return e},zip:function(){for(var e=[],a=arguments.length;a--;)e[a]=
arguments[a];return e[0].map(function(a,c){return e.map(function(a){return a[c]})})},partition:function(e,a){var b=[],c=[];e.forEach(function(f){return a(f)?b.push(f):c.push(f)});return[b,c]},findIndex:function(e,a){for(var b=0;b<e.length;b++)if(a(e[b]))return b;return-1},countBy:function(e){var a={};e.forEach(function(b){var c=a[b];a[b]=void 0!==c?c+1:1});return a},groupBy:function(e,a){var b={};e.forEach(function(c){var f=a(c),d=b[f];d||(d=b[f]=[]);d.push(c)});return b},includes:function(e,a){return-1!==
e.indexOf(a)},range:function(e,a,b){void 0===b&&(b=!1);var c=[],f=e<a;for(a=!b?a:f?a+1:a-1;f?e<a:e>a;f?e++:e--)c.push(e);return c},flow:function(e){return function(){for(var a=arguments,b=void 0,c=0;c<e.length;c++)b=e[c].apply(null,a),a=[b];return b}},closestIndex:function(e,a){if(!e.length)return-1;for(var b=0,c=e.length-1;b<=c;){var f=b+(c-b>>>1),d=e[f];if(d===a)return f;d<a?b=f+1:c=f-1}return-1===c?b:b===e.length?c:Math.abs(a-e[c])<Math.abs(a-e[b])?c:b},k_combinations:function(e,a){var b,c,f,d,
g;if(a>e.length||0>=a)return[];if(a===e.length)return[e];if(1===a){f=[];for(b=0;b<e.length;b++)f.push([e[b]]);return f}f=[];for(b=0;b<e.length-a+1;b++){d=e.slice(b,b+1);g=this.k_combinations(e.slice(b+1),a-1);for(c=0;c<g.length;c++)f.push(d.concat(g[c]))}return f},differenceWithKey:function(e,a){if(!a.length)return e;var b=a.reduce(function(a,b){a[b.key]=!0;return a},{});return e.filter(function(a){return!b.hasOwnProperty(a.key)})}},Xt=x.deepCopy,io=Zc.rotate,I=function(e){e=this._convertToXYWH(e);
this.x=e.x;this.y=e.y;this.w=e.w;this.h=e.h;this.rotation=e.rotation;this._sanitize()};I.initClass=function(){this.prototype.x=0;this.prototype.y=0;this.prototype.w=0;this.prototype.h=0;this.prototype.rotation=null};I.boundingBox=function(e){var a,b,c,f;e=r.filter(e,r.identity);if(0===e.length)return null;var d=Infinity,g=Infinity,k=-Infinity,m=-Infinity;e.forEach(function(e){c=e.x;f=e.y;b=e.w;a=e.h;c<d&&(d=c);f<g&&(g=f);c+b>k&&(k=c+b);f+a>m&&(m=f+a)});return new I({x:d,y:g,w:k-d,h:m-g})};I.scaleFactorToFit=
function(e,a){var b=e[0],c=e[1],f=a[0],d=a[1];return f/d>b/c?d/c:f/b};I.prototype.getCenter=function(){return[this.x+this.w/2,this.y+this.h/2]};I.prototype.getRelativeBox=function(e,a){a=this._sanitizeNumber(a);var b=a/2,c=this.getCenter(),f=c[0],c=c[1];switch(e){case "top":f=[f-b,this.y];b=f[0];f=f[1];break;case "bottom":f=[f-b,this.y+this.h-a];b=f[0];f=f[1];break;case "left":f=[this.x,c-b];b=f[0];f=f[1];break;default:f=[this.x+this.w-a,c-b],b=f[0],f=f[1]}return new I({x:b,y:f,w:a,h:a,rotation:this.rotation})};
I.prototype._convertToXYWH=function(e){if(null!=e.left){var a,b,c,f;b=e.left;c=e.right;f=e.top;a=e.bottom;e=e.rotation;return{x:b,y:f,w:c-b,h:a-f,rotation:e}}return null!=e.x0?(a=e.x0,c=e.y0,b=e.x1,f=e.y1,e=e.rotation,{x:a,y:c,w:b-a,h:f-c,rotation:e}):e};I.prototype._toFixed2=function(e){return Math.round(100*e)/100};I.prototype.clone=function(){return new I(this.toJson())};I.prototype.toArray=function(){return[this._toFixed2(this.x),this._toFixed2(this.y),this._toFixed2(this.w),this._toFixed2(this.h)]};
I.prototype.toJson=function(){return this.hasRotation()?{x:this.x,y:this.y,w:this.w,h:this.h,rotation:Xt(this.rotation)}:{x:this.x,y:this.y,w:this.w,h:this.h}};I.prototype.toVertices=function(e){var a=this;null==e&&(e=!0);var b=[[this.x,this.y],[this.x+this.w,this.y],[this.x,this.y+this.h],[this.x+this.w,this.y+this.h]];this.hasRotation()&&e&&(b=b.map(function(c){return io(c,a.rotation)}));return b};I.prototype.toAABB=function(){if(this.hasRotation()){for(var e=this.toVertices(),a=e[0][0],b=e[0][0],
c=e[0][1],f=e[0][1],d=1;4>d;++d){var g=e[d],k=g[0],g=g[1];k<a&&(a=k);k>b&&(b=k);g<c&&(c=g);g>f&&(f=g)}return new I({x:a,y:c,w:b-a,h:f-c})}return this};I.prototype.contains=function(e,a){if(this.hasRotation()){var b;b=io([e,a],{x:this.rotation.x,y:this.rotation.y,angle:-this.rotation.angle});e=b[0];a=b[1]}return e>=this.x&&e<=this.x+this.w&&a>=this.y&&a<=this.y+this.h};I.prototype.hasRotation=function(){return null!=this.rotation?this.rotation.angle:void 0};I.prototype.offset=function(e,a){this.x+=
e;this.y+=a;this.hasRotation()&&(this.rotation.x+=e,this.rotation.y+=a);return this};I.prototype.padBy=function(e){null==e&&(e={});var a=e.top,b=e.right,c=e.bottom;e=e.left;a&&this._padTop(a);b&&this._padRight(b);c&&this._padBottom(c);e&&this._padLeft(e);return this};I.prototype.padAll=function(e){if(!e)return this;this._padTop(e);this._padRight(e);this._padBottom(e);return this._padLeft(e)};I.prototype._padTop=function(e){null==e&&(e=0);this.h+=e;this.y-=e;return this};I.prototype._padBottom=function(e){null==
e&&(e=0);this.h+=e;return this};I.prototype._padLeft=function(e){null==e&&(e=0);this.w+=e;this.x-=e;return this};I.prototype._padRight=function(e){null==e&&(e=0);this.w+=e;return this};I.prototype._sanitizeNumber=function(e){return r.isNumber(e)?e:0};I.prototype._sanitize=function(){this.x=this._sanitizeNumber(this.x);this.y=this._sanitizeNumber(this.y);this.w=this._sanitizeNumber(this.w);this.h=this._sanitizeNumber(this.h);0>this.w&&(this.x+=this.w,this.w=-this.w);0>this.h&&(this.y+=this.h,this.h=
-this.h);return this};I.prototype.intersect=function(e,a,b,c){return"object"!==typeof e?this._intersect1D(this.x,this.w,e,b)&&this._intersect1D(this.y,this.h,a,c):this._intersect1D(this.x,this.w,e.x,e.w)&&this._intersect1D(this.y,this.h,e.y,e.h)};I.prototype._intersect1D=function(e,a,b,c){0>a&&(e=e+a+1,a=-a);0>c&&(b=b+c+1,c=-c);return this._intersect1DNormalized(e,a,b,c)};I.prototype._intersect1DNormalized=function(e,a,b,c){return!(e+a-1<b||b+c-1<e)};I.prototype.intersectLine=function(e,a,b,c){for(var f=
this.x,d=this.y,g=this.w,k=this.h,m=[[f,d],[f+g-1,d],[f+g-1,d+k-1],[f,d+k-1]],n=!0,q=1,s=0;4>s;s++){var u=this._isAboveLine(e,a,b,c,m[s][0],m[s][1]);if(0===u)return!0;if(0===s)q=+(0<u);else if(q^1===+(0<u)){n=!1;break}}if(n)return!1;m=0<=g?f:f+g+1;f=0<=g?f+g-1:f;g=0<=k?d:d+k+1;d=0<=k?d+k-1:d;return!(e<m&&b<m||e>f&&b>f||a<g&&c<g||a>d&&c>d)};I.prototype._isAboveLine=function(e,a,b,c,f,d){return(c-a)*f+(e-b)*d+(b*a-e*c)};I.prototype.overflow=function(e){var a=this._overflow1D(this.x,this.w,e.x,e.w),
b=this._overflow1D(this.y,this.h,e.y,e.h);return this.intersect(e)&&(a||b)?{left:a&&a.left,right:a&&a.right,top:b&&b.left,bottom:b&&b.right}:null};I.prototype._overflow1D=function(e,a,b,c){a=e+a-1;c=b+c-1;return a<b||c<e||b>e&&c<a?null:{left:b<=e?b-e:null,right:c>=a?c-a:null}};I.initClass();var Me,Oj,jo,Gc=function(){};Gc.init=function(e){var a=e.scriptEvaluatorFct;Me=e.delegate;Oj=a;jo=new Gc};Gc.getInstance=function(){return jo};Gc.prototype.getTextWidth=function(e,a){return Tb(Me.getTextWidth(Tb(e),
Tb(a)))};Gc.prototype.getTruncatedText=function(e,a,b){return Tb(Me.getTruncatedText(Tb(e),Tb(a),Tb(b)))};Gc.prototype.getRealFontSize=function(e){return Tb(Me.getRealFontSize(Tb(e)))};Gc.prototype.fontInfo=function(){return Tb(Me.fontInfo())};Gc.prototype.require=function(e){return new Promise(function(a,b){Me.require(Tb(e)).then(function(c){a(Tb(c))})})};var wk,ko,ig,Wd=function(){};Wd.init=function(e){var a=e.scriptEvaluatorFct;wk=e.Perf;ig=a;ko=new Wd};Wd.getInstance=function(){return ko};Wd.prototype.mark=
function(e){wk.getInstance().mark(ig?ig("return "+JSON.stringify(e)+";"):e)};Wd.prototype.endMark=function(e){wk.getInstance().mark(ig?ig("return "+JSON.stringify(e)+";"):e)};var xk=function(){};xk.prototype.getDelegate=function(){return Gc.getInstance()};xk.prototype.getPerf=function(){return Wd.getInstance()};var Da=new xk,qa=function(e){this.key=e;this._parent=null;this._children=[];this._childByKey={};this._updateState=p.UPDATE_STATE.MODIFIED};qa.prototype.getKey=function(){return this.key};qa.prototype._updateKey=
function(e){var a=this.key,b=this.getParent();if(b){if(b.getChildByKey(e))return console.warn("key: "+e+" already exist among parent: "+b.getKey()+"'s children, can not update key"),this;b.onChildKeyChange(a,e)}this.key=e;return this};qa.prototype.setUpdateState=function(e){this._updateState=e;return this};qa.prototype.getUpdateState=function(){return this._updateState};qa.prototype.markAsModified=function(){this.setUpdateState(p.UPDATE_STATE.MODIFIED);var e=this.getParent();e&&e.markAsModified(p.UPDATE_STATE.MODIFIED);
return this};qa.prototype.appendTo=function(e){e&&e.append(this);return this};qa.prototype.prependTo=function(e){e&&e.prepend(this);return this};qa.prototype.removeFromParent=function(){this._parent&&this._parent.remove(this);return this};qa.prototype._setParent=function(e){this._parent=e;return this};qa.prototype.getParent=function(){return this._parent};qa.prototype.onChildKeyChange=function(e,a){var b=this._childByKey[e];b&&(delete this._childByKey[e],this._childByKey[a]=b);return this};qa.prototype.appendAll=
function(e){var a=this;if(!e)return this;e.forEach(function(b){a.append(b)});return this};qa.prototype.append=function(e){if(!e)return this;this.markAsModified();var a=e.getKey(),b=this._childByKey;b[a]?console.warn("key: "+e.getKey()+" already exist among parent: "+this.key+"'s children, can not append"):(e.removeFromParent(),this._children.push(e),e._setParent(this),b[a]=e);return this};qa.prototype.prependAll=function(e){var a=this;if(!e)return this;this.markAsModified();e.forEach(function(b){a.prepend(b)});
return this};qa.prototype.prepend=function(e){if(!e)return this;this.markAsModified();this._childByKey[e.getKey()]?console.warn("key: "+e.getKey()+" already exist among parent: "+this.key+"'s children, can not prepend"):(e.removeFromParent(),this._children.unshift(e),e._setParent(this),this._childByKey[e.getKey()]=e);return this};qa.prototype.remove=function(e){if(!e)return this;this.markAsModified();var a=e.getKey(),b=x.findIndex(this._children,function(c){return c.key===a});-1<b&&(e._setParent(null),
this._children.splice(b,1),delete this._childByKey[a]);return this};qa.prototype.removeAll=function(){this.markAsModified();this._children.forEach(function(e){return e._setParent(void 0)});this._children=[];this._childByKey={};return this};qa.prototype._setChildren=function(e){var a=this;this._childByKey=e.reduce(function(b,c){c._parent=a;b[c.key]=c;return b},{});this._children=e;return this};qa.prototype.getChildren=function(){return this._children};qa.prototype.getChildByKey=function(e){return this._childByKey[e]};
qa.prototype.reverse=function(){this._children.reverse();return this};qa.prototype._sortChildren=function(){this._childSorter&&(this._children=r.sortBy(this._children,this._childSorter));this._children.forEach(function(e){"function"===typeof e._sortChildren&&e._sortChildren()});return this};qa.prototype._sortByKeys=function(e){var a=this;this._children=[];e.forEach(function(b){(b=a._childByKey[b])&&a._children.push(b)});return this};qa.prototype.traverse=function(e){e(this);this._children.forEach(function(a){return a.traverse(e)});
return this};qa.prototype.updateChildren=function(e){var a={};this._children.forEach(function(b,c){e(b,c);a[b.getKey()]=b});this._childByKey=a;return this};var Za=function(e){var a=this;this.array=e||[];this.set={};this.array.forEach(function(b){return a.set[b]=!0})};Za.prototype.add=function(e){this.array.push(e);this.set[e]=!0;return this};var Yt={name:"default",properties:{BACKGROUND_COLOR:"rgba(255,255,255,0)",BACKGROUND_OPACITY:0,AXIS:{NUMBER:{AXIS_LINE:"rgba(201,199,197,0.9)",GRID_LINE:"rgba(201,199,197,0.5)",
MINOR_GRID_LINE:"rgba(217,215,213,0.3)",TICK_MARK:"rgba(201,199,197, 0.9)",TICK_LABEL:"#706e6b",TITLE:"#706e6b"},TITLE:{TEXT:{BACKGROUND:"#f4f6f9"}},LABEL:{TEXT:{COLOR:"#080707",BACKGROUND:"#E6EAF5",HOVER:"#080707"},SEPARATOR_LINE:"#c9c7c5",TITLE:"#706e6b"},TIME:{AXIS_LINE:"rgba(201,199,197,0.9)",GRID_LINE:"rgba(217,215,213,0.3)",TITLE:"#706e6b",TICK_MARK:"#c9c7c5",TICK_LABEL:"#080707"}},TOOLTIP:{BACKGROUND_COLOR:"#16325C",TRUNCATION_BACKGROUND_COLOR:"rgba(255, 255, 194, 1)",LABEL_COLOR:"#9faab5",
VALUE_COLOR:"#fff"},LEGEND:{BACKGROUND:"rgba(255,255,255,0.8)",BORDER:"#c9c7c5",TEXT:{COLOR:"#706e6b",BACKGROUND:"#E6EAF5",HOVER:"#17324D"},HEADER:"#706e6b",HEADER_LINE:"#c9c7c5"},GRADIENT_LEGEND:{TEXT:"#444"},RADIAL_LEGEND:{BACKGROUND:"rgba(244,246,249,0.7)",BORDER:"#a8b7c7",TEXT:"#000"},HOTSPOT:{COLOR:"#17324D",BACKGROUND:"#E6EAF5",HOVER:"#ffffff",HOVER_BACKGROUND:"rgba(107,114,115,1)"},CONDITIONAL_COLOR:{POSITIVE:"#60b17d",NEGATIVE:"#c23934",TEXT_COLOR_DARK:"#000",TEXT_COLOR_LIGHT:"#fff"},TITLE:{COLOR:"#080707",
SUBTITLE_COLOR:"#706e6b"},MARK:{LINE:{FILL_AREA:"rgba(255,255,255,0.1)"},POLAR_GAUGE:{TRACK:"rgba(204,221,238,1)"},SPARK_LINE:{COLOR_LINE:"#888",COLOR_HIGH:"#0f0",COLOR_LOW:"#f00"},MAP:{COLOR_EMPTY:"#e0e5ee",COLOR_STROKE:"#fff",COLOR_LINE:"#a8b7c7"},GAUGE:{NEEDLE:"#080707"},HISTOGRAM:{BAR_STROKE:"rgba(201,199,197,0.25)"}},TRELLIS:{GRID_LINE:"#ddd",HEADER_TEXT:"#000",HEADER_LINE:"#000"},EMPTY_CHART:{TEXT:"#54698d"},GRADIENT_COLORS:["linear-gradient(to bottom, #e2f4fc, #009ddf)"],BAND_COLORS:{FLAT:["#DC3912",
"#FF9900","#109618"],GRADIENT:["linear-gradient(to bottom, #f95, #f07)","linear-gradient(to bottom, #fd4, #4e0)","linear-gradient(to bottom, #0fc, #40f)"]},PALETTE:"#16325C #00A1E0 #76DED9 #08A69E #E2CE7D #E69F00 #C23934 #FFB75D #60B17D #00716B #94E3B1 #009E73 #93C9F8 #3A93BA #0070D2 #ABDCF4 #8073F7 #7B399C #CC79A7 #E2B1FA #AF5CD8".split(" "),REFERENCE_LINE:{LINE_STROKE:"#8932ed"},BINS:{DEFAULT_COLOR:"#A9A9A9"},BRUSH:{STROKE:"rgba(150, 150, 150, 0.5)",FILL:"rgba(200, 200, 200, 0.3)",TEXT:"rgba(0, 0, 0, 0.8)"},
ICON:{FILL:"rgba(0, 0, 0, 0.1)"},CROSSHAIR:{STROKE:"rgba(255, 255, 255, 1)",FILL:"rgba(1,118,211,1)"}}},pa=function(e,a){var b=null;e.getInstance=function(){b||(b=new e,a&&(b=a(b)));return b};return e},yk=function(){};yk.prototype.setResourcesPath=function(e){this._resourcesPath=e};yk.prototype.getResourcesPath=function(){return this._resourcesPath};var lo=pa(yk),mo=function(){};mo.prototype.loadTheme=function(e){e=lo.getInstance().getResourcesPath()+"/themes/"+e+".json";return Da.getDelegate().require(e).then(function(a){return JSON.parse(a)})};
var Zt=pa(mo),no=Vd.getInstance().getColor,C=function(e){this._themeData=e;this._theme=this._convertColor(x.deepCopy(e.properties));return this};C.prototype._convertColor=function(e){var a=this;if(Array.isArray(e))return e.map(no);if(e&&"object"!==typeof e&&"number"!==typeof e)return no(e);r.keys(e).forEach(function(b){e[b]=a._convertColor(e[b])});return e};C.prototype.getName=function(){return this._themeData.name};C.prototype.getThemeData=function(){return this._themeData};C.prototype.toObject=
function(){return JSON.parse(JSON.stringify(this._theme))};C.prototype.toJSON=function(){return this._theme};C.prototype.getBackgroundColor=function(){return this._theme.BACKGROUND_COLOR};C.prototype.getBackgroundOpacity=function(){return this._theme.BACKGROUND_OPACITY};C.prototype.getAxisTitleTextBackgroundColor=function(){return this._theme.AXIS.TITLE.TEXT.BACKGROUND};C.prototype.getMeasureAxisLineColor=function(){return this._theme.AXIS.NUMBER.AXIS_LINE};C.prototype.getMeasureAxisGridLineColor=
function(){return this._theme.AXIS.NUMBER.GRID_LINE};C.prototype.getMeasureAxisMinorGridLineColor=function(){return this._theme.AXIS.NUMBER.MINOR_GRID_LINE};C.prototype.getMeasureAxisTickMarkColor=function(){return this._theme.AXIS.NUMBER.TICK_MARK};C.prototype.getMeasureAxisTickLabelColor=function(){return this._theme.AXIS.NUMBER.TICK_LABEL};C.prototype.getMeasureAxisTitleColor=function(){return this._theme.AXIS.NUMBER.TITLE};C.prototype.getDimensionAxisTextColor=function(){return this._theme.AXIS.LABEL.TEXT.COLOR};
C.prototype.getDimensionAxisTextBGColor=function(){return this._theme.AXIS.LABEL.TEXT.BACKGROUND};C.prototype.getDimensionAxisTextHoverColor=function(){return this._theme.AXIS.LABEL.TEXT.HOVER};C.prototype.getDimensionAxisSeparatorColor=function(){return this._theme.AXIS.LABEL.SEPARATOR_LINE};C.prototype.getDimensionAxisTitleColor=function(){return this._theme.AXIS.LABEL.TITLE};C.prototype.getTimeAxisLineColor=function(){return this._theme.AXIS.TIME.AXIS_LINE};C.prototype.getTimeAxisGridLineColor=
function(){return this._theme.AXIS.TIME.GRID_LINE};C.prototype.getTimeAxisTickMarkColor=function(){return this._theme.AXIS.TIME.TICK_MARK};C.prototype.getTimeAxisTickLabelColor=function(){return this._theme.AXIS.TIME.TICK_LABEL};C.prototype.getTimeAxisTitleColor=function(){return this._theme.AXIS.TIME.TITLE};C.prototype.getToolTipBackgroundColor=function(){return this._theme.TOOLTIP.BACKGROUND_COLOR};C.prototype.getToolTipTruncationBackgroundColor=function(){return this._theme.TOOLTIP.TRUNCATION_BACKGROUND_COLOR};
C.prototype.getToolTipLabelColor=function(){return this._theme.TOOLTIP.LABEL_COLOR};C.prototype.getToolTipValueColor=function(){return this._theme.TOOLTIP.VALUE_COLOR};C.prototype.getLegendBGColor=function(){return this._theme.LEGEND.BACKGROUND};C.prototype.getLegendBorderColor=function(){return this._theme.LEGEND.BORDER};C.prototype.getLegendTextColor=function(){return this._theme.LEGEND.TEXT.COLOR};C.prototype.getLegendTextBGColor=function(){return this._theme.LEGEND.TEXT.BACKGROUND};C.prototype.getLegendTextHoverColor=
function(){return this._theme.LEGEND.TEXT.HOVER};C.prototype.getLegendHeaderColor=function(){return this._theme.LEGEND.HEADER};C.prototype.getLegendHeaderLineColor=function(){return this._theme.LEGEND.HEADER_LINE};C.prototype.getGradientLegendColor=function(){return this._theme.GRADIENT_COLORS[0]};C.prototype.getGradientLegendTextColor=function(){return this._theme.GRADIENT_LEGEND.TEXT};C.prototype.getRadialLegendBGColor=function(){return this._theme.RADIAL_LEGEND.BACKGROUND};C.prototype.getRadialLegendBorderColor=
function(){return this._theme.RADIAL_LEGEND.BORDER};C.prototype.getRadialLegendTextColor=function(){return this._theme.RADIAL_LEGEND.TEXT};C.prototype.getHotspotColors=function(){return{color:this.getHotspotColor(),bgColor:this.getHotspotBGColor(),hoverColor:this.getHotspotHoverColor(),hoverBgColor:this.getHotspotHoverBGColor()}};C.prototype.getHotspotColor=function(){return this._theme.HOTSPOT.COLOR};C.prototype.getHotspotBGColor=function(){return this._theme.HOTSPOT.BACKGROUND};C.prototype.getHotspotHoverColor=
function(){return this._theme.HOTSPOT.HOVER};C.prototype.getHotspotHoverBGColor=function(){return this._theme.HOTSPOT.HOVER_BACKGROUND};C.prototype.getPositiveColor=function(){return this._theme.CONDITIONAL_COLOR.POSITIVE};C.prototype.getNegativeColor=function(){return this._theme.CONDITIONAL_COLOR.NEGATIVE};C.prototype.getTextColorOnDark=function(){return this._theme.CONDITIONAL_COLOR.TEXT_COLOR_DARK};C.prototype.getTextColorOnLight=function(){return this._theme.CONDITIONAL_COLOR.TEXT_COLOR_LIGHT};
C.prototype.getChartTitleColor=function(){return this._theme.TITLE.COLOR};C.prototype.getChartSubtitleColor=function(){return this._theme.TITLE.SUBTITLE_COLOR};C.prototype.getLineFillAreaColor=function(){return this._theme.MARK.LINE.FILL_AREA};C.prototype.getPolarGaugeMarkColor=function(){return this._theme.MARK.POLAR_GAUGE.TRACK};C.prototype.getSparkLineMarkLineColor=function(){return this._theme.MARK.SPARK_LINE.COLOR_LINE};C.prototype.getSparkLineMarkHighColor=function(){return this._theme.MARK.SPARK_LINE.COLOR_HIGH};
C.prototype.getSparkLineMarkLowColor=function(){return this._theme.MARK.SPARK_LINE.COLOR_LOW};C.prototype.getMapMarkEmptyColor=function(){return this._theme.MARK.MAP.COLOR_EMPTY};C.prototype.getMapMarkStrokeColor=function(){return this._theme.MARK.MAP.COLOR_STROKE};C.prototype.getMapMarkLineColor=function(){return this._theme.MARK.MAP.COLOR_LINE};C.prototype.getGaugeNeedleColor=function(){return this._theme.MARK.GAUGE.NEEDLE};C.prototype.getHistogramStrokeColor=function(){return this._theme.MARK.HISTOGRAM.BAR_STROKE};
C.prototype.getTrellisGridLineColor=function(){return this._theme.TRELLIS.GRID_LINE};C.prototype.getTrellisHeaderTextColor=function(){return this._theme.TRELLIS.HEADER_TEXT};C.prototype.getTrellisHeaderLineColor=function(){return this._theme.TRELLIS.HEADER_LINE};C.prototype.getEmptyChartTextColor=function(){return this._theme.EMPTY_CHART.TEXT};C.prototype.getPrimaryGradientColors=function(){return this._theme.GRADIENT_COLORS[0]};C.prototype.getGradientColors=function(){return this._theme.GRADIENT_COLORS};
C.prototype.getFlatBandColors=function(){return this._theme.BAND_COLORS.FLAT};C.prototype.getGradientBandColors=function(){return this._theme.BAND_COLORS.GRADIENT};C.prototype.getPaletteColors=function(){return this._theme.PALETTE};C.prototype.getBinDefaultColor=function(){return this._theme.BINS.DEFAULT_COLOR};C.prototype.getBrushStrokeColor=function(){return this._theme.BRUSH.STROKE};C.prototype.getBrushFillColor=function(){return this._theme.BRUSH.FILL};C.prototype.getBrushTextColor=function(){return this._theme.BRUSH.TEXT};
C.prototype.getReferenceLineColor=function(){return this._theme.REFERENCE_LINE.LINE_STROKE};C.prototype.getIconFillColor=function(){return this._theme.ICON.FILL};C.prototype.getCrosshairFillColor=function(){return this._theme.CROSSHAIR.FILL};C.prototype.getCrosshairStrokeColor=function(){return this._theme.CROSSHAIR.STROKE};var Xd=function(){this._themeCache={};this._themeDataCache={};this._themeDataPromises={};this.registerTheme(Yt)};Xd.prototype.getTheme=function(e){var a;"string"===typeof e?(a=
this._themeCache[e],a||(e=this._themeDataCache[e])&&(a=this._buildTheme(e,!0))):a=this._buildTheme(e);return a};Xd.prototype.getDefaultTheme=function(){return this.getTheme("default")};Xd.prototype.registerTheme=function(e){if("string"===typeof e)return this._loadTheme(e);var a=e.name;if(r.isEmpty(a))return Promise.reject("Can't register an unnamed theme");this._themeDataCache[a]=e;return Promise.resolve(e)};Xd.prototype.getAllThemeNames=function(){return r.keys(this._themeDataCache)};Xd.prototype._loadTheme=
function(e){var a=this,b=this._themeDataCache[e];if(b)return Promise.resolve(b);if(b=this._themeDataPromises[e])return b;b=Zt.getInstance().loadTheme(e).then(function(c){a.registerTheme(c);var b=Promise.resolve(c);delete a._themeDataPromises[e];return c.base?a._loadTheme(c.base).then(function(){return b}):b});return this._themeDataPromises[e]=b};Xd.prototype._buildTheme=function(e,a){void 0===a&&(a=!1);var b=e.name,c=e.base,c=c?this.getTheme(c):null;!c&&"default"!==e.name&&(c=this.getDefaultTheme());
c=c?c.getThemeData():{};e=x.defaultsDeep(x.deepCopy(e),c);c=new C(e);b&&a&&(this._themeCache[b]=c);return c};var td=pa(Xd),jg={},Ne={init:function(e){e in jg||(jg[e]=0);return{next:function(){return jg[e]++},reset:function(){return jg[e]=0}}},counter:jg},$t=td.getInstance(),oo=Ne.init("Node"),Yh=function(e){function a(a,c){a?null==a.key&&(a.key="$autogen_"+oo.next()):a={key:"$autogen_"+oo.next()};e.call(this,a.key);this._props={key:void 0,accessibility:void 0,zIndex:void 0};this._setDefaultProps();
this.set(a,c)}e&&(a.__proto__=e);a.prototype=Object.create(e&&e.prototype);a.prototype.constructor=a;a.prototype._setDefaultProps=function(){};a.prototype._onChange=function(a){(a=a.key)&&this._updateKey(a[0])};a.prototype._mapValue=function(a,c){return c};a.prototype.getType=function(){return this.constructor.type};a.prototype._setProp=function(a,c,f){var d;if(!this._props.hasOwnProperty(a))return this;this.markAsModified();f?this._props[a]=this._mapValue(a,c):(f=this.constructor._sensitiveProps&&
this.constructor._sensitiveProps.set,"key"===a||f&&f.hasOwnProperty(a)?(f=this._props[a],c=this._mapValue(a,c),this._props[a]=c,f!==c&&this._onChange((d={},d[a]=[c,f],d))):this._props[a]=this._mapValue(a,c));return this};a.prototype._setProps=function(a,c){var f=r.keys(a),d=this._props;this.markAsModified();if(c)for(var e=0;e<f.length;e++){var k=f[e];d.hasOwnProperty(k)&&(d[k]=this._mapValue(k,a[k]))}else{for(var e=this.constructor._sensitiveProps&&this.constructor._sensitiveProps.set,m=0;m<f.length;m++){var n=
f[m];if(d.hasOwnProperty(n)){var q=a[n];if("key"===n||e&&e.hasOwnProperty(n)){var s=d[n],q=this._mapValue(n,q);d[n]=q;s!==q&&(k||(k={}),k[n]=[q,s])}else d[n]=this._mapValue(n,q)}}k&&this._onChange(k)}return this};a.prototype.set=function(a,c,f){"string"===typeof a?this._setProp(a,c,f):this._setProps(a,c);return this};a.prototype.get=function(a){return a?this._props[a]:this._props};a.prototype.isGroup=function(){return!1};a.prototype.getParentBackgroundColor=function(){var a=this.getParent();return a?
a.getParentBackgroundColor():$t.getDefaultTheme().getBackgroundColor()};a.prototype.translation=function(){return[0,0]};a.prototype.boundingBox=function(){};a.prototype.domainBox=function(){};a.prototype.isVisible=function(){return!0};a.prototype.rotate=function(){return this};a.prototype.flipY=function(){return this};a.prototype.flipX=function(){return this};a.prototype.offsetX=function(a){return this};a.prototype.offsetY=function(a){return this};a.prototype.center=function(a,c){return this};a.prototype.offsetAngle=
function(a){return this};a.prototype.totalTranslation=function(a,c){void 0===a&&(a=!1);void 0===c&&(c=!1);var f=this.getParent(),d=f?f.totalTranslation(a,c):[0,0],f=d[0],d=d[1],e=this.translation();return[e[0]+f,e[1]+d]};a.prototype.find=function(a){var c=[];this.traverse(function(f){var d;a:{for(d in a){var e=a[d],k=f._props[d];if(!("type"===d?f.getType()===e:r.isRegExp(e)?r.isString(k)&&k.match(e):r.isFunction(e)?e(k):r.isEqual(e,k))){d=!1;break a}}d=!0}d&&c.push(f);return f});return c};a.prototype.toJson=
function(a){return{type:this.getType(),props:r.clone(this._props)}};return a}(qa),Zh={boundingBox:function(e,a){return I.boundingBox(e.map(function(b){return b.boundingBox(a)}))},domainBox:function(e){return I.boundingBox(e.map(function(a){return a.domainBox()}))}},au={applyLayout:function(e,a){var b,c,f,d,g;switch(a.type){case "vbox":d=a.spacer;g=a.reverse;null==d&&(d=0);var k=0;for(c=0;c<e.length;c++)if(f=e[c],b=f.boundingBox(!0)){if(0===c&&(k=b.y,g))continue;g&&(k-=b.h+d);f.offsetY(k-b.y);g||(k+=
b.h+d)}break;case "hbox":d=a.spacer;g=a.reverse;null==d&&(d=0);for(c=k=0;c<e.length;c++)if(f=e[c],b=f.boundingBox(!0)){if(0===c&&(k=b.x,g))continue;g&&(k-=b.w+d);f.offsetX(k-b.x);g||(k+=b.w+d)}break;case "stackX":this.applyStackLayout(e,a.separatePosNeg,a.cumulativeProp,function(a,c){return a.offsetX(c)});break;case "stackY":this.applyStackLayout(e,a.separatePosNeg,a.cumulativeProp,function(a,c){return a.offsetY(c)});break;default:this.applyStackLayout(e,a.separatePosNeg,"angle",function(a,c){return a.offsetAngle(c)})}},
applyStackLayout:function(e,a,b,c){null==a&&(a=!0);var f=a?e.filter(function(a){return 0<=a.get(b)}):e;e=a?e.filter(function(a){return 0>a.get(b)}):[];a=function(a,c,b){var f=0;return a.map(function(a){var d=a.get(c);b(a,f);return f+=d})};a(f,b,c);return a(e,b,c)}},ud=function(e){function a(){e.apply(this,arguments)}e&&(a.__proto__=e);a.prototype=Object.create(e&&e.prototype);a.prototype.constructor=a;a.prototype.isGroup=function(){return!0};a.prototype._setDefaultProps=function(){e.prototype._setDefaultProps.call(this);
var a=this._props;a.zIndex=0;a.transforms={};a.skipTransforms=!1};a.prototype.forEach=function(a){this.getChildren().forEach(a);return this};a.prototype.map=function(a){return this.getChildren().map(a)};a.prototype.boundingBox=function(a){void 0===a&&(a=!1);var c=this.getChildren();(c=Zh.boundingBox(c,!0))&&a&&c.offset.apply(c,this.translation());return c};a.prototype.translation=function(){return[0,0]};a.prototype.domainBox=function(){return Zh.domainBox(this.getChildren())};a.prototype.toScenePosition=
function(a,c,f){return[a,c]};a.prototype.toLocalPosition=function(a,c,f){return[a,c]};a.prototype.applyLayout=function(a){au.applyLayout(this.getChildren(),a);return this};a.prototype.toJson=function(a){void 0===a&&(a=!0);var c=e.prototype.toJson.call(this);a&&(c.children=this.getChildren().map(function(a){return a.toJson(!0)}));return c};return a}(Yh),Ja={getMinMax:function(e){return[r.min(e),r.max(e)]},sum:function(e){return r.reduce(e,function(a,b){return a+b},0)},avg:function(e){return this.sum(e)/
e.length},sortNumbers:function(e){return e.slice().sort(function(a,b){return a-b})},round2d:function(e){return Math.round(100*e)/100},isInRange:function(e,a,b,c){void 0===c&&(c=0);var f=Math.max(a,b);return Math.min(a,b)-c<=e&&e<=f+c},roundUp:function(e){var a=Math.pow(10,Math.floor(Math.log(Math.abs(e))/Math.LN10));return Math.ceil(e/a)*a},interpolate:function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var b,c;if(2>e.length)return function(){return e[0]&&e[0][1]?e[0][1]:0};e.sort(function(a,
c){return a[0]-c[0]});var f=e.length,d=[];for(b=0;b<f-1;b++)c=e[b],a=e[b+1],d.push((a[1]-c[1])/(a[0]-c[0]));d.push(d[f-2]);return function(a,k){null==k&&(k=!1);if(k){if(a>=e[f-1][0])return e[f-1][1];if(a<=e[0][0])return e[0][1]}for(b=0;b<e.length&&!(c=e[b],c[0]>=a);b++);b&&b--;return d[b]*(a-e[b][0])+e[b][1]}}},Hc=function(){this.reset()};Hc.prototype.reset=function(){this._keys=[];return this._valueMap={}};Hc.prototype.remove=function(e){if(this._valueMap.hasOwnProperty(e)){var a=this._keys.indexOf(e);
this._keys.splice(a,1);a=this._valueMap[e];delete this._valueMap[e];return a}};Hc.prototype.put=function(e,a){void 0===a?this.remove(e):(this._valueMap.hasOwnProperty(e)||this._keys.push(e),this._valueMap[e]=a);return a};Hc.prototype.get=function(e){return this._valueMap[e]};Hc.prototype.getKeys=function(){return this._keys};Hc.prototype.getValues=function(){var e=this;return this._keys.map(function(a){return e._valueMap[a]})};Hc.prototype.size=function(){return this._keys.length};Hc.prototype.sortKeys=
function(){return this._keys.sort()};Hc.prototype.sortBy=function(e){var a=this;this._keys=this._keys.sort(function(b,c){return e(a.get(b),a.get(c))});return this};var po=function(e){function a(a,c){e.call(this);this._key=a;this._displayKey=c}e&&(a.__proto__=e);a.prototype=Object.create(e&&e.prototype);a.prototype.constructor=a;a.prototype.getKey=function(){return this._key};a.prototype.getDisplayKey=function(){return this._displayKey};a.prototype.setIsLeaf=function(a){this._isLeaf=a;return this};
a.prototype.isLeaf=function(){return this._isLeaf};a.prototype.setBaseRows=function(a){this._baseRows=a;return this};a.prototype.getBaseRows=function(){return this._baseRows};a.prototype.setLayout=function(a){this._layout=a;return this};a.prototype.getLayout=function(){return this._layout};a.prototype.setRollupValue=function(a,c){null==this._rollupInfo&&(this._rollupInfo={});this._rollupInfo[a.getName()]=c;return this};a.prototype.getRollupValue=function(a){return null!=this._rollupInfo?this._rollupInfo[a.getName()]:
void 0};return a}(Hc),Aa=function(e,a,b){this.ordinal=e;this.value=a;this.sortChar=b};Aa.values=function(){return[Aa.DESC,Aa.ASC,Aa.NONE]};Aa.fromOrdinal=function(e){return Aa.values()[e]};Aa.fromValue=function(e){return r.find(Aa.values(),{value:e})};Aa.DESC=new Aa(0,"desc","\u2193");Aa.ASC=new Aa(1,"asc","\u2191");Aa.NONE=new Aa(2,"none",null);var Wb=function(e,a,b){null==b&&(b={});this._columns=a;this._root=new po("");var c=b.forceHierarchy,f=b.sortHierarchy,d=b.hasHierarchy;b=b.summarize;c?(this._hasHierarchy=
!0,this._nestRows(this._root,e,a,{forceHierarchy:c,sortHierarchy:f})):null!=d?(this._hasHierarchy=d,this._nestRows(this._root,e,a,{hasHierarchy:d,summarize:b})):(this._hasHierarchy=c=this._nestRows(this._root,e,a,{hasHierarchy:!0,summarize:b}),c||(this._root.reset(),this._nestRows(this._root,e,a,{hasHierarchy:!1,summarize:b})))};Wb.prototype._nestRows=function(e,a,b,c){var f=c.forceHierarchy,d=c.hasHierarchy,g=c.sortHierarchy,k=c.summarize,d=f||d;if(!b.length)return e.setIsLeaf(!0).setBaseRows(a),
!0;1===b.length&&(!f&&d)&&(d=!1);for(var m=sa.getValueFct({field:b[0]}),n=sa.getValueFct({field:b}),q={},k=d?m:k?n:function(a,c){var b=m(a);return null!=q[b]?b+"-"+c:q[b]=b},s,n=0;n<a.length;n++){var u=a[n],A=k(u,n),t=e.get(A);if(t)if(f||s===A||!d)t.push(u);else{if(d)return!1}else e.put(A,[u]);s=A}f&&g&&e.sortKeys();a=e.getKeys();for(f=0;f<a.length;f++)if(d=a[f],g=e.get(d),s=m(g[0]),s=new po(d,s),e.put(d,s),!this._nestRows(s,g,b.slice(1),c))return!1;return!0};Wb.prototype.numLeafRows=function(){var e=
0;this.traverse(function(a,b,c,f,d,g){g.isLeaf()&&e++});return e};Wb.prototype.setLayout=function(e){this._root.setLayout(e);return this};Wb.prototype.getLayout=function(){return this._root.getLayout()};Wb.prototype.hasHierarchy=function(){return this._hasHierarchy};Wb.prototype.traverse=function(e,a){null==a&&(a=this._columns.length-1);this._root.isLeaf()?e("",-1,{index:0,isLast:!0},[""],[""],this._root):this._traverse(this._root,e,a,0)};Wb.prototype._traverse=function(e,a,b,c,f,d){var g=this;void 0===
f&&(f=[]);void 0===d&&(d=[]);if(!(c>b||e.isLeaf())){var k=e.getKeys(),m=k.length;k.forEach(function(k,q){var s=e.get(k),u=s.getDisplayKey(),A={index:q,isLast:q===m-1},t=f.concat([k]),p=d.concat([u]);a(null!=u?u:k,c,A,t,p,s,e);g._traverse(s,a,b,c+1,t,p)})}};Wb.prototype.rollup=function(e,a){if(null==e)return this;var b=sa.getValueFct({field:e});this._rollup(this._root,e,b,a);return this};Wb.prototype._rollup=function(e,a,b,c){var f=this;if(e.isLeaf()){var d=e.getBaseRows();e.setRollupValue(a,c(d.map(b)))}else d=
e.getKeys().map(function(d){d=e.get(d);f._rollup(d,a,b,c);return d.getRollupValue(a)}),e.setRollupValue(a,c(d))};Wb.prototype.sortByRollup=function(e,a){a=null==a?Aa.ASC:Aa.fromValue(a);this._sortByRollup(this._root,e,a)};Wb.prototype._sortByRollup=function(e,a,b){var c=this;b!==Aa.NONE&&!e.isLeaf()&&(1<e.getKeys().length&&e.sortBy(function(c,d){var e=c.getRollupValue(a)-d.getRollupValue(a);return b===Aa.ASC?e:-e}),e.getKeys().forEach(function(f){c._sortByRollup(e.get(f),a,b)}))};var Ha=function(){this.scale=
this.scale.bind(this);this._domain=[0,1];this._range=[0,1];this._ky=this._kx=this._dy=this._dx=1;this._step=0};Ha.prototype.create=function(){return new Ha};Ha.prototype.scale=function(e){e=(e-this._domain[0])*this._kx;return this._range[0]+this._dy*e};Ha.prototype.invert=function(e){return(e-this._range[0])*this._ky+this._domain[0]};Ha.prototype.domain=function(e){if(null==e)return this._domain;this._domain=e;this._domain[0]=+this._domain[0];this._domain[1]=+this._domain[1];this._kx=(this._dx=this._domain[1]-
this._domain[0])?1/this._dx:0;this._ky=this._dy?this._dx/this._dy:0;return this};Ha.prototype.range=function(e){if(null==e)return this._range;this._range=e;this._ky=(this._dy=this._range[1]-this._range[0])?this._dx/this._dy:0;return this};Ha.prototype.step=function(e){if(null==e)return this._step;this._step=e;return this};Ha.prototype._tickStep=function(e,a,b,c,f){void 0===c&&(c=!0);void 0===f&&(f=!0);var d=this._step;if(c||!d){var g=a-e,d=Math.pow(10,Math.floor(Math.log(g/b)/Math.LN10)),k=b/(g/d);
c=d*Math.round(g/d/b);0.15>k?d*=10:0.35>=k?d*=5:0.75>k&&(d*=2);f?(f=Math.ceil(a/c)*c-Math.floor(e/c)*c-g,k=(f+g)/c,e=Math.ceil(a/d)*d-Math.floor(e/d)*d-g):(f=g-Math.floor(a/c)*c+Math.ceil(e/c)*c,k=(g-f)/c,e=g-Math.floor(a/d)*d+Math.ceil(e/d)*d);f<=e&&3>k-b&&(d=c)}return d};Ha.prototype._tickRange=function(e,a,b){1===arguments.length&&(a=e,e=0);void 0===b&&(b=1);var c=-1,f,d=[];if(0>b)for(;(f=e+b*++c)>a;)d.push(f);else for(;(f=e+b*++c)<a;)d.push(f);return d};Ha.prototype.ticks=function(e,a){void 0===
a&&(a=!1);e=Math.max(e,2);var b=Math.min(this._domain[0],this._domain[1]),c=Math.max(this._domain[0],this._domain[1]),f=this._tickStep(b,c,e,a,!1),b=this._tickRange(Math.ceil(b/f)*f,Math.floor(c/f)*f+0.5*f,f),d=b[b.length-1];null!=d&&(f=d+f,1E-7>Math.abs(this.scale(f)-this.scale(c))&&b.push(f));return b};Ha.prototype.nice=function(e){var a=Math.min(this._domain[0],this._domain[1]),b=Math.max(this._domain[0],this._domain[1]);e=Math.max(e,2);var c=this._step;if(c)return this;if(c=this._tickStep(a,b,
e)){c=this._tickStep(Math.floor(a/c)*c,Math.ceil(b/c)*c,e);e=Math.floor(a/c)*c;var f=Math.ceil(b/c)*c,d=(new Ha).domain([e,f]).range(this.range()),g=0.1*d.scale(c);d.scale(e+c)-d.scale(a)<=g&&(e=a);d.scale(b)-d.scale(f-c)<=g&&(f=b);this.domain([e,f]);this.step(c)}return this};Ha.prototype.offset=function(e){var a=this.range(),b=this.domain();if(a&&b)return this.create().domain(b).range([a[0]+e,a[1]+e]).step(this._step)};Ha.prototype.adjustZero=function(){var e=this.scale(0);return this.offset(-e)};
Ha.prototype.adjustRangeZero=function(){var e=this.range()[0];return this.offset(-e)};Ha.prototype.adjustRange=function(e){if(!e)return this;var a=[this.invert(e[0]),this.invert(e[1])];return this.create().domain(a).range(e).step(this._step)};Ha.prototype.flip=function(){var e=this.range(),a=this.domain();if(e&&a)return this.create().domain([a[1],a[0]]).range([-e[1],-e[0]]).step(this._step)};Ha.prototype.toJson=function(){return{type:"LinearScale",domain:this._domain,range:this._range}};var rc=function(){this.scale=
this.scale.bind(this);this._domain=[];this._index={};this._range=[];this._subdivisionInterval=null};rc.prototype._computeSubdivision=function(){var e=this;if(this._subdivisionInterval&&this._domain){var a=1>this._domain.length?0:(this._subdivisionInterval[1]-this._subdivisionInterval[0])/this._domain.length;return this._range=this._domain.map(function(b,c){return e._subdivisionInterval[0]+c*a})}};rc.prototype.scale=function(e){var a;a=this._index.hasOwnProperty(e)?this._index[e]:this._index[e]=this._domain.push(e)-
1;return"function"===typeof this._range?this._range(e,a):this._tickScale?this._tickScale.scale(a):this._range[a%this._range.length]};rc.prototype.invert=function(e){return this._domain[x.closestIndex(this._range,e)]};rc.prototype.domain=function(e){var a=this;if(null==e)return this._domain;this._domain=e;this._index={};var b=0;this._domain.forEach(function(c){a._index.hasOwnProperty(c)||(a._index[c]=b++)});this._computeSubdivision();return this};rc.prototype.offset=function(e){var a=this,b;if(!this._domain||
!this._range)return[];if(null==e)return this._range;var c=r.isString(e)&&"%"===e.charAt(e.length-1)?parseFloat(e,10)/100:null,f=x.range(0,this._range.length).map(function(f){return b=null!=c?f===a._range.length-1?(a._range[f]-a._range[f-1])*c:(a._range[f+1]-a._range[f])*c:e,a._range[f]+b});return(new rc).domain(this._domain).range(f)};rc.prototype.range=function(e){if(null==e)return this._range;this._subdivisionInterval=null;this._range=e;return this};rc.prototype.subdivide=function(e){if(null==e)return this._subdivisionInterval;
this._subdivisionInterval=e;this._computeSubdivision();return this};rc.prototype.toJson=function(){return{type:"OrdinalScale",domain:this._domain,range:this._range}};var kg=function(){this.scale=this.scale.bind(this)};kg.prototype.range=function(e){if(null==e)return this._range;this._range=e;return this};kg.prototype.scale=function(){return this._range};kg.prototype.toJson=function(){return{type:"ConstantScale",range:this._range}};var qo=Vd.getInstance().getColor,Oe=function(){this.scale=this.scale.bind(this);
this._domain=[0,1];this._dx=[this._domain[1]-this._domain[0]];this._range=new D({low:qo("#000000"),high:qo("#ffffff")});this._rangeRGB=[hg.rgb("#000000"),hg.rgb("#ffffff")]};Oe.prototype.domain=function(e){if(null==e)return this._domain;this._domain=e;this._dx=[];if(0<this._domain.length){e=0;for(var a=this._domain.length-1,b=0<=a;b?e<=a:e>=a;b?e++:e--)this._dx.push(this._domain[e+1]-this._domain[e]||this._domain[e]-this._domain[e-1]||1)}return this};Oe.prototype.range=function(e){if(null==e)return this._range;
this._range=e;return this};Oe.prototype.scale=function(e){var a=this._range.getColorStops();if(e<=this._domain[0])return a[0][0];if(e>=r.last(this._domain))return r.last(a)[0];for(var b=0;e>this._domain[b];)b++;var c=b-1;return a[c][0].toColor(a[b][0],(e-this._domain[c])/this._dx[c])};Oe.prototype.toJson=function(){return{type:"GradientScale",domain:this._domain,range:this._range.toJSON()}};var zk=function(e){function a(){e.call(this);this.scale=this.scale.bind(this);this._dom0=this._domain;this._dir=
!0;var b;b=a.pos_lp;this.__log=b[0];this.__pow=b[1]}e&&(a.__proto__=e);a.prototype=Object.create(e&&e.prototype);a.prototype.constructor=a;a.initClass=function(){this.pos_lp=[function(a){return Math.log(a)/Math.LN10},function(a){return Math.pow(10,a)}];this.neg_lp=[function(a){return-Math.log(-a)/Math.LN10},function(a){return-Math.pow(10,-a)}]};a.pow=function(a){return function(c){return 0>c?-Math.pow(-c,a):Math.pow(c,a)}};a.prototype.scale=function(a){return e.prototype.scale.call(this,this.__log(a))};
a.prototype.invert=function(a){return this.__pow(e.prototype.invert.call(this,a))};a.prototype.domain=function(b){if(null==b)return this._dom0;this._dom0=b;if(0>(b[0]||b[1])){this._dir=!1;var c;c=a.neg_lp}else this._dir=!0,c=a.pos_lp;this.__log=c[0];this.__pow=c[1];return e.prototype.domain.call(this,b.map(this.__log))};a.prototype.ticks=function(){var a=[];if(this._domain.every(isFinite)){var c,f=Math.floor(this._domain[0]),d=Math.ceil(this._domain[1]),e=this.__pow(this._domain[0]),k=this.__pow(this._domain[1]);
if(this._dir)for(a.push(this.__pow(f));f++<d;)for(c=10;--c;)a.push(this.__pow(f)*c);else{for(;f<d;)for(c=0;10>c++;)a.push(this.__pow(f++)*c);a.push(this.__pow(f))}for(f=0;a[f]<e;)f++;for(d=a.length;a[d-1]>k;)d--;return a.slice(f,d)}return a};a.prototype.toJson=function(){return{type:"LogScale",domain:this._dom0,range:this._range}};return a}(Ha);zk.initClass();var Ak=function(e){function a(){e.call(this);this.scale=this.scale.bind(this);this._exp=1;this.__powb=this.__powp=Number;this._dom0=this._domain}
e&&(a.__proto__=e);a.prototype=Object.create(e&&e.prototype);a.prototype.constructor=a;a.pow=function(a){return function(c){return 0>c?-Math.pow(-c,a):Math.pow(c,a)}};a.prototype.scale=function(a){return e.prototype.scale.call(this,this.__powp(a))};a.prototype.invert=function(a){return this.__powb(e.prototype.invert.call(this,a))};a.prototype.domain=function(b){if(null==b)return this._dom0;this._dom0=b;this.__powp=a.pow(this._exp);this.__powb=a.pow(1/this._exp);return e.prototype.domain.call(this,
b.map(this.__powp))};a.prototype.exponent=function(a){this._exp=a;return this.domain(this._dom0)};a.prototype.ticks=function(a,c){void 0===c&&(c=!1);var f=new e;f.domain(this._dom0).step(this.step());return f.ticks(a,c)};a.prototype.toJson=function(){return{type:"PowScale",exp:this._exp,domain:this._dom0,range:this._range}};return a}(Ha),ro=function(e){function a(){e.apply(this,arguments);this.exponent(0.5)}e&&(a.__proto__=e);a.prototype=Object.create(e&&e.prototype);a.prototype.constructor=a;a.prototype.create=
function(){return new a};a.prototype.toJson=function(){return{type:"SqrtScale",domain:this._dom0,range:this._range}};return a}(Ak),ha={linear:function(){return new Ha},ordinal:function(){return new rc},constant:function(){return new kg},gradient:function(){return new Oe},log:function(){return new zk},pow:function(e){return(new Ak).exponent(e)},sqrt:function(){return new ro},fromJson:function(e){var a;switch(e.type){case "ConstantScale":a=new kg;break;case "LinearScale":a=new Ha;break;case "OrdinalScale":a=
new rc;break;case "GradientScale":a=new Oe;break;case "LogScale":a=new zk;break;case "PowScale":a=(new Ak).exponent(e.exp);break;case "SqrtScale":a=new ro;break;default:throw Error("invalid scale "+e.type);}for(var b in e)if(e[b]){var c=e[b];if(!x.includes(["type","exp"],b))a[b](c)}return a},transpose:function(e,a,b){var c;return null!=(c=a.scale("function"===typeof b.invert?b.invert(e):void 0))?c:e}},ub=function(e,a,b,c){void 0===a&&(a=[]);void 0===c&&(c={});this.getCategories=this.getCategories.bind(this);
this._columns=a;this._keyFct=b;this._spacerOnEdge=c.spacerOnEdge;delete c.spacerOnEdge;this._nestedRows=new Wb(e,a,c);this._rowHeight=0};ub.prototype.getLayout=function(){return this._nestedRows.getLayout()};ub.prototype.getFields=function(){return this._columns};ub.prototype.hasHierarchy=function(){return this._nestedRows.hasHierarchy()};ub.prototype.numBaseRows=function(){return this._nestedRows.numLeafRows()};ub.prototype.numColumns=function(){return this._columns.length};ub.prototype.getRowHeight=
function(){return this._rowHeight};ub.prototype.traverse=function(e,a){var b=this;null==a&&(a=this.numColumns());return this._nestedRows.traverse(function(a,f,d,g,k,m,n){n={index:f,isLast:f===b.numColumns()-1,layout:null!=n?n.getLayout():void 0};d.layout=m.getLayout();return e(a,b._columns[f],n,d,g,k,m,b._columns.slice(0,f+1))},a-1)};ub.prototype.sortByRollup=function(e,a){this._nestedRows.sortByRollup(e,a);return this};ub.prototype.rollup=function(e,a){this._nestedRows.rollup(e,a);return this};ub.prototype.setLayout=
function(e){var a=e.rowHeight;e=e.spacers;this._rowHeight=a;this._nestedRows.hasHierarchy()?null==e&&(e=[p.SPACER,5*p.SPACER]):e=[e[0]];var b=r.last(e),c=this.numColumns();if(c){for(;e.length<c;)e.push(b);e=e.slice(0,c).reverse()}else e=[b];return this._updateLayout(a,e)};ub.prototype._updateLayout=function(e,a){var b=function(c,d,g){var k=a[d],m=g;c.isLeaf()?m+=e:(c.getKeys().forEach(function(a){a=c.get(a);b(a,d+1,m);m+=a.getLayout().h+k}),m-=k);return c.setLayout({spacer:k,y:g,h:m-g})};b(this._nestedRows._root,
0,this._spacerOnEdge?a[0]:0);if(this._spacerOnEdge){var c=this._nestedRows.getLayout();this._nestedRows.setLayout({h:c.h+2*a[0],y:0,spacer:c.spacer})}return this};ub.prototype.getScale=function(e){var a=void 0===e,b=[],c=[],f=this._keyFct;this.traverse(function(d,g,k,m,n,q,s){var u=m.layout.y+m.layout.h/2;a?s.isLeaf()&&s.getBaseRows().forEach(function(a){b.push(f(a));c.push(u)}):k.index===e&&(b.push(1===q.length?q[0]:sa.joinValues(q)),c.push(u))});return ha.ordinal().domain(b).range(c)};ub.prototype.getCategories=
function(e){var a=void 0===e,b={},c=0,f=this._keyFct;this.traverse(function(d,g,k,m,n,q,s){a?s.isLeaf()&&(s.getBaseRows().forEach(function(a){b[f(a)]=c}),c++):k.index===e&&(d=1===q.length?q[0]:sa.joinValues(q),b[d]=c,c++)});return b};var W={_labels:{"@salesforce/charts":{insufficientSpace:"This chart is too large for this area. Try increasing the chart area, reducing the amount of data, or using a different chart type.",waterfallTotal:"End",noData:"No data to display",noValues:"No valid data to display",
measure:"Measure",total:"Total",range:"{0} to {1}",percentTooltip:"{0} of {1}",percentTooltipWithGroup:"{0} of {1} for {2}",enableDataTable:"Enable table equivalent for screen reader users",dataTableEnabled:"Table equivalent for screen reader users enabled",sortAssistiveText:"Sort by {0}",other:"Other",invalidGeoJSON:"Invalid GeoJSON",invalidMap:"Invalid Map",nullLabel:" - ",closeTooltip:"Close tooltip",contextGeo:"data with geo information",contextTime:"data with time information",contextLatlng:"data with lat lng information",
contextFlowHighCard:"not suitable to visualize high cardinality data column with flow diagram",contextFlowLowCard:"visualize low cardinality data column with flow diagram",axisDimNoColumn:"dimension axis has no data column",axisXDimOneColumn:"x dimension axis has 1 data column",axisYDimOneColumn:"y dimension axis has 1 data column",axisXDim2Columns:"x dimension axis has 2 data column",axisYDim2Columns:" dimension axis has 2 data column",axisDimMaxColumn:"dimension axis has more than {0} columns",
axisMeaNoColumns:"measure axis has no data column",axisMeaMaxColumn:"measure axis has more than {0} columns",axisTimeNoColumn:"time axis has no data column",axisMvM:"measure axis vs measure axis",axisDvD:"dimension axis vs dimension axis",axisMvDMultiMetric:"can use another chart type for visualizing single measure",axisMultiMetricManyMeasure:"visualize more than {0} metrics",axisMultiMetricFewMeasure:"not suitable to visualize fewer than {0} metrics",axisSingleMetricSingleMeasure:"visualize exactly one metric",
axisSingleMetricFewMeasure:"not suitable to visualizemore than one metric",axisRedundancy:"x, y axis representing duplicate data columns",colorHighCardinality:"not suitable to visualize high cardinality data column with categorical color",colorLowCardinality:"visualize low cardinality data column with categorical color",trellisHighCardinality:"not suitable to visualize high cardinality data column with trellis",popularChart:"is popular",unpopularChart:"is only suitable for specific use case",low:"Low",
medium:"Medium",high:"High",measureValue:"Value: {0}",percentile:"Percentile: {0}",inRange:"In Range: {0}",US_States:"US States",World_Countries:"World Countries",Americas:"Americas",North_America:"North America",South_America:"South America",Central_America:"Central America",Caribbean:"Caribbean",Europe:"Europe",Eastern_Europe:"Eastern Europe",Northern_Europe:"Northern Europe",Southern_Europe:"Southern Europe",Western_Europe:"Western Europe",Central_Europe:"Central Europe",Scandanavia:"Scandinavia",
Asia:"Asia",South_Asia:"South Asia",South_East_Asia:"South East Asia",East_Asia:"East Asia",Australasia:"Australasia",Africa:"Africa",East_Africa:"East Africa",Middle_Africa:"Middle Africa",North_Africa:"North Africa",Southern_Africa:"Southern Africa",Western_Africa:"Western Africa",EMEA:"EMEA",APAC:"APAC","World(zoomable)":"World Countries(zoomable)","US_States(zoomable)":"US States(zoomable)"}},setCustomLabels:function(e){this._labels=x.extendDeep(this._labels,e||{})},getLabel:function(e,a,b,c){var f;
if(a)if(c&&(c[e]&&c[e][a])&&(f=c[e][a]),null==f&&(f=(f=this._labels[e])?f[a]:null),null!=f)for(var d=b||[],g=0;g<d.length;g++){var k=d[g];f=f.replace(RegExp("\\{"+g+"\\}","g"),function(){return k})}else console.warn("invalid label: "+JSON.stringify(arguments));return f||""}},Gb={isDiscreteTimeFormat:function(e){return"sfdcWeek"===e},isSfdcWeekFormat:function(e){return"sfdcWeek"===e||"sfdcYearWeek"===e},_getTickFormatter:function(e,a,b){var c=this;return function(f){return a&&14832288E5<=f?void 0:
"W"+c._parseYearWeek(f,b)[1]}},getFormatter:function(e,a){var b=this;return"sfdcWeek"===e?function(c){c=b._parseYearWeek(c,a)[1];return(10>c?"0":"")+c}:function(c){c=b._parseYearWeek(c,a);var f=c[1];return""+c[0]+" - "+((10>f?"0":"")+f)}},getParser:function(e,a,b){var c=this;return"sfdcWeek"===e?function(b){return c._getYearWeekEpoch(2016,parseInt(b,10),a)}:function(f){f=f.split(b);return c._getYearWeekEpoch(f[0],f[1],a)}},startOf:function(e,a){var b=this._parseYearWeek(e,a),b=this._getYearWeekEpoch(b[0],
b[1],a);return O.DateTime.fromMillis(b)},offset:function(e,a,b){var c=this._parseYearWeek(e,b);e=c[0];c=c[1];c+=a;a=Math.floor((c-1)/53);return O.DateTime.fromMillis(this._getYearWeekEpoch(e+a,c-53*a,b))},diff:function(e,a,b){var c=this._parseYearWeek(e,b);e=c[0];c=c[1];a=this._parseYearWeek(a,b);return 53*(a[0]-e)+a[1]-c},_parseYearWeek:function(e,a){null==a&&(a=0);var b=O.DateTime.fromMillis(e),c=b.year,f=O.DateTime.fromObject({year:c}),d=f.weekday,d=(-1===a||d===a?0:a<d?d-a:7-(a-d))%7,b=Math.ceil(((b.valueOf()-
f.valueOf())/864E5+d+1)/7);return[c,b]},_getYearWeekEpoch:function(e,a,b){null==b&&(b=0);e=parseInt(e);a=parseInt(a);if(isNaN(a)||1>a||53<a)return null;var c=new Date(Date.UTC(e,0,1));if(1===a)return O.DateTime.fromObject({year:e}).valueOf();e=c.getUTCDay();b=-1===b||e===b?7:b<e?7-(e-b):b-e;2<a&&(b+=7*(a-2));c.setUTCDate(c.getUTCDate()+b);return c.getTime()}},vd={isQuarterFormat:function(e){return"quarter"===e||"yearQuarter"===e},isDiscreteTimeFormat:function(e){return"quarter"===e},getFormatter:function(e,
a){var b="quarter"===e?"q":"yyyy"+a+"q";return function(a){return O.DateTime.fromMillis(a).toFormat(b)}},getParser:function(e,a){var b=this;return"quarter"===e?function(a){if(!isNaN(Number(a)))return O.DateTime.fromObject({month:b.convertQuarterToMonth(a)}).valueOf()}:function(c){var f=c.split(a);c=f[0];f=f[1];if(!isNaN(Number(c))&&!isNaN(Number(f)))return O.DateTime.fromObject({month:b.convertQuarterToMonth(1*f),year:1*c}).valueOf()}},diff:function(e,a){return this.convertMonthToQuarter(O.DateTime.fromMillis(a).diff(O.DateTime.fromMillis(e),
"months").toObject().months||0)},duration:function(e){var a;return O.Duration.fromObject((a={},a.months=this.convertQuarterToMonth(e)+2,a))},offset:function(e,a){var b;return O.DateTime.fromMillis(e).plus((b={},b.months=this.getOffsetInMonths(a),b))},getOffsetInMonths:function(e){return 3*e},convertQuarterToMonth:function(e){return 3*e-2},convertMonthToQuarter:function(e){return Math.ceil(e/3)}},J=function(){};J.isDiscreteTimeFormat=function(e){return"fiscalYear"===e||"fiscalQuarter"===e||"fiscalMonth"===
e||"fiscalWeek"===e};J.isFiscalTimeFormat=function(e){return"fiscalYearQuarter"===e||"fiscalYearMonth"===e||"fiscalYearWeek"===e||"fiscalYear"===e||"fiscalQuarter"===e||"fiscalMonth"===e||"fiscalWeek"===e};J.getTickFormatter=function(e,a,b,c){return function(f){if(a)return"fiscalWeek"===b?"W"+f:f;var d=J._getContinuousTimeYearInfo(f,b,c),g=d.fiscalYear;if("fiscalYear"===e)return g;f-=d.totalGrains;return"fiscalWeek"===b?"W"+f:f}};J.getFormatter=function(e,a,b){return function(c){if(J.isDiscreteTimeFormat(e))return c;
var f=J._getContinuousTimeYearInfo(c,a,b);return f.fiscalYear+"-"+(c-f.totalGrains)}};J.getParser=function(e,a,b,c){return J.isDiscreteTimeFormat(e)?function(a){return parseInt(a)}:function(f){var d=f.split(a);f=d[0];var d=d[1],e=Object.keys(c),k=Math.min.apply(Math,e),e=Math.max.apply(Math,e);if(!(f<k||f>e)){for(e=0;k!==parseInt(f);)e+=J._getNumGrainsInYear(k++,b,c);return e+=parseInt(d)}}};J.startOf=function(e,a,b,c,f){var d;d=b?Math.floor(e):"fiscalYear"===a?J._getContinuousTimeYearInfo(e,c,f).totalGrains+
1:Math.floor(e);return{valueOf:function(){return d},hasSame:function(a){return d===a.valueOf()}}};J.offset=function(e,a,b,c,f,d){var g;if(c||J._isChildGranularity(b))g=(1E8*e+1E8*a)/1E8;else{b=J._getContinuousTimeYearInfo(e,f,d).fiscalYear;for(var k=c=0;k<a;k++)c+=J._getNumGrainsInYear(b++,f,d);g=(1E8*e+1E8*c)/1E8}return{valueOf:function(){return g},hasSame:function(a){return g===a.valueOf()}}};J.diff=function(e,a){return(1E8*a-1E8*e)/1E8};J.shortestDuration=function(e,a,b,c){return a||J._isChildGranularity(e)?
1:J._smallestGranularityInYear(b,c)};J._smallestGranularityInYear=function(e,a){var b=Number.MAX_SAFE_INTEGER,c;for(c in a)if(a.hasOwnProperty(c)){var f=J._getNumGrainsInYear(c,e,a);f<b&&(b=f)}return b};J._getNumGrainsInYear=function(e,a,b){e=b[e];switch(a){case "fiscalQuarter":return e&&e.fiscalQuarter||4;case "fiscalMonth":return e&&e.fiscalMonth||12;case "fiscalWeek":return e&&e.fiscalWeek||52}};J._getContinuousTimeYearInfo=function(e,a,b){for(var c=Math.min.apply(Math,Object.keys(b)),f=0,d=J._getNumGrainsInYear(c,
a,b);f+d+1<=e;)f+=d,d=J._getNumGrainsInYear(++c,a,b);return{fiscalYear:c,totalGrains:f}};J._isChildGranularity=function(e){return"fiscalQuarter"===e||"fiscalMonth"===e||"fiscalWeek"===e};var Od=null,Q=p.TIME_GRANULARITY,Um=["d","dd"],Vm=["W","WW"],bu=["M","MM","MMM","MMMM"].concat(Um).concat(Vm).concat("H","m","s"),ss=864E5,ts=6048E5,Pj,Qj,Bk,Rj=null,la={};la[Q.MILLISECOND]={steps:[1,100,500],parentGranularity:Q.SECOND,durationGranuarilty:"milliseconds"};la[Q.SECOND]={steps:[1],parentGranularity:Q.MINUTE,
durationGranuarilty:"seconds"};la[Q.MINUTE]={steps:[1,2,5,10,15,30],parentGranularity:Q.HOUR,durationGranuarilty:"minutes"};la[Q.HOUR]={steps:[1,2,3,4,6,8,12],parentGranularity:Q.DAY,durationGranuarilty:"hours"};la[Q.DAY]={steps:[1,2,3,4,10,14],parentGranularity:Q.MONTH,durationGranuarilty:"days"};la[Q.WEEK]={steps:[1,2,13,25],parentGranularity:Q.WEEKYEAR,durationGranuarilty:"weeks"};la[Q.SFDC_WEEK]={steps:[1,2,13,25],parentGranularity:Q.YEAR,durationGranuarilty:"weeks"};la[Q.MONTH]={steps:[1,2,3,
4,6],parentGranularity:Q.YEAR,durationGranuarilty:"months"};la[Q.QUARTER]={steps:[1,2],parentGranularity:Q.YEAR,durationGranuarilty:"months"};la[Q.YEAR]={durationGranuarilty:"years"};la[Q.WEEKYEAR]={durationGranuarilty:"years"};la[Q.FISCAL_YEAR]={durationGranuarilty:"years"};la[Q.FISCAL_QUARTER]={steps:[1,2],parentGranularity:Q.FISCAL_YEAR,durationGranuarilty:"quarters"};la[Q.FISCAL_MONTH]={steps:[1,2,3,4,6],parentGranularity:Q.FISCAL_YEAR,durationGranuarilty:"months"};la[Q.FISCAL_WEEK]={steps:[1,
2,13,25],parentGranularity:Q.FISCAL_YEAR,durationGranuarilty:"weeks"};var cu="1988-01-02T01:00:00.001 1992-02-04T03:05:05.100 1994-03-06T05:10:10.200 2000-04-08T07:15:15.300 2005-05-10T09:20:20.400 2006-06-12T11:25:25.500 2007-07-14T13:30:30.600 2008-08-16T15:35:35.700 2009-09-20T17:40:40.800 2010-10-24T19:45:45.900 2011-11-26T21:50:50.920 2012-12-30T23:55:55.999".split(" "),ra={isFiscalTimeFormat:function(e){return J.isFiscalTimeFormat(e)},isDiscreteTimeFormat:function(e){return J.isDiscreteTimeFormat(e)||
Gb.isDiscreteTimeFormat(e)||vd.isDiscreteTimeFormat(e)||-1<bu.indexOf(e)},getFormatter:function(e,a,b,c,f,d){return J.isFiscalTimeFormat(e)?J.getFormatter(e,c,f):Gb.isSfdcWeekFormat(e)?Gb.getFormatter(e,a,b):vd.isQuarterFormat(e)?vd.getFormatter(e,b):function(a){return O.DateTime.fromMillis(a,{zone:d}).toFormat(e)}},getParser:function(e,a,b,c,f,d){return e?Gb.isSfdcWeekFormat(e)?Fe(Gb.getParser(e,a,b),e):vd.isQuarterFormat(e)?Fe(vd.getParser(e,b),e):J.isFiscalTimeFormat(e)?Fe(J.getParser(e,b,c,f),
e):this.isDiscreteTimeFormat(e)?rs(e):Wm(e,d):Fe(function(a){return O.DateTime.fromJSDate(new Date(a),{zone:d}).valueOf()},e)},getConstantEpoch:function(){Bk||(Bk=O.DateTime.fromISO("1988-07-08").valueOf());return Bk},getCategories:function(e,a,b,c){null==a&&(a=Q.MONTH);var f=e.domain();if(!(2E3<(J.isFiscalTimeFormat(a)?J.diff(c[0],c[1]):this.diff(f[0],f[1],a,b)))){e={};if(f[0]===f[1])return e[f[0]]=0,e;if(J.isFiscalTimeFormat(a)){a=0;for(b=c[0];b<=c[1];b+=1)e[b]=a++}else{c=this.startOf(f[0],a,b);
for(var d=0,f=O.DateTime.fromMillis(f[1]);c<=f;)e[c.valueOf()]=d++,c=this.offset(c.valueOf(),1,a,b)}return e}},_tooCloseToParentTick:function(e,a,b,c,f,d,g,k,m){e=e.valueOf();a=a.valueOf();if(f.scale(e)-f.scale(a)<c)return!0;b=this.offset(a,1,b,d,k,g,m).valueOf();return f.scale(b)-f.scale(e)<c},_getTickFormatter:function(e,a,b,c,f,d){var g=e[a];return Gb.isSfdcWeekFormat(g)?Gb._getTickFormatter(g,b,c):J.isFiscalTimeFormat(g)?J.getTickFormatter(g,b,f,d):function(a){return O.DateTime.fromMillis(a).toFormat(g)}},
ticks:function(e,a,b,c,f,d,g,k){var m,n,q,s,u=a,p=e.domain(),t=J.isFiscalTimeFormat(g)?p[0]:O.DateTime.fromMillis(p[0]);g=J.isFiscalTimeFormat(g)?p[1]:O.DateTime.fromMillis(p[1]);f&&(q=la[a].parentGranularity)&&(b[q]=b[a]);if(t.hasSame&&t.hasSame(g,Q.MILLISECOND)||t===g)return[{time:t.valueOf(),text:this._getTickFormatter(b,a,f,d,u,k)(t.valueOf())}];c=this.estimateWidth(b,c?null:us());for(var w=la[Q.MILLISECOND].durationGranuarilty;;){s=la[a];q=s.parentGranularity;s=s.steps;if(!q)break;m=J.isFiscalTimeFormat(a)?
e.scale(J.shortestDuration(a,f,u,k))-e.scale(0):e.scale(this.duration(1,a).as(w))-e.scale(0);n=1.1*Math.max(c[a],c[q]);if(n<m*r.last(s))break;a=q}q||(q=a,m=J.isFiscalTimeFormat(a)?e.scale(J.shortestDuration(Q.YEAR,f,u,k))-e.scale(0):e.scale(this.duration(1,Q.YEAR).as(w))-e.scale(0),n=1.1*c[a]);var z;if(s)for(c=0;c<s.length&&!(z=s[c],m*z>n);c++);else z=Math.ceil(n/m);p=(m=!(a===Q.DAY&&10>z||a===Q.WEEK&&13>z))?this.startOf(p[0],q,d,f,u,k):this.startOf(p[0],a,d,f,u,k);s=[];c=this._getTickFormatter(b,
a,f,d,u,k);b=this._getTickFormatter(b,q,f,d,u,k);for(w=this.startOf(p.valueOf(),q,d,f,u,k);;){if(p>=t){var v=void 0,y=this.startOf(p.valueOf(),q,d,f,u,k);y>w?(m&&(p=y),v=b(p.valueOf())):v=p.hasSame(y,Q.MILLISECOND)?b(p.valueOf()):m&&this._tooCloseToParentTick(p.valueOf(),y,q,n,e,d,u,f,k)?null:c(p.valueOf());if(p>g)break;null!=v&&s.push({time:p.valueOf(),text:v});w=y}p=this.offset(p.valueOf(),z,a,d,f,u,k)}return s},estimateWidth:function(e,a){var b={};Od=Od||Da.getDelegate();if(null!=a)for(var c in e)e[c]&&
(b[c]=a);else{var f=Od.getTextWidth("0",p.AXIS.LABELS.TEXT.SIZE);cu.forEach(function(a){for(var c in e)if(e[c])if(J.isFiscalTimeFormat(c))b[c]=c===Q.FISCAL_YEAR?4*f:2*f;else{var k=e[c],k=Od.getTextWidth(O.DateTime.fromISO(a).toFormat(Gb.isSfdcWeekFormat(k)?"W[w]":k),p.AXIS.LABELS.TEXT.SIZE);null==b[c]&&(b[c]=0);b[c]=Math.max(b[c],k)}})}return b},startOf:function(e,a,b,c,f,d){e="number"===typeof e?O.DateTime.fromMillis(e):e;return a===Q.WEEKYEAR?e.set({weekNumber:1,weekday:1,hour:0,minute:0,second:0,
millisecond:0}):a===Q.SFDC_WEEK?Gb.startOf(e.valueOf(),b):J.isFiscalTimeFormat(a)?J.startOf(e.valueOf(),a,c,f,d):e.startOf(a)},offset:function(e,a,b,c,f,d,g){var k;e="number"===typeof e?O.DateTime.fromMillis(e):e;return b===Q.WEEKYEAR?e.set({year:e.weekYear+a,month:6,day:1}).set({weekNumber:1}):b===Q.SFDC_WEEK?Gb.offset(e.valueOf(),a,c):b===Q.QUARTER?vd.offset(e.valueOf(),a):J.isFiscalTimeFormat(b)?J.offset(e.valueOf(),a,b,f,d,g):e.plus((k={},k[la[b].durationGranuarilty]=a,k))},diff:function(e,a,
b,c){e="number"===typeof e?O.DateTime.fromMillis(e):e;a="number"===typeof a?O.DateTime.fromMillis(a):a;if(J.isFiscalTimeFormat(b))return J.diff(e.valueOf(),a.valueOf());if(b===Q.SFDC_WEEK)return Gb.diff(e.valueOf(),a.valueOf(),c);if(b===Q.QUARTER)return vd.diff(e.valueOf(),a.valueOf());b=la[b].durationGranuarilty;return a.diff(e,b).toObject()[b]||0},duration:function(e,a){var b;if(a===Q.QUARTER)return vd.duration(e);a===Q.SFDC_WEEK&&(a=Q.WEEK);return O.Duration.fromObject((b={},b[la[a].durationGranuarilty]=
e,b))},getDateTimeFromMillis:function(e){return O.DateTime.fromMillis(e)},getDateTimeFromObject:function(e){return O.DateTime.fromObject(e)}},so=p.SERIES_KEY,$h={percent:function(e,a){null==e&&(e=0);return 0===a?a:100*e/a},getDataInfoForMeasure:function(e,a){return Oa.getRowInternalField(e,p.PERCENTAGE_INFO_KEY).measures[a]},getPercentRowTransform:function(e,a,b){var c=this,f=a.map(function(a){return a.getName()}),d=sa.getValueFct({field:a}),g={},k=function(a){a=d(a)||"";g[a]||(g[a]={});return g[a]};
e.forEach(function(a){if(null==a[so]){var c=k(a);b.forEach(function(b){b=b.getName();null!=a[b]&&(c[b]||(c[b]=0),c[b]+=Math.abs(a[b]))})}});return function(a){null==a[so]&&c.addPercentData(a,{groupNames:f,measures:k(a)});return a}},addPercentData:function(e,a){null==a&&(a={});var b=a.groupNames,c=a.measures,f={},d;for(d in c){var g=c[d];if(null!=(null!=e?e[d]:void 0))f[d]={percent:this.percent(e[d],g),total:g}}Oa.setRowInternalField(e,p.PERCENTAGE_INFO_KEY,{groups:b,measures:f});return e}},wd=p.ROW_INTERNAL_KEY,
du=p.SERIES_KEY,lg,Oa=lg={layoutTabularRows:function(e,a,b,c){void 0===c&&(c={});e=new ub(e,a,b,c);if((c=c.sorting)&&c.column&&0<a.length&&c.internal)a=c.column[0],a.getType()===p.COLUMN_TYPE.MEASURE&&(e.rollup(a,function(a){return Ja.sum(r.filter(a))}),e.sortByRollup(a,c.order));return e},transpose:function(e){return x.zip.apply(x,e)},rows2cols:function(e){var a={};e.forEach(function(c){r.keys(c).forEach(function(c){null==a[c]&&(a[c]=[])})});var b=r.keys(a);e.forEach(function(c){b.forEach(function(b){a[b].push(c[b])})});
return a},cols2rows:function(e){var a=r.keys(e);if(0===a.length)return[];for(var b=e[a[0]].length,c=[],f=function(b){var f={};a.map(function(a){return f[a]=e[a][b]});c.push(f)},d=0;d<b;d++)f(d);return c},foldRows:function(e,a,b,c){if(!b)return e;a=x.ensureArray(a);var f={},d=[],g=sa.getValueFct({field:a}),k=sa.getValueFct({field:b});e.forEach(function(b){var e=g(b),q=k(b),s=f[e];s||(s=r.pick.apply(r,[b].concat(r.map(a,function(a){return a.getName()}))),f[e]=s,s.$$data={},d.push(e));s[q]=b[c.getName()];
s.$$data[q]=b});return d.map(function(a){return f[a]})},unfoldRows:function(e,a,b,c,f){a=x.ensureArray(a);var d=[],g=r.map(a,function(a){return a.getName()});e.forEach(function(a){for(var e=a.$$data||{},n,q=0;q<b.length;q++){n=b[q];var s=a[n],u=e[n];if(u||void 0!==s){u||(u=r.pick(a,g));u[c.getName()]=n;u[f.getName()]=s;if(n=a[wd])u[wd]||(u[wd]={}),r.extend(u[wd],n);d.push(u)}}});return d},zeroFillRows:function(e,a,b,c,f){a=x.ensureArray(a);e=this.foldRows(e,a,c,f);e.forEach(function(a){b.forEach(function(c){null==
a[c]&&(a[c]=0)})});return this.unfoldRows(e,a,b,c,f)},addTotalRows:function(e,a,b,c,f,d){var g,k,m;null==d&&(d=!0);e=x.deepCopy(e);if(!a||!a.length)return e;b=x.ensureArray(b);var n=lg.rows2cols(e);c?(m=x.uniq(n[c.getName()]),k=this.foldRows(e,b,c,f),g=lg.rows2cols(k)):(m=[f.getName()],k=e,g=n);a=r.chain(a).map(function(a){0>a.row&&(a.row=k.length,d||a.row--);return a}).sortBy(function(a){return-a.row}).value();a.forEach(function(a){var c,f=a.row,e=a.label;if(d)null==e&&(e=W.getLabel("@salesforce/charts",
"total")),c={},lg.setRowInternalField(c,"isTotal",!0),b.forEach(function(a){c[a.getName()]=e}),m.forEach(function(a){c[a]=Ja.sum(r.filter(g[a].slice(0,f)))}),k.splice(f,0,c);else if(c=k[Math.round(f)])lg.setRowInternalField(c,"isTotal",!0),null!=e&&b.forEach(function(a){null==a.getValueLabels()&&(a._valueLabels={});a._valueLabels[c[a.getName()]]=e})});return c?(e=this.unfoldRows(k,b,m,c,f),d&&(a=$h.getPercentRowTransform(e,b,[f]),e=e.map(a)),e):k},filterOutRowsWithMissingFields:function(e){for(var a=
this,b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];b=b.filter(function(a){return null!=a});return r.filter(e,function(c){return(d=a).rowHasAllFields.apply(d,[c].concat(b));var d})},rowHasAllFields:function(e){for(var a=[],b=arguments.length-1;0<b--;)a[b]=arguments[b+1];return r.reduce(a,function(a,b){return null!=e[b.getName()]&&a},!0)},hasMeasures:function(e,a){return!r.isEmpty(r.find(e,function(b){return null!=r.find(a,function(a){return null!=b[a.getName()]})}))},getRowsForSeries:function(e,
a){return r.filter(e,function(b){return b[du]===a})},measureSum:function(e,a,b){null==b&&(b=!1);e=b?r.map(e,function(c){return Math.abs(c[a.getName()])}):r.map(e,a.getName());return Ja.sum(e)},parseTimeRowTransform:function(e){var a=e.getDataFormat(),b=e.getName(),c=e.getFirstDayOfWeek(),f=e.getDataSeparator(),d=e.getParser()||ra.getParser(a,c,f);return this.getInternalValueTransform(e,function(a){return d(a[b])})},parseInternalKeyTransform:function(e,a){var b=sa.getValueFct({field:a,defaultValue:""});
return this.getInternalValueTransform(e,b)},getInternalValueTransform:function(e,a){var b=this,c=e.getInternalColumnName();return function(f){b.setRowInternalField(f,c,a(f));return f}},setRowInternalField:function(e,a,b){if(e){var c=e[wd];c||(e[wd]=c={});c[a]=b}},getRowInternalField:function(e,a){var b=e[wd];if(b)return b[a]},getRowWithoutInternalValue:function(e){e=r.extend({},e);delete e[wd];return e},sortRows:function(e,a,b){var c,f=sa.getValueFct({field:a}),d=a.getName(),g={};e.forEach(function(a){var c=
f(a);g[c]?g[c].push(a):g[c]=[a]});var k=[];b.forEach(function(a){g[a]?k=k.concat(g[a]):k.push((c={},c[d]=a,c))});return k}},to=function(e){return JSON.stringify(e)},eu=function(e,a){null==a&&(a=!1);var b=e.map(function(c){return ai(c,a)});return function(a){return to(b.map(function(b){return b(a)}))}},ai=function(e,a){void 0===a&&(a=!1);if(!e)return function(a){};if(a||e.isInternalOnly()){var b=e.getInternalColumnName();return function(a){return Oa.getRowInternalField(a,b)}}var c=e.getName();return function(a){return a[c]}},
fu=function(e,a,b){null==b&&(b=!1);return r.isArray(e)?e.length?1===e.length?ai(e[0],b):eu(e,b):uo(a):ai(e,b)},uo=function(e){return function(){return null!=e?e:void 0}},gu=function(e){return function(a){return null!=a?a:e}},sa={joinValues:to,getValueFctFromSingleField:ai,getValueFct:function(e,a){null==e&&(e={});null==a&&(a=!1);var b=e.value,c=e.field,f=e.scale,d=e.defaultValue,c=null!=b?r.isFunction(b)?[b]:[function(){return b}]:null!=c?[fu(c,d,a)]:[uo(d)];null!=f&&c.push(f.scale);null!=d&&c.push(gu(d));
c=r.filter(c);return 1===c.length?c[0]:x.flow(c)},getValueMapFct:function(e){var a={},b;for(b in e)if(e[b]){var c=e[b];a[b]=this.getValueFct(c,c.useParsedData)}return function(c){var b={},e;for(e in a)a[e]&&(b[e]=(0,a[e])(c));return b}},getDotAccessorFct:function(e){if(-1===e.indexOf("."))return function(a){return null!=a?a[e]:void 0};var a=e.split(".");return function(b){a.forEach(function(a){b=null!=b?b[a]:void 0});return b}},isValidJSONString:function(e){try{JSON.parse(e)}catch(a){return!1}return!0},
parseValue:function(e){return this.isValidJSONString(e)?JSON.parse(e):e}},vo,Pe=function(e){function a(){e.apply(this,arguments)}e&&(a.__proto__=e);a.prototype=Object.create(e&&e.prototype);a.prototype.constructor=a;a.setShapeGroup=function(a){vo=a};a.prototype.getShapes=function(){return this.getChildren()};a.prototype.shapeByKey=function(a){return this.getChildByKey(a)};a.prototype.getFlattenShapes=function(){return r.flatten(this.getChildren().map(function(a){return a.getFlattenShapes()}))};a.prototype.flatten=
function(){var a=this.getFlattenShapes();this.removeAll();return this.appendAll(a)};a.prototype.applyScales=function(a){if(null==a)return this;this.getChildren().forEach(function(c){c.applyScales(a)});return this};a.prototype.connectBy=function(a){for(var c=this.getChildren().slice(),f=0;f<c.length;f++){var d=c[f];0<f&&a(c[f-1],d)}return this};a.prototype.groupByField=function(a){a=sa.getValueFct({field:a});var c=this.getFlattenShapes();this.removeAll();for(var f=0;f<c.length;f++){var d=c[f];if(d.get("data")&&
d.get("data").row){var e=a(d.get("data").row)||"";this.getChildByKey(e)||this.append(new vo({key:e}));this.getChildByKey(e).append(d)}else this.append(d)}return this};a.prototype.sortByField=function(a){if(null==a)return this;this._setChildren(r.sortBy(this.getChildren(),function(c){return c.get("data").row[a.getName()]}));return this};a.prototype.sortBy=function(a){if(null==a)return this;this._setChildren(r.sortBy(this.getChildren(),a));return this};return a}(ud),Ga=function(e){function a(a,c){a||
(a={cell:void 0});e.call(this,a,c);var f=a.cell;f&&f.append(this)}e&&(a.__proto__=e);a.prototype=Object.create(e&&e.prototype);a.prototype.constructor=a;a.prototype._setDefaultProps=function(){e.prototype._setDefaultProps.call(this);var a=this._props;a.x=0;a.y=0;a.staggerAnim=!0;a.scales=void 0;a.viewport=void 0;a.axisOptions=void 0;a.interactive=!1;a.canSelect=!1;a.canHover=!1;a.canScroll=!0;a.brush=null};a.prototype._onChange=function(a){e.prototype._onChange.call(this,a);var c;(c=a.scales)&&this.applyScales(c[0])};
a.prototype.getCell=function(){return this.getParent()};a.prototype.getScene=function(){var a=this.getCell();if(a)return a.getScene()};a.prototype.flipX=function(){var a=this._props,c=this.getCell(),c=c?0===c.get("w")?0:c.get("w")-1:0;if(a.viewport){var f=a.viewport;a.viewport[0]=c-f[0]-f[2]}a.x=c-a.x;if((a=a.scales)&&a.x)a.x=a.x.flip();e.prototype.flipX.call(this);return this};a.prototype.flipY=function(){var a=this._props,c=this.getCell(),c=c?0===c.get("h")?0:c.get("h")-1:0;if(a.viewport){var f=
a.viewport;a.viewport[1]=c-f[1]-f[3]}a.y=c-a.y;if((a=a.scales)&&a.y)a.y=a.y.flip();e.prototype.flipY.call(this);return this};a.prototype.rotate=function(){var a=this._props,c=this.getCell(),c=c?0===c.get("h")?0:c.get("h")-1:0;if(a.viewport){var f=a.viewport,d=f[2];a.viewport=[f[1],c-f[0]-d,f[3],d]}c-=a.x;a.x=a.y;a.y=c;if(a=a.scales)c=a.y,f=a.x&&a.x.flip(),a.x=c,a.y=f,a.x||delete a.x,a.y||delete a.y;e.prototype.rotate.call(this);return this};a.prototype.offsetX=function(a){this._props.x+=a;this._props.viewport&&
(this._props.viewport[0]+=a);return this};a.prototype.offsetY=function(a){this._props.y+=a;this._props.viewport&&(this._props.viewport[1]+=a);return this};a.prototype.postProcess=function(){delete this._props.axisOptions;return e.prototype.postProcess.call(this)};a.prototype.boundingBox=function(a){void 0===a&&(a=!1);var c=this._props;if(c.viewport){var f=c.viewport;(c=new I({x:f[0]-c.x,y:f[1]-c.y,w:f[2],h:f[3]}))&&a&&c.offset.apply(c,this.translation());return c}return e.prototype.boundingBox.call(this,
a)};a.prototype.translation=function(){var a=[this._props.x,this._props.y],c=a[0],a=a[1],f=this.getCell(),d=this.getScene();f&&d&&(d=d.get("scrollOffset"),f.get("scrollX")&&(c-=d[0]),f.get("scrollY")&&(a-=d[1]));return[c,a]};a.prototype.totalTranslation=function(a,c){void 0===a&&(a=!1);void 0===c&&(c=!1);var f=this._props.x,d=this._props.y,e=this.getParent(),k=this._props.canScroll;void 0===k&&(k=!0);e=e&&e.totalTranslation(a&&k,c&&k)||[0,0];return[e[0]+f,e[1]+d]};a.prototype.toJson=function(){var a=
e.prototype.toJson.call(this);if(this._props.scales){a.props.scales={};for(var c in this._props.scales)if(this._props.scales[c]){var f=this._props.scales[c];f&&(a.props.scales[c]=f.toJson())}}return a};return a}(Pe);Ga.type="Layer";Ga._sensitiveProps=new Za(["scales"]);var Ra=function(){};Ra.prototype.applyEffect=function(e){return e};Ra.getDescriptor=function(e){return Ra.getDescriptorForType("ShapeEffect",e)};Ra.getDescriptorForType=function(e,a){var b={type:e};null!=a&&(b.options=a);return b};
Ra.addEffectToShape=function(e,a){var b=this.getDescriptor(),c=e.get(a);r.isArray(c)||(c=[c]);r.find(c,function(a){return a.type===b.type})||(c.push(b),e.set(a,c))};var bi=function(e){function a(){e.apply(this,arguments)}e&&(a.__proto__=e);a.prototype=Object.create(e&&e.prototype);a.prototype.constructor=a;a.prototype.applyEffect=function(a,c){var f=c.selectState,d=a.fill,e=a.stroke,k=a.texture,m=a.r,n=a.hidden;null!=f&&(f=f===p.SELECT_STATE.FALSE,d&&(d=f?d.toGreyscale():d),e&&(e=f?e.toGreyscale():
e),f&&(null!=m&&n)&&(m=0),k&&f&&(k.shade+=0.2));return r.extend(a,{fill:d,stroke:e,texture:k,r:m})};return a}(Ra);bi.getDescriptor=function(e){return Ra.getDescriptorForType("DefaultSelectionShapeEffect",e)};var ci=function(e){function a(){e.apply(this,arguments)}e&&(a.__proto__=e);a.prototype=Object.create(e&&e.prototype);a.prototype.constructor=a;a.prototype.applyEffect=function(a,c){var f=c.hoverState,d=a.fill,e=a.stroke,k=a.texture;null!=f&&f===p.HOVER_STATE.TRUE&&(d&&(d=d.dimColor(p.HOVER_SHAPE_EFFECT.DIMMING_FACTOR)),
e&&(e=e.dimColor(p.HOVER_SHAPE_EFFECT.DIMMING_FACTOR)),k&&(k.shade+=0.2));return r.extend(a,{fill:d,stroke:e,texture:k})};return a}(Ra);ci.getDescriptor=function(e){return Ra.getDescriptorForType("DefaultHoverShapeEffect",e)};var hu=Vd.getInstance(),iu="fill hoverFill stroke hoverStroke bgColor hoverBgColor textColor textColorDark textColorLight".split(" "),$a=function(e){function a(a,c){a||(a={layer:void 0,shapeGroup:void 0});e.call(this,a,c);var f=a.layer,d=a.shapeGroup;f&&f.append(this);d&&d.append(this)}
e&&(a.__proto__=e);a.prototype=Object.create(e&&e.prototype);a.prototype.constructor=a;a.prototype._setDefaultProps=function(){e.prototype._setDefaultProps.call(this);var a=this._props;a.opacity=1;a.canHover=!0;a.canSelect=!0;a.skipInFind=!1;a.data=void 0;a.cursorType=p.CURSOR_TYPE.DEFAULT;a.selectionShapeEffect=bi.getDescriptor();a.hoverShapeEffect=ci.getDescriptor();a.selectionKeys=void 0;a.onClick=void 0};a.prototype._mapValue=function(a,c){return-1<iu.indexOf(a)?this._mapColor(c):c};a.prototype._mapColor=
function(a){return"string"===typeof a&&""!==a?hu.getColor(a):a};a.prototype.getLayer=function(){for(var a=this.getParent();a&&!(a instanceof Ga);)a=a.getParent();return a};a.prototype.getFlattenShapes=function(){return this};a.prototype.applyScales=function(a){var c={},f=this.getPropertiesByScale(),d;for(d in f)if(f[d]){var e=f[d],k=a[d];if(k)for(var m=this._props,n=0;n<e.length;n++){var q=e[n],s=m[q];c[q]=null==s?void 0:r.isArray(s)?s.map(function(a){return k.scale(a)}):k.scale(s)}}return this.set(c)};
a.prototype.getPropertiesByScale=function(){return{}};a.prototype.getRotation=function(){};a.prototype.isVisible=function(){return 0<this._props.opacity};a.prototype._forceRecomputeBoundingBox=function(){this._hoverBB=this._trueBoundingBox=null};a.prototype._computeTrueBoundingBox=function(){return new I};a.prototype.boundingBox=function(){return this.trueBoundingBox().toAABB()};a.prototype.trueBoundingBox=function(){this._trueBoundingBox||(this._trueBoundingBox=this._computeTrueBoundingBox());return this._trueBoundingBox};
a.prototype.domainBox=function(){return this.boundingBox()};a.prototype._flipProp=function(a){var c=this._props[a];null!=c&&(this._props[a]=r.isArray(c)?c.map(function(a){return-a}):-c);return this};a.prototype.flipX=function(){var a=this;this._forceRecomputeBoundingBox();var c=this.getPropertiesByScale();c.x&&c.x.forEach(function(c){a._flipProp(c)});this._props.angle=-this._props.angle;return this};a.prototype.flipY=function(){var a=this;this._forceRecomputeBoundingBox();var c=this.getPropertiesByScale();
c.y&&c.y.forEach(function(c){a._flipProp(c)});this._props.angle=-this._props.angle;return this};a.prototype.offsetX=function(a){this._forceRecomputeBoundingBox();return this};a.prototype.offsetY=function(a){this._forceRecomputeBoundingBox();return this};a.prototype.rotate=function(){this._forceRecomputeBoundingBox();return this};a.prototype.centerDistSqrd=function(a,c){var f=this.boundingBox().getCenter();return Math.pow(f[0]-a,2)+Math.pow(f[1]-c,2)};a.prototype.closerThan=function(a,c,f){return this.constructor!==
a.constructor?!1:this.centerDistSqrd(c,f)<a.centerDistSqrd(c,f)};return a}(Yh),mg=function(e){function a(){e.apply(this,arguments)}e&&(a.__proto__=e);a.prototype=Object.create(e&&e.prototype);a.prototype.constructor=a;a.prototype.applyEffect=function(a,c){var f=c.hoverState,d=a.hoverBgColor,e=a.hoverStroke,k=a.bgColor,m=a.stroke;null!=f&&f===p.HOVER_STATE.TRUE&&(null!=d&&(k=d),null!=e&&(m=e));return r.extend(a,{bgColor:k,stroke:m})};return a}(Ra);mg.getDescriptor=function(e){return Ra.getDescriptorForType("HighlightHoverShapeEffect",
e)};var ju={right:"left",left:"right",center:"center"},ku={right:"top",left:"bottom",center:"middle"},lu={top:"bottom",bottom:"top",middle:"middle"},mu={top:"left",bottom:"right",middle:"center"},di=0,wo=0,Ea=function(e){function a(a){null==a&&(a={});if(!di){var c;c=Da.getDelegate().fontInfo();di=c.SIZE_ASCENDER;wo=c.SIZE_DESCENDER}e.call(this,a);this._maxTextWidth=0;this._isTruncated=void 0}e&&(a.__proto__=e);a.prototype=Object.create(e&&e.prototype);a.prototype.constructor=a;a.initClass=function(){this.type=
"Text";this.shapeEffectsProps=["stroke","bgColor","hoverBgColor","hoverStroke"];this._sensitiveProps=new Za(["pivot","text"])};a.prototype._setDefaultProps=function(){e.prototype._setDefaultProps.call(this);var a=this._props;a.key="Text";a.x=0;a.y=0;a.text=void 0;a.stroke=void 0;a.size=12;a.halign="left";a.valign="bottom";a.vertical=!1;a.maxWidth=void 0;a.includeDescender=!0;a.cw=!1;a.pivot=void 0;a.pivot_x=void 0;a.pivot_y=void 0;a.angle=0;a.hoverBgColor=void 0;a.hoverStroke=void 0;a.bgColor=void 0;
a.hotSpots=void 0;a.canSelect=!1;a.fixedOrientation=!1;a.hoverShapeEffect=[a.hoverShapeEffect,mg.getDescriptor()];a.padding=new fb({top:0,right:0,bottom:0,left:0})};a.prototype._mapValue=function(a,c){c=e.prototype._mapValue.call(this,a,c);return"angle"===a?r.isNumber(c)?c:0:"padding"===a?new fb(c):c};a.prototype._onChange=function(a){var c;e.prototype._onChange.call(this,a);if(c=a.pivot)c=c[0],this._props.pivot_x=c[0],this._props.pivot_y=c[1];if(c=a.text)this._props.text=""+c[0]};a.prototype._hasFixedWidth=
function(){return this.hasBackground()&&null!=this._props.maxWidth};a.prototype.set=function(a,c,f){this._isTruncated=void 0;this._forceRecomputeBoundingBox();return e.prototype.set.call(this,a,c,f)};a.prototype.getPropertiesByScale=function(){return{x:["x","pivot_x"],y:["y","pivot_y"]}};a.prototype.fitToSize=function(a,c,f,d){null==f&&(f=12);null==d&&(d=1E3);this.set({size:d});for(var e=f,k=d,m=0;1E3>m;){var n=q,q=e+(k-e)/2;this.set({size:q});var s=this.boundingBox(),u=s.w>=0.95*a&&s.w<=a&&s.h<c||
s.h>=0.95*c&&s.h<=c&&s.w<a;if(q===n||q===f||q===d||u)break;else s.w>a||s.h>c?k=q:e=q;m++}return this};a.prototype.getText=function(){this.trueBoundingBox();var a=this.getModelProps(),c=a.maxWidth,f=a.text,a=a.fontSize;return null!=c?(a/=12,Da.getDelegate().getTruncatedText(f,c/a)):f};a.prototype.getW=function(){if(this._hasFixedWidth())return this._props.maxWidth;var a=this._props.padding,c=a.left,a=a.right;return this.getTextW()+c+a};a.prototype.getH=function(){var a=this._props.padding,c=a.top,
a=a.bottom;return this.getTextH()+c+a};a.prototype.getTextH=function(){return Da.getDelegate().getRealFontSize(this._props.size)};a.prototype.getTextW=function(){if(this._hasFixedWidth()){var a=this._props.padding;return this._maxTextWidth=Math.max(this._props.maxWidth-a.left-a.right,0)}return this.isTruncated()?this._maxTextWidth:Da.getDelegate().getTextWidth(this._props.text,this._props.size)};a.prototype.getRotation=function(){var a=this._props.vertical?this._props.cw?Math.PI/2:-Math.PI/2:0;if(a+=
this._props.angle){var c=null!=this._props.pivot_x?[this._props.pivot_x,this._props.pivot_y]:[this._props.x,this._props.y];return{x:c[0],y:c[1],angle:a}}return null};a.prototype.hasBackground=function(){return this._props.bgColor||this._props.hoverBgColor};a.prototype._getBaseXY=function(a,c){null==c&&(c=!0);var f=this.getTextH(),d=this._props.padding,e=d.top,k=d.left,d=d.bottom,m=this._props.includeDescender?wo:0,n;switch(this._props.halign){case "right":n=-a;break;case "center":n=-a/2;break;default:n=
0}switch(this._props.valign){case "top":e=f*(1-di-m)+e;break;case "middle":e=f*(1-di-m)/2;break;default:e=-d}c?n+=k:e+=d+f*m;return[this._props.x+n,this._props.y+e]};a.prototype._adjustRtlBaseXY=function(a){var c=a[0];a=a[1];var f=Fb.isRTL()?Math.min(this.getTextW(),Da.getDelegate().getTextWidth(this._props.text,this._props.size)):0;return[c+f,a]};a.prototype.getTextXY=function(){var a=this._props.padding,c=a.left,a=a.right,c=this._adjustRtlBaseXY(this._getBaseXY(this.getTextW()+c+a)),a=c[1];return[Math.round(c[0]),
Math.round(a)]};a.prototype.isTruncated=function(){null==this._isTruncated&&(this._isTruncated=this._computeIsTruncated());return this._isTruncated};a.prototype._computeIsTruncated=function(){if(null!=this._props.maxWidth){var a=this._props.padding;this._maxTextWidth=Math.max(this._props.maxWidth-a.left-a.right,0);return Da.getDelegate().getTextWidth(this._props.text,this._props.size)>this._maxTextWidth}return!1};a.prototype._computeTrueBoundingBox=function(){var a=this.getW(),c=this.getH(),f=this._getBaseXY(a,
!1);return new I({x:f[0],y:f[1]-c,w:a,h:c,rotation:this.getRotation()})};a.prototype.domainBox=function(){return new I({x:this._props.x,y:this._props.y,w:0,h:0})};a.prototype._flipHalign=function(){this._props.halign=ju[this._props.halign];return this};a.prototype._flipValign=function(){this._props.valign=lu[this._props.valign];return this};a.prototype._transposeTexAlign=function(){var a=this._props,c=a.valign;this._props.valign=ku[a.halign];this._props.halign=mu[c];return this};a.prototype.flipY=
function(){e.prototype.flipY.call(this);this._props.vertical?(this._flipHalign(),this._props.padding.flipX()):(this._flipValign(),this._props.padding.flipY());return this};a.prototype.flipX=function(){e.prototype.flipX.call(this);this._props.vertical?(this._flipValign(),this._props.padding.flipY()):(this._flipHalign(),this._props.padding.flipX());return this};a.prototype.offsetY=function(a){e.prototype.offsetY.call(this,a);this._props.y+=a;return this};a.prototype.offsetX=function(a){e.prototype.offsetX.call(this,
a);this._props.x+=a;return this};a.prototype.rotate=function(){e.prototype.rotate.call(this);this._props.vertical&&(this._flipHalign(),this._flipValign());this._props.fixedOrientation?this._transposeTexAlign():this._props.vertical=!this._props.vertical;var a;a=[this._props.y,-this._props.x];this._props.x=a[0];this._props.y=a[1];return this};a.prototype.rotateTextDirection=function(){this._props.vertical&&(this._flipHalign(),this._flipValign());this._props.vertical=!this._props.vertical;return this};
a.prototype.toJson=function(){var a=e.prototype.toJson.call(this);a.props.padding=null!=a.props.padding?a.props.padding.toJson():void 0;return a};return a}($a);Ea.initClass();var ka={intersectRectRect:function(e,a){return e[0]+e[2]<a[0]||a[0]+a[2]<e[0]||e[1]+e[3]<a[1]||a[1]+a[3]<e[1]?!1:!0},getFont:function(e){return e+"px "+Ia.FONT.FAMILY},tweenedValue:function(e,a){var b;return e.tweens&&void 0!==(b=e.tweens[a])?b[1]:e[a]},setStyles:function(e,a){var b=[],c;for(c in a)a[c]&&b.push(e.style[c]=a[c]);
return b},pageScrollOffset:function(){var e=document.documentElement;return{top:(window.pageYOffset||e.scrollTop||0)-(e.clientTop||0),left:(window.pageXOffset||e.scrollLeft||0)-(e.clientLeft||0)}},isIE:function(){return(-1!==navigator.userAgent.indexOf("MSIE")?/MSIE (\d+\.\d+);/:/Trident.*rv[ :]*(\d+\.\d+)/).test(navigator.userAgent)},isElementInViewport:function(e,a){var b=e.getBoundingClientRect(),c=b.left,f=b.top,d=b.width,b=b.height;return 0===c&&0===f&&0===d&&0===b?!1:ka.intersectRectRect([c,
f,a[0],a[1]],[0,0,window.innerWidth||document.documentElement.clientWidth,window.innerHeight||document.documentElement.clientHeight])}},Ck=Ia.ELLIPSIS,nu=Ia.FONT,ou=Ia.EPSILON,Ic=function(){this._delegate=null;this.reset()};Ic.cacheKey=function(e,a){return e+"-"+a};Ic.prototype.getTextDelegate=function(){return this._delegate};Ic.prototype.setTextDelegate=function(e){this._delegate=e};Ic.prototype.reset=function(){this._measuredText={};this._truncatedText={};return this};Ic.prototype.getFont=function(e){return e+
"px "+nu.FAMILY};Ic.prototype.getTextWidth=function(e){var a=0;null!=e&&(this._measuredText.hasOwnProperty(e)?a=this._measuredText[e]:this._delegate&&(a=this._delegate.measureText(e).width,this._measuredText[e]=a));return a||0};Ic.prototype.getTruncatedText=function(e,a){var b=Ic.cacheKey(e,a),c;if(this._truncatedText.hasOwnProperty(b))c=this._truncatedText[b];else{if(this.getTextWidth(e)<=a+ou)c=e;else{var f=this.getTextWidth(Ck);c="";if(a>f){c=0;for(f=e.length-1;f>=c;){var d=c+(f-c>>1),g=this.getTextWidth(e.slice(0,
d+1)+Ck);if(g===a){f=d;break}g<a?c=d+1:f=d-1}c=(-1===f?"":e.slice(0,f+1))+Ck}}this._truncatedText[b]=c}return c};Ic.prototype.wrap=function(e,a,b){var c=e.length;if(0>=a||0===c)return{lines:[],rest:e.join(" ")};for(var f="",d=0,d=0;d<c;++d){var g=f+e[d];if(this.getTextWidth(g)>b){f=f.substring(0,f.length-1);break}else f=g+(d===c-1?"":" ")}e=this.wrap(e.slice(d),a-1,b);a=e.rest;return{lines:[f].concat(e.lines),rest:a}};var Bc=pa(Ic),ei=function(){this.resolve=this.resolve.bind(this);this.reject=this.reject.bind(this);
this.promise=new Promise(function(e,a){this._resolve=e;this._reject=a}.bind(this))};ei.prototype.resolve=function(){(e=this)._resolve.apply(e,arguments);return this;var e};ei.prototype.reject=function(){(e=this)._reject.apply(e,arguments);return this;var e};var xo={mockXhrUrl:function(e){window.__karma__&&0!==e.indexOf("/base")&&(e="/base/tests/"+e);return e},request:function(e){var a=e.url,b=e.action,c=e.dataType,f=e.data;e=e.isSync;null==b&&(b="GET");var d=new XMLHttpRequest,a=this.mockXhrUrl(a);
if(e)return d.open(b,a,!1),c&&(d.responseType=c),d.send(f),d;var g=new ei;d.onload=function(){return 300>this.status?g.resolve(this.response):g.reject(this.statusText)};d.onerror=function(){return g.reject(this.statusText)};d.open(b,a);c&&(d.responseType=c);d.send(f);return g.promise}},ng=function a(b){this._view=b;this._redrawIfNeeded=rk(a.prototype._redrawIfNeeded,p.ANIM_DURATION.IMAGE_LOADING_REDRAW)};ng.prototype._redrawIfNeeded=function(){this._view.isRemoved()||this._view.isAnimating()||this._view.redraw()};
ng.prototype.willLoadImage=function(a){};ng.prototype.didLoadImage=function(a){this._view.isRemoved()||this._view.isAnimating()||this._redrawIfNeeded()};ng.prototype.failedToLoadImage=function(a){};var yo=function(a){return r.reduce(a,function(a,c){return a+c},0)},pu=function(a,b){for(;a.length<b;)a="\u00a0"+a;return a},zo=null,R=function(a){this._name=a.name};R.prettyPrint=function(a){console.log(" transaction: "+a.name+" | duration: "+a.duration+" ");0<r.keys(a.marks).length&&console.table(a.marks);
if(0<r.keys(a.iterations).length){var b={},c=0;r.keys(a.iterations).sort().forEach(function(f){var d=a.iterations[f];f=f.split(" \x3e ");var g=f.pop();f=f.map(function(a){return"\u00a0\u00a0"}).join("")+g;b[pu(""+c++,3)+" "+f]=d});return console.table(b)}};R.prototype.start=function(a){this._info=a;this._startTime=Date.now();this._endTime=null;this._marks={};this._iterations={};this._nestedIterationMarks=[];return this};R.prototype.getStartTime=function(){return this._startTime};R.prototype.end=function(){null==
this._endTime&&(this._endTime=Date.now());return this};R.prototype.getEndTime=function(){return this._endTime};R.prototype.mark=function(a){if(!(null!=this._marks[a]&&this._marks[a].start))return this._marks[a]={start:Date.now()-this._startTime},this};R.prototype.endMark=function(a){if(this._marks[a]&&null==this._marks[a].duration)return this._marks[a].duration=Date.now()-this._marks[a].start-this._startTime,this};R.prototype.updateInfo=function(a){for(var b in a)a.hasOwnProperty(b)&&(this._info[b]=
a[b])};R.prototype.prettyPrint=function(){return R.prettyPrint(this.toJson())};R.prototype.toJson=function(){this.end();var a={},b;for(b in this._iterations)if(this._iterations[b]){var c=this._iterations[b],f=c.length;if(0!==f){var d=r.map(c,"duration"),c=yo(d),g=c/f,k=r.min(d),m=r.max(d),d=Math.sqrt(yo(r.map(d,function(a){return(a-g)*(a-g)}))/f);a[b]={total:parseFloat(c.toFixed(2)),nb:f,avg:parseFloat(g.toFixed(2)),stdDev:parseFloat(d.toFixed(2)),min:parseFloat(k.toFixed(2)),max:parseFloat(m.toFixed(2))}}}return{name:this._name,
startTime:this._startTime,duration:this._endTime-this._startTime,marks:JSON.parse(JSON.stringify(this._marks)),iterations:a,info:this._info}};R.prototype.merge=function(a,b){null==b&&(b="");var c=a.name,f=a.startTime,d=a.duration,g=a.marks;b&&(c=b+"-"+c);this._marks[c]={start:f-this._startTime,duration:d};for(var k in g)g[k]&&(d=g[k],this._marks[c+"-"+k]={start:d.start+f-this._startTime,duration:d.duration});return this};R.prototype.add=function(a,b){this._endTime=(this._endTime||this._startTime)+
a.duration;return this.merge(a,b)};R.prototype._iterationPath=function(a){return this._nestedIterationMarks.concat(a).join(" \x3e ")};R.prototype.iteration=function(a,b){var c=this._iterationPath(a);this._nestedIterationMarks.push(a);var f=Date.now()-this._startTime;try{return b()}finally{var d=Date.now()-this._startTime,g=d-f;this._nestedIterationMarks.pop();null==this._iterations[c]&&(this._iterations[c]=[]);this._iterations[c].push({start:f,end:d,duration:g})}};R.prototype.resetIterations=function(){return this._iterations=
{}};R.setInstance=function(a){return zo=a};R.getInstance=function(){return zo};var qu=Ne.init("shape"),Hb=function(){};Hb.prototype.render=function(a,b,c){void 0===c&&(c={duration:0});var f=(new R({name:"rendering"})).start();b&&a.setModel(this._assignPainter(b,a.getTweener()));f.end();return this._render(a,c).then(function(a){var c=(new R({name:"remove-invisible"})).start();c.end();f.add(c.toJson());a&&f.add(a.toJson());return f})};Hb.prototype.isPatchSupported=function(){return!0};Hb.prototype.renderAccessibilityTable=
function(a,b){};Hb.prototype._createPainter=function(a){return null};Hb.prototype._getPainter=function(a,b){return a.painter};Hb.prototype._assignPainter=function(a,b){var c=this;b.addTweenProperties(a,a.tweens);a.painter=this._createPainter(a.props.type);a.uid=qu.next();a.getChildren().forEach(function(a){return c._assignPainter(a,b)});return a};Hb.prototype._render=function(a,b){return Promise.resolve(this._drawContainer(a.getModel(),a.getContext()))};Hb.prototype._drawContainer=function(a,b){var c=
this;b.save();b.saveGraphicsContext();this._applySelfTransform(a,b);var f=this._getPainter(a,b);f&&(b.applyTransform(),f.draw(a,b.getGraphicsContext(),b.getImageLoaderDelegate()),b.restoreTransform());this._applyScrolling(a,b);this._applyChildrenTransform(a,b);a.getChildren().forEach(function(a){return 0<a.getChildren().length?c._drawContainer(a,b):c._drawElement(a,b)});b.restoreGraphicsContext();b.restore()};Hb.prototype._drawElement=function(a,b){b.save();this._applySelfTransform(a,b);var c=this._getPainter(a,
b);c&&(b.saveGraphicsContext(),b.applyTransform(),c.draw(a,b.getGraphicsContext(),b.getImageLoaderDelegate()),b.restoreGraphicsContext());b.restore()};Hb.prototype._applySelfTransform=function(a,b){var c=a.props,f=c.x,d=c.y,g=c.rotation;if(g){var c=g.x,k=g.y,g=g.angle;b.translate(c,k);b.rotate(g);b.translate(-c,-k)}if(f||d)b.translate(f||0,d||0)};Hb.prototype._applyChildrenTransform=function(a,b){var c=a.props,f=c.tx,c=c.ty;if(f||c)b.translate(f||0,c||0)};Hb.prototype._applyScrolling=function(a,b,
c){void 0===c&&(c=!1);var f=a.getParent();if(f)if(!1===a.props.canScroll)this._applyScrolling(f,b,!0);else{var d=a.props;a=d.scrollX;d=d.scrollY;if((f=f.props.scrollOffset)&&(a||d))c=c?1:-1,b.translate(c*(a?f[0]||0:0),c*(d?f[1]||0:0))}};var ru=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._drawContainer=function(a,b){var d=this;b.save();b.saveGraphicsContext();this._applySelfTransform(a,b);var g=
a.painter;g&&(b.applyTransform(),g.draw(a,b.getGraphicsContext(),b.getImageLoaderDelegate()),b.shouldDrawDebugInfo(a)&&g.drawDebug(a,b.getGraphicsContext(),b.getImageLoaderDelegate()),b.restoreTransform());this._applyScrolling(a,b);this._applyChildrenTransform(a,b);a.getChildren().forEach(function(a){return 0<a.getChildren().length?d._drawContainer(a,b):d._drawElement(a,b)});b.restoreGraphicsContext();b.restore()};b.prototype._drawElement=function(c,b){a.prototype._drawElement.call(this,c,b);if(b.shouldDrawDebugInfo(c)){b.save();
var d=c.painter;d&&(b.saveGraphicsContext(),b.applyTransform(),d.drawDebug(c,b.getGraphicsContext(),b.getImageLoaderDelegate()),b.restoreGraphicsContext());b.restore()}};return b}(Hb),Ao=p.COLOR_TYPE,su=Ao.SIMPLE_COLOR,tu=Ao.LINEAR_GRADIENT,Bo=p.TEXTURE.FIT,uu=Bo.COVER,vu=Bo.CONTAIN,Ib=function(){};Ib.prototype.draw=function(a,b,c){this._setStyle(a,b);this._drawBackground(a,b)};Ib.prototype._drawBackground=function(a,b){var c=a.props,f=c.x,d=c.y;if(c=c.bg)b.save(),b.translate(-f,-d),f=c.box,b.fillStyle=
c.color.toString(),b.fillRect(f[0],f[1],f[2],f[3]),b.restore()};Ib.prototype._drawTexture=function(a,b,c,f,d){var g=f[0],k=f[1],m=f[2],n=f[3],q=a.width,s=a.height,u=q/s,p=Math.abs(m/n);switch(b){case uu:u>p?(b=n/s,d.drawImage(a,g+(m-q*b)/2,k,q*b,n)):(b=m/q,d.drawImage(a,g,k+(n-s*b)/2,m,s*b));break;case vu:u<p?(b=n/s,d.drawImage(a,g+(m-q*b)/2,k,q*b,n)):(b=m/q,d.drawImage(a,g,k+(n-s*b)/2,m,s*b));break;default:d.drawImage(a,g,k,m,n)}null!=c&&1!==c&&(d.fillStyle="rgba(0, 0, 0, "+c+")",d.fillRect.apply(d,
f))};Ib.prototype._getColorRegion=function(a){var b=a.props.bb,c=b[0],f=b[1],d=b[2],b=b[3];return a.props.boundingBox?{x0:c,y0:f,x1:c+d,y1:f+b}:{x0:0,y0:0,x1:0,y1:0}};Ib.prototype._setStyle=function(a,b){var c=a.props,f=c.opacity,d=c.lineWidth,g=c.stroke,c=c.fill;b.globalAlpha=0>f?0:f;null!=d&&(b.lineWidth=d);g&&(b.strokeStyle=this._processColor(a,b,g));c&&(b.fillStyle=this._processColor(a,b,c))};Ib.prototype._processColor=function(a,b,c){var f="";switch(c.getType()){case su:f=c.toRGBAString();break;
case tu:a=this._getColorRegion(a);var d=b.createLinearGradient(a.x0,a.y0,a.x1,a.y1);c.getColorStops().forEach(function(a){d.addColorStop(a[1],a[0].toRGBAString())});f=d}return f};var wu=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.draw=function(c,b,d){a.prototype.draw.call(this,c,b,d);var g=c.props;d=g.closePath;var k=g.fill,m=g.stroke,n=g.dashed,q=g.lineWidth,s=g.baseX,u=g.baseY,g=g.lineJoin,p=
this._getPoints(c.props);c=p[0];p=p[1];if(c&&p){var t=null==q?1:q%2/2;b.translate(t,t);b.lineJoin=g;k&&(this._drawPath(b,c,p,s,u,!0),b.fill());m&&(q&&0<q)&&(this._drawPath(b,c,p,null,null,d),n&&b.setLineDash&&(b.lineCap="round",b.setLineDash([1,n])),b.stroke())}};b.prototype._getPoints=function(a){return[a.points_x,a.points_y]};b.prototype._drawPath=function(a,b,d,g,k,m){void 0===m&&(m=!1);a.beginPath();null!=g?(a.moveTo(g,d[0]),a.lineTo(b[0],d[0])):null!=k?(a.moveTo(b[0],k),a.lineTo(b[0],d[0])):
a.moveTo(b[0],d[0]);for(var n=1;n<b.length;++n)a.lineTo(b[n],d[n]);null!=g?a.lineTo(g,d[d.length-1]):null!=k&&a.lineTo(b[b.length-1],k);m&&a.closePath()};return b}(Ib),Co=pa(wu),xu=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._getPoints=function(a){return[a.animate_points_x,a.animate_points_y]};return b}(Co),yu=pa(xu),Do=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=
Object.create(a&&a.prototype);b.prototype.constructor=b;b.getInstance=function(){this.instance||(this.instance=new this);return this.instance};b.prototype._render=function(a,b){var d=this;void 0===b&&(b={});var g=(new R({name:"visibility-test"})).start(),k=a.getModel(),m=a.getContext(),n=a.getTweener(),q=function(a){m.setInterpolationRatio(a);d._drawContainer(k,m)};g.end();return new Promise(function(a,c){n.runTween(b,q,function(c){c&&g.add(c.toJson());a(g)})})};b.prototype._getPainter=function(a,
b){return a.hasAnimatePathInfo()?b.isAnimating()?yu.getInstance():a.painter:a.painter};return b}(ru);Do.instance=null;var Va=function(a,b){void 0===b&&(b=!1);var c=r.escape(a);return b?c.replace(/ /g,"\x26nbsp;"):c},og=p.ACCESSIBILITY,zu=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.render=function(c,b,d){void 0===d&&(d={duration:0});var g=(new R({name:"accessibility"})).start();this.renderTooltip(b,
c,c.getContext(),[]);g.end();return a.prototype.render.call(this,c,b,d).then(function(a){return a.add(g.toJson())})};b.prototype.renderAccessibilityTable=function(a,b){a.updateAccessibilityTable(this._renderCaption(a)+this._renderTableMarkup(b))};b.prototype.renderAccessibilityDataItems=function(a){a.setFocusableItems(this.collectFocusableItems(a))};b.prototype.collectFocusableItems=function(a){return this._collectFocusableItems(a.getModel(),[],!1,!1,{})};b.prototype.renderTooltip=function(a,b,d,
g){var k=this;d.save();this._applyScrolling(a,d);this._applyChildrenTransform(a,d);a.getChildren().forEach(function(m){g.push(m.groupKey||m.key);var n=m.props,q=n.accessibility,s=n.bb,n=n.bb0;q&&q.showTooltip&&(q=d.applyTransformTo(s||n),b.showTooltipAtWithKey(q[0]+(q[2]>>1),q[1]+(q[3]>>1),g));k.renderTooltip(m,b,d,g);g.pop(a.key)});d.restore()};b.prototype._renderTableMarkup=function(a){function b(f){return f.map(function(b,f){return(a.titleRow[f].type===og.CELL_TYPE.DIMENSION?g:k)({label:b})}).join("")}
function d(a){var c=""===a.label?"\x3c/td\x3e ":"\x3c/th\x3e";return""+(""===a.label?"\x3ctd\x3e":"\x3cth scope\x3d'col'\x3e")+Va(a.label)+c}var g=function(a){return"\x3cth scope\x3d'row'\x3e"+Va(a.label)+"\x3c/th\x3e"},k=function(a){return"\x3ctd\x3e"+Va(a.label)+"\x3c/td\x3e"},m=a.titleRow.length?"\x3ctr\x3e"+a.titleRow.map(d).join("")+"\x3c/tr\x3e":"",n=a.dataRows.map(function(a){return"\x3ctr\x3e"+b(a)+"\x3c/tr\x3e"}).join("");return m+n};b.prototype._renderCaption=function(a){return this._renderCaptionMarkup(this._collectCaption(a.getModel()))};
b.prototype._collectCaption=function(a){var b=this;if(a){var d=U.flatten(a.getChildren().map(function(a){return b._collectCaption(a)}));return(a=a.props.accessibility)&&a.type===og.TYPE.CAPTION?[{key:a.key,value:a.value}].concat(d):U.flatten(d)}return[]};b.prototype._renderCaptionMarkup=function(a){return a.length?"\x3ccaption\x3e"+a.map(function(a){return Va(a.key)+":"+Va(a.value)}).join(",")+"\x3c/caption\x3e":""};b.prototype._collectFocusableItems=function(a,b,d,g,k){var m=this;if(!a||a.groupKey&&
null!=k[a.groupKey])return[];var n=a.groupKey,q=a.props,s=q.accessibility,u=q.opacity,q=q.isAccessible;n&&(k[n]=n);b.push(n||a.key);n=U.flatten(a.getChildren().map(function(n){return m._collectFocusableItems(n,b,a.props.scrollX||d,a.props.scrollY||g,k)}));if(s&&[og.TYPE.DATA,og.TYPE.LEGEND_DATA,og.TYPE.AXIS].includes(s.type)&&(null==u||0<u||!0===q))n=[{keyPath:b.slice(1)}].concat(n);b.pop();return n};return b}(Do),vs="green",Dk=function(){};Dk.prototype.draw=function(a,b){var c=a.props,f=c.w,d=c.h,
c=c.background;b.clearRect(0,0,f,d);c&&(b.fillStyle=c.toString(),b.fillRect(0,0,f,d))};Dk.prototype.drawDebug=function(a,b,c){};var Au=pa(Dk),Ek=function(){};Ek.prototype.draw=function(a,b){if(a.props.viewport){var c=a.props.viewport,f=c[0],d=c[1],g=c[2],c=c[3];b.beginPath();b.rect(f,d,g,c);b.clip()}};Ek.prototype.drawDebug=function(a,b,c){b.save();a=a.props;c=a.key;var f=a.tx,d=a.ty,g=a.w,k=a.h;"Cell"===a.type&&(b.font=ka.getFont(10),b.strokeStyle="red",b.strokeRect(f,d,g,k),b.textBaseline="top",
b.strokeText(c,f,d));b.restore()};var Bu=pa(Ek),Eo=Ia.FONT,Fo=2*Math.PI,Cu=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.draw=function(c,b,d){a.prototype.draw.call(this,c,b,d);var g=c.props,k=g.angle;d=g.startAngle;var m=g.roundedCornerStart,n=g.roundedCornerEnd,q=g.r1,s=g.r2,u=g.fill,p=g.stroke,t=g.lineWidth,r=g.text,z=g.subText,g=g.textColor,v=0===k?0:1>Math.abs(k*(s||q))?1*(0>k?-1:1)/(s||q):k;
if(k&&(!m||this.roundedCornerEnd)||0<q){b.rotate(d);k=0>v;b.beginPath();if(0<s){var y=0.5*(q+s);b.moveTo(s,0);m&&b.arc(y,0,(q-s)/2,Math.PI,0,k);b.arc(0,0,q,0,v,k);n&&(m=y*Math.cos(v),n=y*Math.sin(v),b.arc(m,n,(q-s)/2,v,Math.PI+v,k));b.arc(0,0,s,v,0,!k)}else b.moveTo(0,0),m&&b.arc(q/2,0,q/2,Math.PI,0,k),b.arc(0,0,q,0,v,k),n&&(m=q/2*Math.cos(v),n=q/2*Math.sin(v),b.arc(m,n,q/2,v,Math.PI+v,k));b.closePath();u&&b.fill();p&&(t&&0<t)&&(v===Fo||v===-Fo?(b.beginPath(),b.arc(0,0,q,0,v),b.stroke(),0<s&&(b.beginPath(),
b.arc(0,0,s,v,0),b.stroke())):b.stroke())}g&&r&&(s=c.props,q=s.textR,c=s.fontSize,s=s.subTextFontSize,u=q*Math.cos(v/2),v=q*Math.sin(v/2),b.translate(u,v),d&&b.rotate(-d),b.textAlign="center",b.textBaseline="middle",b.fillStyle=g.toRGBAString(),c=c||Eo.SIZE,b.font=ka.getFont(c),z?(b.fillText(r,0,-c/2-0.1*c),s=s||Eo.SIZE,b.font=ka.getFont(s),b.fillText(z,0,s/2+0.1*s)):b.fillText(r,0,0))};b.prototype._getColorRegion=function(a){a=a.props.r1;return{x0:a,y0:0,x1:-a,y1:a}};return b}(Ib),Du=pa(Cu),Go={drawCurve:function(a){var b=
a.ctx,c=a.curve;a=a.lineWidth;var f=c.type,d=c.cp0,g=c.cp1,k=c.cp2,m=c.cp3;b.beginPath();b.lineWidth=a;b.moveTo(d[0],d[1]);"bezier"===f?b.bezierCurveTo(g[0],g[1],k[0],k[1],m[0],m[1]):"quadratic"===c.type&&b.quadraticCurveTo(g[0],g[1],k[0],k[1])}},Eu=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.draw=function(c,b,d){a.prototype.draw.call(this,c,b,d);var g=c.props;c=g.lineWidth;d=g.fill;var k=g.stroke,
m=g.dx,n=g.dy,q=g.h,s=g.dashed,g=g.curve,u=null==c?1:c%2/2;b.translate(u,u);d&&(b.beginPath(),b.moveTo(q,0),b.lineTo(m+q,n),b.lineTo(0,n),b.lineTo(0,0),b.fill());k&&(c&&0<c)&&(s&&b.setLineDash&&(b.lineCap="round",b.setLineDash([1,s])),g?(1===c&&b.translate(-u,-u),Go.drawCurve({ctx:b,curve:g,lineWidth:c})):(b.beginPath(),b.lineWidth=c,b.moveTo(q,0),b.lineTo(m+q,n)),b.stroke())};b.prototype._getColorRegion=function(a){var b=a.props;a=b.h;var d=b.dx,b=b.dy;return null!=a&&null!=d&&null!=b?{x0:0,y0:0,
x1:a+d,y1:b}:{x0:0,y0:0,x1:0,y1:0}};return b}(Ib),Fu=pa(Eu),oa={events:!1,scripts:!1,perf:!1,animation:!1,debugParams:!1,map:!1,rendering:!1,moduleLoader:!1,images:!1},Gu=xo.mockXhrUrl,xd=function(a){this._url=a;this._delegates=[];this._state=0;this._img=new Image;this._img.onload=this._onLoadImage.bind(this);this._img.onerror=this._onErrorImage.bind(this);this._img.src=Gu(a);oa.images&&console.log("ImageCache:: willLoadImage",a)};xd.prototype.addDelegate=function(a){switch(this._state){case 0:if(0<=
this._delegates.indexOf(a))break;this._delegates.push(a);a.willLoadImage(this._url);break;case 1:a.didLoadImage(this._url);break;case 2:a.failedToLoadImage(this._url)}};xd.prototype.isLoaded=function(){return 1===this._state};xd.prototype.getImage=function(){return this._img};xd.prototype._onErrorImage=function(){this._state=2;this._notifyDelegates("failedToLoadImage");this._cleanup()};xd.prototype._onLoadImage=function(){this._state=1;this._notifyDelegates("didLoadImage");this._cleanup()};xd.prototype._notifyDelegates=
function(a){var b=this;oa.images&&console.log("ImageCache::",a,this._url,"-\x3e dispatching to",(this._delegates||[]).length,"delegates");this._delegates&&this._delegates.forEach(function(c){c[a](b._url)})};xd.prototype._cleanup=function(){delete this._delegates;delete this._img.onload;delete this._img.onerror};var Hu=function(a){return null},Qe=function(){this._cache={};this._urlValidator=Hu};Qe.prototype.setImageValidator=function(a){this._urlValidator=a;return this};Qe.prototype.validateUrl=function(a){return this._urlValidator(a)};
Qe.prototype.registerImage=function(a,b){var c=this._cache[a];c||(c=this._cache[a]=new xd(a));c&&b&&c.addDelegate(b)};Qe.prototype.isImageLoaded=function(a){return(a=this._cache[a])?a.isLoaded():!1};Qe.prototype.getImage=function(a){return(a=this._cache[a])?a.getImage():null};var fi=pa(Qe),Iu=Ia.FONT,Fk=fi.getInstance(),Ju=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.draw=function(c,b,d){a.prototype.draw.call(this,
c,b,d);var g=c.props,k=g.w,m=g.h,n=g.cornerRadius,q=g.fill,s=g.stroke,u=g.lineWidth,p=g.dashed,g=g.texture;if(n){var t=0<k?n:-n,r=0<m?n:-n;b.beginPath();b.moveTo(t,0);b.lineTo(k-t,0);b.quadraticCurveTo(k,0,k,r);b.lineTo(k,m-r);b.quadraticCurveTo(k,m,k-t,m);b.lineTo(t,m);b.quadraticCurveTo(0,m,0,m-r);b.lineTo(0,r);b.quadraticCurveTo(0,0,t,0)}q&&(n?b.fill():b.fillRect(0,0,k,m));g&&(t=g.url,q=g.fit,g=g.shade,Fk.isImageLoaded(t)?(d=Fk.getImage(t),b.save(),n||(b.beginPath(),b.rect(0,0,k,m)),b.clip(),a.prototype._drawTexture.call(this,
d,q,g,[0,0,k,m],b),b.restore()):Fk.registerImage(t,d));s&&(u&&0<u)&&(p&&b.setLineDash&&(b.lineCap="round",b.setLineDash([5,p])),n?b.stroke():(n=u%2/2,b.strokeRect(n,n,k,m)));this._drawText(c,b)};b.prototype._drawText=function(a,b){var d=a.props,g=d.textX,k=d.textY,m=d.textColor,n=d.text,q=d.textRotation,d=d.fontSize;m&&(n&&null!=g&&null!=k)&&(b.font=ka.getFont(d?d:Iu.SIZE),b.fillStyle=m.toRGBAString(),b.translate(g,k),q&&b.rotate(q),b.fillText(n,0,0))};b.prototype._getColorRegion=function(a){a=a.props.w;
return 0>a?{x0:-a,y0:0,x1:0,y1:0}:{x0:0,y0:0,x1:a,y1:0}};return b}(Ib),Ku=pa(Ju),Gk=Ia.FONT,Lu=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.draw=function(c,b,d){a.prototype.draw.call(this,c,b,d);this._setupCache(c);d=c.rendererCache;var g=c.props,k=g.maxWidth,m=g.fontSize;c=g.text;g=g.halign;b.font=Bc.getInstance().getFont(m?m:Gk.SIZE);if(null!=k){var n=d.truncatedText,q=d.truncatedMaxWidth,s=d.truncatedFontSize,
u=d.truncatedAlign;if(d&&(null==n||q!==k||s!==m||u!==g))d.truncatedText=this._truncate(c,m||Gk.SIZE,k,g),d.truncatedMaxWidth=k,d.truncatedFontSize=m,d.truncatedAlign=g;d&&d.truncatedText&&(d=d.truncatedText,b.fillText(d.text,d.offset,0))}else(d=d.truncatedText)?b.fillText(d.text,d.offset,0):b.fillText(c,0,0)};b.prototype._setupCache=function(a){a.rendererCache=a.rendererCache?a.rendererCache:{truncatedText:null,truncatedMaxWidth:-1,truncatedFontSize:-1,truncatedAlign:""}};b.prototype._truncate=function(a,
b,d,g){void 0===g&&(g="left");b/=Gk.SIZE;a=Bc.getInstance().getTruncatedText(a,d/b);var k=0;switch(g){case "right":g=b*Bc.getInstance().getTextWidth(a);k=d-g;break;case "center":g=b*Bc.getInstance().getTextWidth(a);k=0.5*(d-g);break;default:case "left":k=0}return{text:a,offset:k}};return b}(Ib),Mu=pa(Lu),Ya=function(a,b,c){return b?function(b){return qk.formatCompact(b,{formatString:a&&a[0]||"",multiplier:a&&a[1]||1,delimiters:a&&a[2]&&a[2].delimiters,compactDecimalDigits:a&&a[2]&&a[2].compactDecimalDigits,
removeTrailingZeros:a&&a[2]&&a[2].removeTrailingZeros,isPreciseCompact:c,isRTL:Fb.isRTL(),currencyIsoCode:a&&a[2]&&a[2].currencyIsoCode,locale:Fb.getLocale()})}:function(c){return qk.format(c,{formatString:a&&a[0],multiplier:a&&a[1],delimiters:a&&a[2]&&a[2].delimiters,isRTL:Fb.isRTL(),currencyIsoCode:a&&a[2]&&a[2].currencyIsoCode,locale:Fb.getLocale()})}},Nu=Ia.FONT,Ou=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=
b;b.prototype.draw=function(c,b,d){if(b)if(c){a.prototype.draw.call(this,c,b,d);this._setupCache(c);var g=c.rendererCache.formatterCache,k=c.props,m=k.fontSize;d=k.number;var n=k.format,k=k.compact;m!==Nu.SIZE&&(b.font=ka.getFont(m));null==g&&(g=Ya(n,k),c.rendererCache.formatterCache=g);b.fillText(g(d),0,0)}else console.error("Chart canvas NumberText model is undefined");else console.error("Chart canvas NumberText context is undefined")};b.prototype._setupCache=function(a){a.rendererCache=a.rendererCache?
a.rendererCache:{formatterCache:null}};b.prototype._getColorRegion=function(){return{x0:0,y0:0,x1:0,y1:0}};return b}(Ib),Pu=pa(Ou),Hk=fi.getInstance(),Qu=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.draw=function(c,b,d){a.prototype.draw.call(this,c,b,d);var g=c.props;c=g.r;var k=g.fill,m=g.stroke,n=g.lineWidth,g=g.texture;if(0<c){b.beginPath();b.arc(0,0,c,0,2*Math.PI,!0);b.closePath();k&&b.fill();
if(g){var q=g.url,k=g.fit,g=g.shade;Hk.isImageLoaded(q)?(d=Hk.getImage(q),b.save(),b.clip(),a.prototype._drawTexture.call(this,d,k,g,[-c,-c,2*c,2*c],b),b.restore()):Hk.registerImage(q,d)}m&&(n&&0<n)&&b.stroke()}};b.prototype._getColorRegion=function(a){a=a.props.r;return{x0:-a,y0:0,x1:a,y1:0}};return b}(Ib),Ru=pa(Qu),Ho=function(){};Ho.prototype.get=function(a){switch(a){case "Scene":a=Au;break;case "Cell":case "Layer":a=Bu;break;case "Rect":a=Pd(Ku);break;case "Text":a=Pd(Mu);break;case "NumberText":a=
Pd(Pu);break;case "Line":a=Pd(Fu);break;case "Polygon":case "Path":a=Pd(Co);break;case "Arc":a=Pd(Du);break;case "Point":a=Pd(Ru);break;default:throw Error("invalid creme node type "+a);}return a.getInstance()};var Su=pa(Ho),Io=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.getInstance=function(){this.instance||(this.instance=new this);return this.instance};b.prototype._createPainter=function(a){return Su.getInstance().get(a)};
return b}(zu);Io.instance=null;var pg=p.ACCESSIBILITY,qg=p.KEYBOARD_KEY,Jo=0,Tu=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){var b,c,f;b=Date.now();f=Math.max(0,1E3/60-(b-Jo));c=setTimeout(function(){return a(b+f)},f);Jo=b+f;return c},ta=function(a){this.tweenFunction=a;this.runTween=this.runTween.bind(this);this.reset()};ta.initClass=function(){this.TWEEN_FUNCTIONS={sine:function(a){return 0.5-
0.5*Math.cos(a*Math.PI)}};this.prototype.afterFct=null;this.prototype.tweenSequence=0;this.prototype.objectsToTween={};this.prototype.tweenFunction=null;this.prototype.isAnimating=!1;this.prototype.nbTweens=0};ta.prototype.reset=function(){this.isAnimating&&(++this.tweenSequence,this.doTweenStep(1),this.afterFct&&this.afterFct());for(var a in this.objectsToTween)this.objectsToTween[a]&&this.objectsToTween[a].forEach(function(a){delete a.tweens;delete a.tweenableAttrs});this.objectsToTween={};this.nbTweens=
0;return this.isAnimating=!1};ta.prototype.nbObjectsToTween=function(){var a=0,b;for(b in this.objectsToTween)this.objectsToTween[b]&&(a+=this.objectsToTween[b].length);return a};ta.tweenValue=function(a,b,c){return b*(1-a)+c*a};ta.tweenColor=function(a,b,c){return b.toColor(c,a)};ta.tweenValues=function(a,b,c){return x.zip(b,c).map(function(c){return ta.tweenValue(a,c[0],c[1])})};ta.prototype._pre=function(){this.isAnimating=!0};ta.prototype._post=function(a){this.isAnimating=!1;this.afterFct&&this.afterFct(a.end())};
ta.prototype._doStep=function(a,b){this.doTweenStep(b);a(this.tweenFunction(b))};ta.prototype.runTween=function(a,b,c){var f=this,d;this.afterFct=c;var g=a.duration;c=a.frames;var k=a.callback,m=++this.tweenSequence,n=(new R({name:"tweener"})).start();if(c)this._pre(),c.forEach(function(a){f._doStep(b,a/100);k(a)}),this._post(n);else if(0===g)this._pre(),this._doStep(b,1),this._post(n);else{d=0;var q=-1,s=!0,u=0;this._pre();var p=n.iteration.bind(n,"draw",function(){if(this.tweenSequence===m){var a=
Date.now();s?(s=!1,q=a):(d=(a-q)/g,0>d&&(d=0),1<d&&(d=1));u++;this._doStep(b,d);if(1>d)return Tu(p);oa.draw&&console.log((new Date).toLocaleTimeString()+"|tweener:: fps: "+1E3*u/(Date.now()-q)+" for "+this.nbObjectsToTween()+" objects");return this._post(n)}}.bind(this));return p()}};ta.prototype.doTweenStep=function(a){for(var b in this.objectsToTween)if(this.objectsToTween[b]){var c=this.objectsToTween[b],f=c.length,d=!0,g=null!=c[0]?c[0].getParent():void 0;g&&(d=g.props.staggerAnim);for(var g=
void 0,k=g=0,m=c.length;g<m;k=++g){var n=c[k],k=d?a+0.6*(a-k/f):a;0>k&&(k=0);1<k&&(k=1);k=this.tweenFunction(k);n._tweenRatio=k;for(var q in n.tweenableAttrs)if(n.tweenableAttrs[q]){var s=void 0,s=n.tweenableAttrs[q],u=s[0],p=s[1];if("fill"===q||"stroke"===q||"textColor"===q||"background"===q)s=ta.tweenColor(k,u,p);else if("points_x"===q||"points_y"===q||"animate_points_x"===q||"animate_points_y"===q)for(var t=u[u.length-1],r=p[p.length-1],s=[],z=0,v=Math.max(u.length,p.length),y=0<=v;y?z<v:z>v;y?
z++:z--){var K=void 0,B=void 0,T=null!=(K=null!=u[z]?u[z]:t)?K:0,K=null!=(B=null!=p[z]?p[z]:r)?B:0;s.push(ta.tweenValue(k,T,K))}else s="viewport"===q?ta.tweenValues(k,u,p):"scrollOffset"===q?ta.tweenValues(k,u,p):"rotation"===q?{x:ta.tweenValue(k,u.x,p.x),y:ta.tweenValue(k,u.y,p.y),angle:ta.tweenValue(k,u.angle,p.angle)}:"texture"===q?{url:p.url,fit:p.fit,shade:ta.tweenValue(k,u.shade,p.shade)}:"bg"===q?{color:ta.tweenColor(k,u.color,p.color),opacity:ta.tweenValue(k,u.opacity,p.opacity),box:ta.tweenValues(k,
u.box,p.box)}:ta.tweenValue(k,u,p);n.props[q]=s}}}};ta.prototype.addTweenProperties=function(a,b){if(b){for(var c in b)if(!("type"===c||"key"===c)){var f=b[c],d=f[0],f=f[1];if(!(null==d&&null==f))if(!x.includes("fill stroke textColor background rotation bg baseX baseY viewport".split(" "),c)&&(null==d||null==f))a.props[c]=f;else{if(!a.tweenableAttrs){a.tweenableAttrs={};var g=a.getParent()?a.getParent().uid:0;null==this.objectsToTween[g]&&(this.objectsToTween[g]=[]);this.objectsToTween[g].push(a)}g=
void 0;switch(c){case "fill":case "stroke":case "textColor":case "background":null==d&&(d=f.adjustOpacity(0));null==f&&(f=d.adjustOpacity(0));g=[d,f];break;case "rotation":null==d&&(d={x:f.x,y:f.y,angle:0});null==f&&(f={x:d.x,y:d.y,angle:0});g=[d,f];break;case "baseX":case "baseY":null==d&&(d=f);null==f&&(f=d);g=[d,f];break;case "bg":g=d?r.extend({},d):{color:f.color.adjustOpacity(0),box:f.box};d=f?r.extend({},f):{color:d.color.adjustOpacity(0),box:d.box};g=[g,d];break;case "viewport":g=[d?d:[0,0,
1E4,1E4],f?f:[0,0,1E4,1E4]];break;default:g=[d,f]}a.tweenableAttrs[c]=g;this.nbTweens++}}return a}};ta.initClass();var Yd=function(){};Yd.mul=function(a,b,c){var f=b[0],d=b[1],g=b[2],k=b[3],m=b[4],n=b[5],q=b[6],s=b[7];b=b[8];var u=c[0],p=c[1],t=c[2],r=c[3],z=c[4],v=c[5],y=c[6],K=c[7];c=c[8];a[0]=u*f+p*k+t*q;a[1]=u*d+p*m+t*s;a[2]=u*g+p*n+t*b;a[3]=r*f+z*k+v*q;a[4]=r*d+z*m+v*s;a[5]=r*g+z*n+v*b;a[6]=y*f+K*k+c*q;a[7]=y*d+K*m+c*s;a[8]=y*g+K*n+c*b;return a};Yd.fromTranslation=function(a,b){a[0]=1;a[1]=0;
a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=b[0];a[7]=b[1];a[8]=1;return a};Yd.fromRotation=function(a,b){var c=Math.sin(b),f=Math.cos(b);a[0]=f;a[1]=c;a[2]=0;a[3]=-c;a[4]=f;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};var Zd=function(){this.reset()};Zd.prototype.setProvider=function(a){this._provider=a;return this};Zd.prototype.checkout=function(a){var b=this._getNextAvailableItemFromPool();this._numResourceCheckedOut++;return this._provider.checkout(a,b)};Zd.prototype.returnBack=function(a){this._numResourceCheckedOut--;
this._poolAvailable.push(a)};Zd.prototype.reset=function(){this._numResourceCheckedOut=0;this._poolAvailable=[];return this};Zd.prototype.getUsedSize=function(){return this._numResourceCheckedOut};Zd.prototype._getNextAvailableItemFromPool=function(){return 0>=this._poolAvailable.length?null:this._poolAvailable.pop()};var Ko=function(){};Ko.prototype.checkout=function(a,b){return b?b:new Float32Array(9)};var Vu=function(a){function b(){a.call(this);this.setProvider(Uu.getInstance())}a&&(b.__proto__=
a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(Zd),Uu=pa(Ko),rg=pa(Vu),Ka=function(a,b){this._graphicsContext=a;this._imageLoaderDelegate=b.imageLoaderDelegate;this._modelTransform=this._initTransform(rg.getInstance().checkout());this._modelStack=[];this._drawDebugInfo={isEnabled:!1,filter:null}};Ka.prototype.translate=function(a,b,c){c=rg.getInstance();var f=c.checkout();Yd.mul(this._modelTransform,this._modelTransform,Yd.fromTranslation(f,[a,b]));c.returnBack(f)};
Ka.prototype.scale=function(a,b,c){throw Error("Scale in renderer is not supported yet");};Ka.prototype.rotate=function(a){var b=rg.getInstance(),c=b.checkout();Yd.mul(this._modelTransform,this._modelTransform,Yd.fromRotation(c,a));b.returnBack(c)};Ka.prototype.save=function(){this._saveModelTransform()};Ka.prototype.restore=function(){this._restoreModelTransform()};Ka.prototype.applyTransformTo=function(a){return[a[0]+this._modelTransform[6],a[1]+this._modelTransform[7],a[2],a[3]]};Ka.prototype.applyTransform=
function(){};Ka.prototype.restoreTransform=function(){};Ka.prototype.setInterpolationRatio=function(a){this._interpolationRatio=a};Ka.prototype.getInterpolationRatio=function(){return this._interpolationRatio};Ka.prototype.isAnimating=function(){return 1!==this._interpolationRatio};Ka.prototype.getGraphicsContext=function(){return this._graphicsContext};Ka.prototype.saveGraphicsContext=function(){};Ka.prototype.restoreGraphicsContext=function(){};Ka.prototype.getImageLoaderDelegate=function(){return this._imageLoaderDelegate};
Ka.prototype.setDebugInfo=function(a){this._drawDebugInfo=a;return this._drawDebugInfo.isEnabled};Ka.prototype.shouldDrawDebugInfo=function(a){var b=this._drawDebugInfo,c=b.filter;return!b.isEnabled?!1:c?Array.isArray(c)?-1!==c.indexOf(a.props.type):c(a):!0};Ka.prototype._initTransform=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};Ka.prototype._saveModelTransform=function(){this._modelStack.push(this._copyState(this._modelTransform))};Ka.prototype._restoreModelTransform=
function(){rg.getInstance().returnBack(this._modelTransform);this._modelTransform=this._modelStack.pop()};Ka.prototype._copyState=function(a){for(var b=rg.getInstance().checkout(),c=0;9>c;++c)b[c]=a[c];return b};var Wu=Ia.EPSILON,Xu=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.applyTransform=function(){var a=this._decomposeTransform(this._modelTransform),b=a.tx,d=a.ty,g=a.sx,k=a.sy,a=a.rotation;
(!this._isNegligible(b)||!this._isNegligible(d))&&this._graphicsContext.translate(b,d);this._isNegligible(a)||this._graphicsContext.rotate(a);(!this._isNegligible(g-1)||!this._isNegligible(k-1))&&this._graphicsContext.scale(g,k)};b.prototype.restoreTransform=function(){var a=this._decomposeTransform(this._modelTransform),b=a.tx,d=a.ty,g=a.sx,k=a.sy,a=a.rotation;(!this._isNegligible(b)||!this._isNegligible(d))&&this._graphicsContext.translate(-b,-d);this._isNegligible(a)||this._graphicsContext.rotate(-a);
(!this._isNegligible(g-1)||!this._isNegligible(k-1))&&this._graphicsContext.scale(1/g,1/k)};b.prototype.saveGraphicsContext=function(){this._graphicsContext.save()};b.prototype.restoreGraphicsContext=function(){this._graphicsContext.restore()};b.prototype._decomposeTransform=function(a){var b=0.5*Math.PI,d,g;this._isNegligible(a[0])?(b=0<a[1]?b:-b,g=Math.sin(b),d=-a[3]/g,g=a[1]/g):(b=Math.atan(a[1]/a[4]),g=Math.cos(b),d=a[0]/g,g=a[0]/g);return{tx:a[6],ty:a[7],sx:d,sy:g,rotation:b}};b.prototype._isNegligible=
function(a){return Math.abs(a)<Wu};return b}(Ka),Lo=Ia.FONT,M=function(a){var b=a.processor,c=a.config,f=a.isLegend,d=a.getTooltipInstance;a=a.imageLoaderDelegate;var g,k,m,n,q,s;this.onScroll=this.onScroll.bind(this);this.onTouchMove=this.onTouchMove.bind(this);this.onTouchStart=this.onTouchStart.bind(this);this.onTouchEnd=this.onTouchEnd.bind(this);this.onMouseMove=this.onMouseMove.bind(this);this.onMouseDown=this.onMouseDown.bind(this);this.onKeyDown=this.onKeyDown.bind(this);this.onKeyUp=this.onKeyUp.bind(this);
this.onMouseUp=this.onMouseUp.bind(this);this.onMouseLeave=this.onMouseLeave.bind(this);this.processor=b;this.getTooltipInstance=d;this.isLegend=f;this.imageLoaderDelegate=a;this.position=this.fullSize=this.size=null;this.baseScrollOffset=[0,0];this.scrollOffset=[0,0];this.updateScrollBar=!1;this.tweener=new ta(ta.TWEEN_FUNCTIONS.sine);this.cursorType=p.CURSOR_TYPE.DEFAULT;null!=c&&(m=c.el,k=c.cssDescriptor,q=c.tooltipCSSClass,s=c.wheelPropagation,n=c.swipePropagation,g=c.accessible);this.tooltipCSSClass=
null!=q?q:"";this.accessible=null!=g?g:!0;m?this.el=m:k?(m=document.querySelector(k),this.el=null!=m?m:document.createElement("div")):this.el=document.createElement("div");this.elCreated=this.el!==m;this.name=this.processor.getName();this.el.setAttribute("data-ngname",this.name);this.createDOM();this.wheelPropagation=null!=s?s:!0;this.swipePropagation=null!=n?n:!0;this.startMouseInteraction();this.ctx.getGraphicsContext().font=ka.getFont(Lo.SIZE);this.accessible?this.enableAccessibility(!f):this.disableAccessibility()};
M.initClass=function(){this.prototype.firstTime=!0;this.prototype.el=null;this.prototype.isLegend=!1;this.prototype.elCreated=!1;this.prototype.model=null;this.prototype.quietModeTimer=null};M.prototype.getContext=function(){return this.ctx};M.prototype.toggleAccessibility=function(a){a?this.enableAccessibility():this.disableAccessibility()};M.prototype.getModel=function(){return this.model};M.prototype.setModel=function(a){this.model=a;this.model.props.w=this.size[0];this.model.props.h=this.size[1];
return this};M.prototype.getWidth=function(){return this.canvasDom.width};M.prototype.getHeight=function(){return this.canvasDom.height};M.prototype.getElementOffset=function(){return[this.canvasDom.offsetLeft,this.canvasDom.offsetTop]};M.prototype.getScrollOffset=function(){return this.scrollOffset};M.prototype.getTweener=function(){return this.tweener};M.prototype.isAnimating=function(){return this.tweener.isAnimating};M.prototype.attachEvents=function(){this.outerDom.addEventListener("mousedown",
this.onMouseDown);this.outerDom.addEventListener("mousemove",this.onMouseMove);this.outerDom.addEventListener("mouseup",this.onMouseUp);this.outerDom.addEventListener("mouseleave",this.onMouseLeave);this.outerDom.addEventListener("scroll",this.onScroll);document.addEventListener("keydown",this.onKeyDown);document.addEventListener("keyup",this.onKeyUp);this.outerDom.addEventListener("touchmove",this.onTouchMove,{passive:!0});this.outerDom.addEventListener("touchstart",this.onTouchStart,{passive:!0});
this.outerDom.addEventListener("touchend",this.onTouchEnd,{passive:!1})};M.prototype.detachEvents=function(){this.outerDom.removeEventListener("mousedown",this.onMouseDown);this.outerDom.removeEventListener("mousemove",this.onMouseMove);this.outerDom.removeEventListener("mouseup",this.onMouseUp);this.outerDom.removeEventListener("mouseleave",this.onMouseLeave);this.outerDom.removeEventListener("scroll",this.onScroll);document.removeEventListener("keydown",this.onKeyDown);document.removeEventListener("keyup",
this.onKeyUp);this.outerDom.removeEventListener("touchmove",this.onTouchMove);this.outerDom.removeEventListener("touchstart",this.onTouchStart);this.outerDom.removeEventListener("touchend",this.onTouchEnd)};M.prototype.quietMode=function(a){this.quietModeTimer&&clearTimeout(this.quietModeTimer);this.getTooltipInstance().quietMode(a);this.detachEvents();return this.quietModeTimer=setTimeout(this.attachEvents.bind(this),a)};M.prototype.getElement=function(){return this.el};M.prototype.getEventListeningElement=
function(){return this.outerDom};M.prototype.createDOM=function(){this.container=this.el.appendChild(document.createElement("div"));ka.setStyles(this.container,{position:"relative"});this.outerDom=this.container.appendChild(document.createElement("div"));ka.setStyles(this.outerDom,{zIndex:this.isLegend?3:2,position:"absolute",overflow:"hidden","background-color":"rgba(255,255,255,0)"});this.innerDom=this.outerDom.appendChild(document.createElement("div"));this.canvasDom=this.container.appendChild(document.createElement("canvas"));
this.canvasDom.className=this.isLegend?"legend":"chart";ka.setStyles(this.canvasDom,{zIndex:this.isLegend?2:1,position:"absolute",top:0,left:0,"letter-spacing":0,"-webkit-font-smoothing":"antialiased"});this._pixelRatio=window.testDevicePixelRatio||window.devicePixelRatio||1;return this.ctx=new Xu(this.canvasDom.getContext("2d"),{camera:{viewport:null},imageLoaderDelegate:this.imageLoaderDelegate})};M.prototype.removeDOM=function(){this.firstTime||sk.destroy(this.outerDom);this.outerDom.removeChild(this.innerDom);
this.container.removeChild(this.outerDom);this.container.removeChild(this.canvasDom);this.el.removeChild(this.container);this.elCreated&&null!=this.el.parentElement&&this.el.parentElement.removeChild(this.el);return this.canvasDom=this.innerDom=this.outerDom=this.container=null};M.prototype.removeCustomDOM=function(a){this.container.removeChild(a)};M.prototype.createCustomDOM=function(){var a=document.createElement("div");a.classList.add("ng-custom");return this.container.appendChild(a)};M.prototype.getPatcher=
function(){var a=this;return{update:function(b,c){b.props=r.extend({},c.props);return a.tweener.addTweenProperties(b,b.tweens)},remove:function(a){return a.removeFromParent()},insert:function(a,c){return a.appendTo(c)},order:function(a,c){return a._sortByKeys(c)}}};M.prototype.update=function(a,b){this.firstTime&&(sk.initialize(this.outerDom,{swipePropagation:this.swipePropagation,wheelPropagation:this.wheelPropagation,scrollYMarginOffset:1,scrollXMarginOffset:1}),this.firstTime=!1);this.updateScrollBar=
!1;var c=a.getEndValue("fullSize");r.isEqual(this.fullSize,c)||(this.fullSize=c,this.updateScrollBar=!0,ka.setStyles(this.innerDom,{width:c[0]+"px",height:c[1]+"px"}));c=a.getEndValue("size");r.isEqual(this.size,c)||(this.size=c,this.updateScrollBar=!0,ka.setStyles(this.outerDom,{width:c[0]+"px",height:c[1]+"px"}),ka.setStyles(this.canvasDom,{width:c[0]+"px",height:c[1]+"px"}),this.canvasDom.width=this._pixelRatio*c[0],this.canvasDom.height=this._pixelRatio*c[1],1!==this._pixelRatio&&this.ctx.getGraphicsContext().scale(this._pixelRatio,
this._pixelRatio));c=a.getEndValue("position");r.isEqual(this.position,c)||(this.position=c,ka.setStyles(this.outerDom,{left:c[0]+"px",top:c[1]+"px"}),ka.setStyles(this.canvasDom,{left:c[0]+"px",top:c[1]+"px"}));this.scrollOffset=a.getEndValue("scrollOffset");this.baseScrollOffset=a.getEndValue("baseScrollOffset");c=[this.baseScrollOffset[0]+this.scrollOffset[0],this.baseScrollOffset[1]+this.scrollOffset[1]];r.isEqual(c,[this.outerDom.scrollLeft,this.outerDom.scrollTop])||(this.updateScrollBar=!0,
this.outerDom.removeEventListener("scroll",this.onScroll),this.outerDom.scrollLeft=c[0],this.outerDom.scrollTop=c[1],this.outerDom.addEventListener("scroll",this.onScroll));this.updateScrollBar&&(null!=b&&b.byInteraction&&this.quietMode(p.CANVAS.NO_EVENT_DURATION),sk.update(this.outerDom));return this.ctx.getGraphicsContext().font=ka.getFont(Lo.SIZE)};M.prototype.remove=function(){this.detachEvents();return this.removeDOM()};M.prototype.hide=function(){this.el.style.display="none";return this};M.prototype.show=
function(){this.el.style.display="";return this};M.prototype.showTruncationTooltip=function(a,b,c,f){var d=this.chartOffsetXY(),g=d[0],d=d[1],k=f[0];f=f[1];var m=this.tooltipCSSClass+" truncation";return this.getTooltipInstance().show(g+k,d+f,c,b,m,{fullText:a})};M.prototype.showTooltip=function(a,b,c,f,d,g,k){return this.getTooltipInstance().show(0,0,"auto",0,this.tooltipCSSClass,{lines:a,shape:b,tooltipRenderer:f,canRemoveTooltip:d,removeTooltip:g},c,k)};M.prototype.moveTooltip=function(a){return this.getTooltipInstance().move(a)};
M.prototype.showTooltipAtWithKey=function(a,b,c){var f=this.chartOffsetXY(),d=f[0],f=f[1];this.getTooltipInstance().moveTo(d+a,f+b);a=this.processor.getTooltipWithPath(c);return this.showTooltip(a.lines,a.info)};M.prototype.hideTooltip=function(){return this.getTooltipInstance().hide()};M.prototype.screenshot=function(){return this.canvasDom.toDataURL()};M.prototype.setCursorType=function(a){if(a!==this.cursorType){this.cursorType=a;var b=this.el.className.split(" ");return this.el.className=b.filter(function(a){return!a.match(/^ng-cursor/)}).concat("ng-cursor-"+
a).join(" ")}};M.prototype.chartOffsetXY=function(){var a=this.outerDom.getBoundingClientRect(),b=ka.pageScrollOffset();return[a.left+b.left,a.top+b.top]};M.prototype.stopMouseInteraction=function(){this.detachEvents()};M.prototype.startMouseInteraction=function(){this.attachEvents()};M.prototype.scrollTo=function(a,b){if(!this.isAnimating())return this.model&&(this.model.props.scrollOffset=[a,b]),this.scrollOffset=[a,b]};M.prototype.isInViewport=function(a){return ka.isElementInViewport(this.el,
a)};M.prototype.onScroll=function(a){if(!this.isAnimating()){var b=this.baseScrollOffset,b=[a.target.scrollLeft-b[0],a.target.scrollTop-b[1]];this.processor.onScroll(b[0],b[1],a)}};M.prototype.onTouchMove=function(a){if(a=a.changedTouches[0])this.onMouseMove(a)};M.prototype.onTouchStart=function(a){if(a=a.changedTouches[0])this.onMouseDown(a)};M.prototype.onTouchEnd=function(a){};M.prototype.onMouseMove=function(a){var b=this.page2ChartXY(a.pageX,a.pageY);this.processor.onMouseMove(b[0],b[1],a)};
M.prototype.onMouseDown=function(a){var b=this.page2ChartXY(a.pageX,a.pageY);this.processor.onMouseDown(b[0],b[1],a)};M.prototype.onMouseUp=function(a){var b=this.page2ChartXY(a.pageX,a.pageY);this.processor.onMouseUp(b[0],b[1],a)};M.prototype.onMouseLeave=function(a){var b=this.page2ChartXY(a.pageX,a.pageY);this.processor.onMouseLeave(b[0],b[1],a)};M.prototype.onKeyDown=function(a){this.processor.onKeyDown(a.key,a)};M.prototype.onKeyUp=function(a){this.processor.onKeyUp(a.key,a)};M.prototype.page2ChartXY=
function(a,b){var c=this.chartOffsetXY();return[a-c[0],b-c[1]]};M.prototype.setDebugInfo=function(a){return this.ctx.setDebugInfo(a)};M.initClass();var Yu=function(a,b){a.forEach(function(a){return r.extend(b.prototype,a)});return b}([{enableAccessibility:function(a){void 0===a&&(a=!0);if(!this._accessibilityEnabled&&(this._removeAccessibilityTimer=null,this._accessibilityEnabled=!0,this._lastFocusedElement=null,this._isInitialState=!0,a)){a=this.container;var b=this.createAccessibilityButton();b.addEventListener("click",
this.onBtnClick.bind(this));b.addEventListener("touchstart",this.onBtnClick.bind(this));b.addEventListener("focus",this.onButtonFocus.bind(this));b.addEventListener("blur",this.onButtonBlur.bind(this));a.appendChild(b)}},createAccessibilityButton:function(){var a=document.createElement("button");a.innerHTML=Va(W.getLabel("@salesforce/charts","enableDataTable"));a.setAttribute("aria-live","polite");a.className=this.tooltipCSSClass+" ng-button ng-assistiveText";return a},disableAccessibility:function(){if(this._accessibilityEnabled){this._accessibilityEnabled=
!1;var a=this._getAccessibilityButton();a&&this.container.removeChild(a)}},supportAccessibility:function(){return!0},onButtonFocus:function(){this._keepAccessibility();this.setButtonVisibility(!0)},onButtonBlur:function(){var a=this._getAccessibilityButton();(!a||!a.getAttribute("aria-disabled"))&&this.setButtonVisibility(!1)},onBtnClick:function(){var a=this._getAccessibilityButton();a&&(a.innerHTML=Va(W.getLabel("@salesforce/charts","dataTableEnabled")),a.className=this.tooltipCSSClass+" ng-button ng-enabled",
a.setAttribute("aria-disabled",!0));this.processor.onShowTable()},setButtonVisibility:function(a){var b=this._getAccessibilityButton();if(b){var c="";a||(b.innerHTML=Va(W.getLabel("@salesforce/charts","enableDataTable")),c="ng-assistiveText");b.className=this.tooltipCSSClass+" ng-button "+c}},_getAccessibilityButton:function(){return this.container?U.first(this.container.getElementsByTagName("button")):null},updateAccessibilityTable:function(a){var b=this.container;if(b){var c=this.getTableEl();c&&
b.removeChild(c);b.appendChild(this.createTable(a))}},removeAccessibilityTable:function(){var a=this.container,b=this.getTableEl();b&&a.removeChild(b)},getTableEl:function(){return this.container?U.first(this.container.getElementsByTagName("table")):null},createTable:function(a){var b=document.createElement("table");b.innerHTML=a;b.className=this.tooltipCSSClass+" ng-assistiveText";return b},_resetAccessibilityIn:function(a){this._keepAccessibility();this._removeAccessibilityTimer=setTimeout(this.resetAccessibility.bind(this),
a)},_keepAccessibility:function(){this._removeAccessibilityTimer&&(clearTimeout(this._removeAccessibilityTimer),this._removeAccessibilityTimer=null)},resetAccessibility:function(){this._buttonFocusTimer&&(clearTimeout(this._buttonFocusTimer),this._buttonFocusTimer=null);var a=this._getAccessibilityButton();a&&a.removeAttribute("aria-disabled");this.setButtonVisibility(!1);this.removeAccessibilityTable();this.getTooltipInstance().isVisible()&&this.getTooltipInstance().hide()},setFocusableItems:function(a){var b=
this.container;if(b){var c=this.getContainerEl();c&&b.removeChild(c);b.appendChild(this.createContainerEl(this._renderFocusableItems(a)));this._newFocusedElement&&this._newFocusedElement.focus()}},getContainerEl:function(){return this.container?this.container.querySelector("ol"):null},createContainerEl:function(a){var b=document.createElement("ol");b.innerHTML=a;b.className=this.tooltipCSSClass+" ng-assistiveText";b.addEventListener("focus",this.onFocusableItemFocus.bind(this),!0);b.addEventListener("keydown",
this.onFocusableItemKeyDown.bind(this),!0);b.addEventListener("blur",this.onFocusableItemBlur.bind(this),!0);(this._newFocusedElement=this._lastFocusedElement&&this._lastFocusedElement.getAttribute("data-id")&&b.querySelector('li[data-id\x3d"'+this._lastFocusedElement.getAttribute("data-id").replaceAll('"','\\"')+'"]'))?this._newFocusedElement.setAttribute("tabindex",0):(this._lastFocusedElement=null,a=b.querySelectorAll("li"),0<a.length&&a[0].setAttribute("tabindex",0));return b},onFocusableItemFocus:function(a){this._keepAccessibility();
if(this._isInitialState)this._isInitialState=!1,this._lastFocusedElement=a.target,this.processor.onRenderAccessibilityDataItems(!0);else if(a=(a=a.target)&&a.dataset&&a.dataset.id)this.processor.onTabOnShape(a.split(pg.ID_SEPARATOR))},onFocusableItemKeyDown:function(a){this._keepAccessibility();switch(a.code){case qg.ARROW_UP:case qg.ARROW_LEFT:this._handleArrowKeyDown(a,!0);break;case qg.ARROW_DOWN:case qg.ARROW_RIGHT:this._handleArrowKeyDown(a,!1);break;case qg.SPACE:this._handleSpaceKeyDown(a)}},
_handleArrowKeyDown:function(a,b){var c=a.target,f=b?c.previousElementSibling:c.nextElementSibling;null!=f&&(c.setAttribute("tabindex",-1),f.setAttribute("tabindex",0),f.focus(),this._lastFocusedElement=f);a.preventDefault()},_handleSpaceKeyDown:function(a){var b=a.target,c=b&&b.dataset&&b.dataset.id;c&&(c=c.split(pg.ID_SEPARATOR),this.processor.onSpaceKeyDownOnShape(c,b),a.stopPropagation(),a.preventDefault())},onFocusableItemBlur:function(a){if(!this.getTooltipInstance().isVisible()||!this._accessibilityEnabled)if(this._resetAccessibilityIn(pg.INACTIVE_WAIT),
a=(a=a.target)&&a.dataset&&a.dataset.id)a=a.split(pg.ID_SEPARATOR),this.processor.onTabOffShape(a)},_renderFocusableItems:function(a){var b=this;if(this._isInitialState&&0<a.length)return this._renderFocusableItem(a[0],0,1);var c=a.length;return a.map(function(a,d){return b._renderFocusableItem(a,d,c)}).join("")},_renderFocusableItem:function(a,b,c){c=this.processor.getTooltipWithPath(a.keyPath);b=c.text;c=U.sortBy(c.lines,"type").map(this._formatAccessibleContent);c=b?c.concat(Va("i.e., "+b,!0)).join(",\x26nbsp;"):
c.join(",\x26nbsp;");return'\x3cli data-id\x3d"'+a.keyPath.map(function(a){return Va(a)}).join(pg.ID_SEPARATOR)+'"\x3e'+c+"\x3c/li\x3e"},_formatAccessibleContent:function(a){var b="";if(a){var b=a.value,c=a.label;a=(a=a.percentData)?", "+W.getLabel("@salesforce/charts",a.group?"percentTooltipWithGroup":"percentTooltip",[a.percent,a.total,a.group]):"";b=""+c+(b?" "+b:"")+a}return Va(b,!0)}}],M),Z=ka.setStyles,Xb={visibility:"hidden",display:"none"},Re={visibility:"visible",display:"block"},Zu=0,ma=
function(a){this._id=Zu++;this._chartEl=a;this._annotationsContainerEl=this._chartEl.getElementsByClassName("ng-annotations-container")[0];this._style=document.createElement("style");document.head.appendChild(this._style);this.create();this._backgroundColor=new F("#193F61");this._borderColor=new F("#193F61");this._isBlinking=!1};ma.prototype.setPadding=function(a){this._padding=a;return this};ma.prototype.getInstanceClassName=function(){return"annotation-"+this._id};ma.prototype.setPositions=function(a){this._positions=
a;return this};ma.prototype.setShapeBox=function(a){this._shapeBox=a;return this};ma.prototype.setDefaultVisibility=function(a){void 0===a&&(a=!0);if(a===this._defaultShow)return this;this._previousState=null;this._defaultShow=a;return this};ma.prototype.getDefaultVisibility=function(){return this._defaultShow};ma.prototype.setData=function(a){if(null==a)return this;this._data=a;return this};ma.prototype.getData=function(){return this._data};ma.prototype.setBorderColor=function(a){if(null==a)return this;
this._borderColor=new F(a);return this};ma.prototype.setBackgroundColor=function(a){if(null==a)return this;this._borderColor=this._backgroundColor=new F(a);return this};ma.prototype.setContent=function(a,b,c,f){void 0===a&&(a=[]);void 0===b&&(b={});var d=this._columns,g=this._text;this._columns=a.filter(function(a){return null!=a});this._text=b;var k=this._backgroundColor,m=this._borderColor;c=k.toHighContrast(c.getTextColorOnLight(),c.getTextColorOnDark());if(this._defaultShow&&(!r.isEqual(d,this._columns)||
!r.isEqual(g,this._text)))this._previousState={circleEl:Xb,annotationEl:Re};!a.length&&!b.template&&(Z(this._circleEl,Re),Z(this._annotationEl,Xb),this._previousState={circleEl:Re,annotationEl:Xb});this._formatColumns(f);Z(this._annotationEl,{backgroundColor:k.toRGBAString(),color:c.toRGBAString(),borderColor:m.toRGBAString()});Z(this._annotationEl.getElementsByClassName("cross")[0],{backgroundColor:this._backgroundColor});Z(this._circleEl,{backgroundColor:k.toRGBAString(),borderColor:m.toRGBAString()});
return this};ma.prototype.setIsBlinking=function(a){void 0===a&&(a=!1);this._isBlinking=a;this._circleEl.className=a?"ng-annotate circle blink":"ng-annotate circle";return this};ma.prototype.setShouldUpdate=function(a){this._shouldUpdate=a;return this};ma.prototype.shouldUpdate=function(){return this._shouldUpdate};ma.prototype.getColumns=function(){return this._columns};ma.prototype.getInfo=function(){return{row:this._data.row,measure:this._data.measure,properties:{column:this._columns.map(function(a){return a.getName()}),
borderColor:this._borderColor.toHex(),backgroundColor:this._backgroundColor.toHex(),defaultShow:this._defaultShow,text:this._text,isBlinking:this._isBlinking}}};ma.prototype.hasSetPosition=function(){return!!this._coordinates};ma.prototype.create=function(){var a=this,b=this._annotationEl,c=this._circleEl,f=this._previousState;c?f&&Z(c,f.circleEl):(c=document.createElement("div"),c.className="ng-annotate circle",this._annotationsContainerEl.appendChild(c),this._circleEl=c,c.addEventListener("click",
this._onClick.bind(this)));b?f&&Z(b,f.annotationEl):(b=document.createElement("div"),b.className="ng-annotate",this._annotationsContainerEl.appendChild(b),this._annotationEl=b,f=document.createElement("div"),f.className="content",b.appendChild(f),this._contentEl=f,f=document.createElement("div"),f.className="cross",f.innerHTML="X",b.appendChild(f),b.addEventListener("click",this._onClick.bind(this)),b.addEventListener("mouseenter",function(c){Z(a._annotationEl,{"z-index":"9999","box-shadow":"0 2px 3px 0 rgba(0, 0, 0, 0.16)"});
Z(a._annotationEl.getElementsByClassName("cross")[0],{visibility:"visible"})}),b.addEventListener("mouseleave",function(c){Z(a._annotationEl,{"z-index":"3","box-shadow":""});Z(a._annotationEl.getElementsByClassName("cross")[0],{visibility:"hidden"})}));return this};ma.prototype.positionAndShow=function(){var a=this._annotationEl,b=this._circleEl,c=this._defaultShow,f=this._previousState,d=this._positions,g=this._contentEl;this._coordinates=null;if(this._isInViewPort(this._shapeBox)){var k=a.style.display;
Z(a,{display:"block"});Z(g,{"max-width":"","white-space":"nowrap",width:""});var m=g.getBoundingClientRect().width+"px";Z(g,{"max-width":3*this._annotationsContainerEl.clientWidth/4-8+"px","max-height":3*this._annotationsContainerEl.clientHeight/4-8+"px","white-space":"normal",width:m});for(var n,q,s,g=0;g<d.length;g++){for(var u=d[g],m=u.x,p=u.y,u=u.orientations,m=m-this._padding.left,p=p-this._padding.top,t=0;t<u.length;t++){switch(u[t]){case "left":n=this._getHorizontalPosition({x:m,y:p},"borderLeftColor",
"right");break;case "right":n=this._getHorizontalPosition({x:m,y:p},"borderRightColor","left");break;case "top":n=this._getVerticalPosition({x:m,y:p},"borderTopColor","down");break;case "bottom":n=this._getVerticalPosition({x:m,y:p},"borderBottomColor","up")}if(n){q=m-7.5;s=p-7.5;break}}if(n)break}Z(a,{display:k});n&&(d=n.x,n=n.y,this._coordinates={annotation:{top:n,left:d},circle:{top:s,left:q}},Z(a,{top:n+"px",left:d+"px"}),Z(b,{top:s+"px",left:q+"px"}),f||(f={circleEl:c?Xb:Re,annotationEl:c?Re:
Xb}),this._previousState=f,Z(a,f.annotationEl),Z(b,f.circleEl))}this._coordinates||(Z(b,Xb),Z(a,Xb))};ma.prototype.onScroll=function(a){if(!this._isInViewPort(a)||!this._coordinates)return Z(this._annotationEl,Xb),Z(this._circleEl,Xb),this;var b=this._shapeBox,c=a.y-b.y;a=a.x-b.x;var f=this._coordinates,b=f.annotation,f=f.circle;Z(this._annotationEl,{top:b.top+c+"px",left:b.left+a+"px"});Z(this._circleEl,{top:f.top+c+"px",left:f.left+a+"px"});this._isInViewPort({x:f.left+a+7.5+this._padding.left,
y:f.top+c+7.5+this._padding.top,w:0,h:0})?(Z(this._annotationEl,this._previousState.annotationEl),Z(this._circleEl,this._previousState.circleEl)):(Z(this._annotationEl,Xb),Z(this._circleEl,Xb));return this};ma.prototype.remove=function(){this._annotationsContainerEl.removeChild(this._annotationEl);this._annotationsContainerEl.removeChild(this._circleEl)};ma.prototype.setViewPort=function(a){this._viewPort=a;return this};ma.prototype._onClick=function(a){if(this._columns.length||this._text.template)this._toggleVisibility(this._circleEl),
this._toggleVisibility(this._annotationEl),this._previousState={circleEl:{visibility:this._circleEl.style.visibility,display:this._circleEl.style.display},annotationEl:{visibility:this._annotationEl.style.visibility,display:this._annotationEl.style.display}}};ma.prototype._isInViewPort=function(a){var b=a.x,c=a.y,f=a.w;a=a.h;var d=this._viewPort;return!(Math.floor(b)>d.x+d.w||Math.floor(c)>d.y+d.h||Math.ceil(b+f)<d.x||Math.ceil(c+a)<d.y)};ma.prototype._formatColumns=function(a){var b=this,c="";a.formatAnnotation(this._data.row,
this._columns,this._text).forEach(function(a){switch(a.type){case "text":c+="\x3cdiv style\x3d'color:"+b._text.color+";white-space:pre-line;'\x3e"+Va(a.label)+"\x3c/div\x3e";break;default:var d="";a.label&&(d+=Va(a.label));a.value&&(d+=": "+Va(a.value));c+="\x3cdiv\x3e"+d+"\x3c/div\x3e"}});this._contentEl.innerHTML=c};ma.prototype._getChartBB=function(){var a=this._annotationsContainerEl;return{left:0,right:a.clientWidth,top:0,bottom:a.clientHeight}};ma.prototype._toggleVisibility=function(a){Z(a,
"hidden"===a.style.visibility?Re:Xb)};ma.prototype._getHorizontalPosition=function(a,b,c){this._annotationEl.className=["ng-annotate",this.getInstanceClassName(),c].join(" ");b=a.x;var f=a.y,d=this._getChartBB(),g=d.top,k=d.left,m=d.right,d=d.bottom,n=this._annotationEl.getBoundingClientRect().width;n>=m-k&&Z(this._annotationEl,{"max-width":Math.max(("left"===c?m-b:b-k)-8,(m-k)/2)-16+"px"});var n=this._annotationEl.getBoundingClientRect(),q=n.width,s=n.height,q=q+8;"right"===c&&(b-=q);"left"===c&&
(b+=8);var f=f-s/2,n=(s-8+5)/2,u=!1;Math.ceil(b)>=k&&(Math.floor(b+q)<=m&&s<=d)&&(Math.ceil(f)>=g&&Math.floor(f+s)<=d?u=!0:(k=Math.max(f+s-d,0),m=Math.min(f-g,0),k+=m,m=f-k,Math.ceil(m)>=g&&(Math.floor(m+s)<=d&&Math.floor(m)<=a.y-8&&Math.ceil(m+s)>=a.y+8)&&(u=!0,f=m,n+=k)));if(u)return this._resetStyleSheet(),a="."+c,g="left"===c?"right":"left",this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":before { border-"+g+"-color: "+this._borderColor.toRGBAString()+" } ",0),this._style.sheet.insertRule("."+
this.getInstanceClassName()+a+":before { border-color: "+this._backgroundColor.adjustOpacity(0).toRGBAString()+" } ",0),this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":after { border-"+g+"-color: "+this._backgroundColor.toRGBAString()+" } ",0),this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":after { border-color: "+this._borderColor.adjustOpacity(0).toRGBAString()+" } ",0),this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":after { top: "+n+"px } ",0),
this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":before { top: "+n+"px } ",0),c="left"===c?{top:"0px",right:"0px"}:{top:"0px",left:"0px"},Z(this._annotationEl.getElementsByClassName("cross")[0],c),{x:b,y:f};Z(this._contentEl,{"max-width":3*this._annotationsContainerEl.clientWidth/4-8+"px"});return null};ma.prototype._getVerticalPosition=function(a,b,c){this._annotationEl.className=["ng-annotate",this.getInstanceClassName(),c].join(" ");b=a.x;var f=a.y,d=this._getChartBB(),g=d.top,
k=d.left,m=d.right,n=d.bottom,q=("up"===c?n-f:f-g)-16,s=this._annotationEl.getBoundingClientRect(),d=s.width,u=s.height;u>=n-g&&Z(this._annotationEl,{"max-height":Math.max(q,(n-g)/2)+"px"});u+=8;"down"===c&&(f-=u);"up"===c&&(f+=8);q=(d-8+5)/2;b-=d/2;s=!1;Math.ceil(f+4)>=g&&(Math.floor(f+u)<=n&&d<=m)&&(Math.ceil(b)>=k&&Math.floor(b+d)<=m?s=!0:(g=Math.min(b-k,0),g=Math.max(b+d-m,0)+g,n=b-g,Math.ceil(n)>=k&&(Math.floor(n+d)<=m&&Math.floor(n)<=a.x-8&&Math.ceil(n+d)>=a.x+8)&&(s=!0,b=n,q+=g)));if(s)return this._resetStyleSheet(),
a="."+c,k="up"===c?"bottom":"top",this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":before { border-"+k+"-color: "+this._borderColor.toRGBAString()+" } ",0),this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":before { border-color: "+this._backgroundColor.adjustOpacity(0).toRGBAString()+" } ",0),this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":after { border-"+k+"-color: "+this._backgroundColor.toRGBAString()+" } ",0),this._style.sheet.insertRule("."+this.getInstanceClassName()+
a+":after { border-color: "+this._borderColor.adjustOpacity(0).toRGBAString()+" } ",0),this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":after { left: "+q+"px } ",0),this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":before { left: "+q+"px } ",0),c="up"===c?{bottom:"0px"}:{top:"0px"},r.extend(c,Fb.isRTL?{left:"0px"}:{right:"0px"}),Z(this._annotationEl.getElementsByClassName("cross")[0],c),{x:b,y:f};Z(this._contentEl,{"max-height":3*this._annotationsContainerEl.clientHeight/
4-8+"px"});return null};ma.prototype._resetStyleSheet=function(){for(;this._style.sheet.cssRules.length;)this._style.sheet.deleteRule(0)};var aa=function(a){this._isRemoved=!1;this._renderer=Io.getInstance();this._imageLoaderDelegate=new ng(this);this._canvas=new Yu(r.extend({},a,{imageLoaderDelegate:this._imageLoaderDelegate}))};aa.prototype.createCustomDOM=function(){return this._canvas.createCustomDOM()};aa.prototype.removeCustomDOM=function(a){return this._canvas.removeCustomDOM(a)};aa.prototype.toggleAccessibility=
function(a){this._canvas.toggleAccessibility(a)};aa.prototype.update=function(a,b,c){this._canvas.update(a,b);this._renderer.render(this._canvas,a,b).then(c)};aa.prototype.redraw=function(){return this._renderer.render(this._canvas,this._canvas.getModel(),{duration:0,triggerEvent:!1})};aa.prototype.isAnimating=function(){return this._canvas.getTweener().isAnimating};aa.prototype.isRemoved=function(){return this._isRemoved};aa.prototype.reset=function(){this._canvas.getTweener().reset();return this};
aa.prototype.remove=function(){this._isRemoved=!0;this._canvas.remove();return this};aa.prototype.scrollTo=function(a,b,c){this._canvas.scrollTo(a,b);return this.redraw().then(c)};aa.prototype.show=function(){this._canvas.show();return this};aa.prototype.hide=function(){this._canvas.hide();return this};aa.prototype.chartOffsetXY=function(){return this._canvas.chartOffsetXY()||[0,0]};aa.prototype.getScrollOffset=function(){return this._canvas.getScrollOffset()};aa.prototype.isInViewport=function(a){return this._canvas.isInViewport(a)};
aa.prototype.getElement=function(){return this._canvas.getElement()};aa.prototype.getAnnotation=function(){return new ma(this.getElement())};aa.prototype.getEventListeningElement=function(){return this._canvas.getEventListeningElement()};aa.prototype.getElementOffset=function(){return this._canvas.getElementOffset()};aa.prototype.startMouseInteraction=function(){this._canvas.startMouseInteraction();return this};aa.prototype.stopMouseInteraction=function(){this._canvas.stopMouseInteraction();return this};
aa.prototype.screenshot=function(){return this._canvas.screenshot()};aa.prototype.hasTooltip=function(){return!0};aa.prototype.showTooltip=function(a,b,c,f,d,g,k){this._canvas.showTooltip(a,b,c,f,d,g,k);return this};aa.prototype.showTruncationTooltip=function(a,b,c,f){this._canvas.showTruncationTooltip(a,b,c,f);return this};aa.prototype.hideTooltip=function(){this._canvas.hideTooltip();return this};aa.prototype.moveTooltip=function(a){this._canvas.moveTooltip(a);return this};aa.prototype.supportAccessibility=
function(){return!0};aa.prototype.resetAccessibility=function(){this._canvas.resetAccessibility();return this};aa.prototype.renderAccessibilityTable=function(a){this._renderer.renderAccessibilityTable(this._canvas,a);return this};aa.prototype.renderAccessibilityDataItems=function(){this._renderer.renderAccessibilityDataItems(this._canvas);return this};aa.prototype.setCursorType=function(a){this._canvas.setCursorType(a);return this};aa.prototype.setDebugInfo=function(a){this._canvas.setDebugInfo(a);
return this};aa.prototype.requestSerializedModels=function(){return!1};var nd,$u=new (function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.ready=function(){return Ym(xs,{timeout:Ia.DOCUMENT_READY_MAX_DELAY,errorMessage:"Timeout for document.readyState \x3d\x3d 'complete'"}).then(function(){return Ym(ys,{failOnTimeout:!1,timeout:Ia.FONT.LOADING_TEST.MAX_DELAY})})};b.prototype.getRenderer=function(a){return new aa({processor:a.processor,
config:a.config,isLegend:a.isLegend,getTooltipInstance:a.getTooltipInstance})};b.prototype.require=function(a){return xo.request({url:a,isSync:!1})};b.prototype.getTextWidth=function(a,b){null==b&&(b=Ia.FONT.SIZE);return b/Ia.FONT.SIZE*Bc.getInstance().getTextWidth(a)};b.prototype.getTruncatedText=function(a,b,d){null==d&&(d=Ia.FONT.SIZE);d/=Ia.FONT.SIZE;return Bc.getInstance().getTruncatedText(a,b/d)};b.prototype.getRealFontSize=function(a){return a};b.prototype.isPointInStroke=function(a,b,d,g,
k){a(nd);return nd.isPointInStroke(g,k)};b.prototype.fontInfo=function(){return{SIZE_ASCENDER:0.25,SIZE_DESCENDER:0.2}};return b}(Yc)),Ik=function(){};Ik.prototype.setDelegate=function(a){this._delegate=a};Ik.prototype.getDelegate=function(){return this._delegate||$u};var nb=pa(Ik).getInstance(),Bb=function(a){function b(c,b){c||(c={layer:void 0,shapeGroup:void 0});a.call(this,c,b);var d=c.layer,g=c.shapeGroup;d&&d.append(this);g&&g.append(this)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);
b.prototype.constructor=b;b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.key="shapeGroup";c.canSelect=!0;c.canHover=!0;c.data=void 0;c.annotateChildKeys=void 0};return b}(Pe);Bb.type="ShapeGroup";var av=Object.getPrototypeOf(Bb.prototype);Bb.prototype._select=p.SELECT_STATE.NONE;r.extend(Bb.prototype,{hover:function(){this.getChildren().forEach(function(a){a.get("canHover")&&a.hover()});return this},unhover:function(){this.getChildren().forEach(function(a){a.get("canHover")&&
a.unhover()});return this},select:function(){this._select=p.SELECT_STATE.TRUE;this.getChildren().forEach(function(a){a.get("canSelect")&&a.select()});var a=this.getParent();a&&a.select();return this},unselect:function(){this._select=p.SELECT_STATE.FALSE;this.getChildren().forEach(function(a){a.get("canSelect")&&a.unselect()});var a=this.getParent();a&&a.unselect();return this},resetSelect:function(){this._select=p.SELECT_STATE.NONE;this.getChildren().forEach(function(a){a.get("canSelect")&&a.resetSelect()});
var a=this.getParent();a&&a.resetSelect();return this},isSelected:function(){return this._select===p.SELECT_STATE.TRUE},tabOn:function(){this.getChildren().filter(function(a){return a.get("canHover")}).map(function(a){return a.tabOn()});return this},tabOff:function(){this.getChildren().filter(function(a){return a.get("canHover")}).map(function(a){return a.tabOff()});return this},getInteractionEntity:function(){return this},toModel:function(){var a=this;return r.flatten(this.getChildren().map(function(a){return a.toModel()})).map(function(b){b.groupKey=
a.getKey();return b})}});Bb.fromJson=function(a,b){void 0===b&&(b=!0);return av.constructor.fromJson.call(this,a,b)};var Mo=r.flatten,Zm=r.isArray,$d={_getFlattenChildren:function(a){a=a&&a.getChildren();return!a?[]:Mo(a.map(function(a){return"ShapeGroup"===a.getType()?a.getChildren():a}))},update:function(a,b,c,f,d){var g=this;if(!a&&!b||a&&a.props.isAccessible&&!b)return[];var k=0,m=0;if(b&&b.isGroup()){var n;n=b.totalTranslation(!0,!0);k=n[0];m=n[1]}else k=c.offsetX,m=c.offsetY;var q=this._getFlattenChildren(b);
n=x.differenceWithKey(a&&a.getChildren()||[],q);q=q.map(function(n){var q=a&&a.getChildByKey(n.key);c.oldParent=a;c.newParent=b;c.offsetX=k;c.offsetY=m;return g.update(q,n,c,f,d)}).filter(function(a){return a});n=n.map(function(n){c.oldParent=a;c.newParent=b;c.offsetX=k;c.offsetY=m;return g.update(n,null,c,f,d)}).filter(function(a){return a});n=Mo(n.concat(q));var q=0<n.length,s=b&&b.isGroup()?!0:this._isNodeVisible(b,d,k,m)||b&&b.get("isAccessible"),q=s&&!a?Sj(b.toModel(null,!1,!q),function(a){return f.insert(a,
c)}):!s&&a?f.remove(a,c):!s&&!a?null:b.getUpdateState()===p.UPDATE_STATE.MODIFIED?Sj(b.toModel(null,!1,!q),function(c){return f.update(a,c)}):a;Sj(b,function(a){return a.setUpdateState(p.UPDATE_STATE.UPDATED)});return Zm(q)?q:q?q._setChildren(n):null},_isNodeVisible:function(a,b,c,f){if(a&&a.isVisible())if(b){if(a=a.boundingBox())return b.intersect(a.x+c,a.y+f,a.w,a.h)}else return!0;return!1},getModelNode:function(a,b,c){if(a){var f=a;b.forEach(function(a){if(f){var g=f.getChildByKey(a);g?f=g:(c?
f.getChildren().some(function(c){return c instanceof Bb&&c.getChildByKey(a)?(f=c.getChildByKey(a),!0):!1}):f=g,f||(console.debug("utils:getModelNode: can't find child with key",a,"fullkey",b),f=null))}});return f}return a}},ae=function(a){function b(c,b){a.call(this,c.key);this.props=c;this.tweens=b}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.getPatcher=function(){return this._patcher};b.update=function(a,b,d,g){g=(g||{}).disableMorphing;void 0===g&&(g=
!1);a=$d.update(a,b,{disableMorphing:g,oldParent:null,newParent:null,offsetX:0,offsetY:0},this.getPatcher(),d);return Array.isArray(a)?a[0]:a};b.prototype.hasAnimatePathInfo=function(){return null!=(this.props.animate_points_x&&this.props.animate_points_y)};b.prototype.getProps=function(){return this.props};b.prototype.getStartValue=function(a){return this._getValue(a,!0)};b.prototype.getEndValue=function(a){return this._getValue(a,!1)};b.prototype._getValue=function(a,b){void 0===b&&(b=!0);var d=
this.props[a],g=this.tweens&&this.tweens[a];return g?b?g[0]:g[1]:d};b.prototype.tween=function(a,b){return this};b.prototype.tweenInsert=function(a){return this};b.prototype.tweenRemove=function(a){return this};b.prototype.tweenUpdate=function(a){return this};b.prototype.clone=function(){return this.constructor.fromJson(this.toJson(),!1)};b.prototype.toJson=function(){return{key:this.key,props:this.props}};b.fromJson=function(a,b){void 0===b&&(b=!0);b&&(a=x.deepCopy(a));return new this(a.props)};
return b}(qa);ae._patcher={remove:function(a,b){return a.tweenRemove(b)},insert:function(a,b){return a.tweenInsert(b)},update:function(a,b,c){return a.tweenUpdate(b)}};var bv="x y w h dx dy r rotation textRotation opacity fill stroke textColor textX textY r1 r2 textR angle startAngle lineWidth points_x points_y animate_points_x animate_points_y bg cornerRadius fontSize number dashed texture baseX baseY".split(" "),$c=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=
Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.tweenRemove=function(a){return this.fadeOut(this.getEndModelRemove(a))};b.prototype.tweenInsert=function(a){return this.fadeIn(this.getStartModelInsert(a))};b.prototype.tweenUpdate=function(a){this.props.bb0=this.props.bb;this.props.type===a.props.type&&this.tween(null,a.props);return this};b.prototype.tween=function(a,b,d){var g=this;void 0===d&&(d=!1);var k,m,n={};if(a)d=d?x.uniq(r.keys(a).concat(r.keys(this.props))):r.keys(a),
k=a,m=this.props;else if(b)d=d?x.uniq(r.keys(this.props).concat(r.keys(b))):r.keys(b),k=this.props,m=b;else return this;d.forEach(function(d){var s=k[d],u=m[d];if(s!==u)if(-1!==r.indexOf(bv,d))if("fontSize"===d)null!=a&&a.isTruncated||null!=b&&b.isTruncated?g.props[d]=u:n[d]||(n[d]=[s,u]);else if("texture"===d)(null!=s?s.shade:void 0)===(null!=u?u.shade:void 0)?g.props[d]=u:n[d]||(n[d]=[s,u]);else if(null!=(null!=s?s.isEqual:void 0)&&!s.isEqual(u))n[d]=[s,u];else{if(!r.isObject(u)&&!r.isObject(s)||
!r.isEqual(s,u))n[d]||(n[d]=[s,u])}else g.props[d]=u});r.isEmpty(n)||(this.tweens=n);return this};b.prototype.fadeIn=function(a){null==a&&(a={});a.opacity=0;this.tween(a,null);return this};b.prototype.fadeOut=function(a){null==a&&(a={});a.opacity=0;this.tween(null,a);return this};b.prototype.getEndModelRemove=function(a){var b=a.oldParent;a=a.newParent;b=b&&b.props.scales;a=null!=a?a.get("scales"):void 0;return!a||!b?null:this._getTweensByScale(b,a)};b.prototype.getStartModelInsert=function(a){var b=
a.oldParent;a=a.newParent;b=b&&b.props.scales;a=null!=a?a.get("scales"):void 0;return!a||!b?null:this._getTweensByScale(a,b)};b.prototype._getTweensByScale=function(a,b){var d=this,g={},k;for(k in d.props.propertiesByScale)if(d.props.propertiesByScale[k]){var m=d.props.propertiesByScale[k],n=b[k],q=a[k];q&&n&&m.forEach(function(a){if(null!=d.props[a]){var c=d.props[a];g[a]=r.isArray(c)?c.map(function(a){return ha.transpose(a,n,q)}):ha.transpose(c,n,q)}})}this._handleRotation(g,a,b);return g};b.prototype._handleRotation=
function(a,b,d){if(this.props.rotation){var g=b.x&&d.x,k=b.y&&d.y;if(g||k)if(a.rotation||(a.rotation=r.clone(this.props.rotation)),g&&(a.rotation.x=ha.transpose(a.rotation.x,d.x,b.x)),k)return a.rotation.y=ha.transpose(a.rotation.y,d.y,b.y)}};return b}(ae),No=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}($c),$m=r.extend,cv=od(No),dv=Vd.getInstance().getColor("#000"),ev={x:["x"],y:["y"]},Oo=Object.getPrototypeOf(Ea.prototype);
r.extend(Ea.prototype,{truncationTooltipPositions:function(){var a=this.getTextXY(),b=a[0],c=a[1],b=b-6,f=Fb.isRTL()?this.getTextW():0,c=c-(this.getTextH()+1),d=this.getTextH()+6,g=Zc.rotate([b-f,c+d],this.getRotation()),a=g[0],g=g[1],b=Zc.rotate([b-f,c-d],this.getRotation());return[[null,a,g],[null,b[0],b[1]]]},getModelProps:function(){var a=this.applyShapeEffects(),b=a.bgColor,a=a.stroke||dv,c=nb.getDelegate().getRealFontSize(this._props.size),f=this.getRotation(),d=this.getTextXY(),g=d[0],d=d[1],
b=b?{color:b,box:this.trueBoundingBox().toArray()}:null,k=this._hasFixedWidth()||this.isTruncated()?this._maxTextWidth:void 0;return r.extend(this.getCommonModelProps(),{x:g,y:d,propertiesByScale:ev,text:this._props.text,fontSize:c,fill:a,rotation:f,bg:b,maxWidth:k,halign:this._props.halign})},toModel:function(){return Oo.toModel.call(this,cv)}});Ea.fromJson=function(a,b){null==b&&(b=!0);var c=Oo.constructor.fromJson.call(this,a,b);a&&a.props&&(c._props.padding=fb.fromJson(a.props.padding,b));return c};
var gi=Vd.getInstance(),fv={color:gi.getColor(p.HOTSPOT.COLOR),bgColor:gi.getColor(p.HOTSPOT.BG_COLOR),hoverColor:gi.getColor(p.HOTSPOT.HOVER_COLOR),hoverBgColor:gi.getColor(p.HOTSPOT.HOVER_BG_COLOR)},be=function(a){var b=a.icon,c=a.box,f=a.name,d=a.colors,g=a.manager;this.key=a.key;this.box=c;this.name=f;this.manager=g;this.icon=null!=b?b[0]:void 0;this.colors=d||{};r.defaults(this.colors,fv);this._reRenderOnHover=!(this.colors.color.isEqual(this.colors.hoverColor)&&this.colors.bgColor.isEqual(this.colors.hoverBgColor))};
be.prototype.getShape=function(){null==this._shape&&(this._shape=this._computeShape());return this._shape};be.prototype.getInfo=function(){return this.manager.getHotSpotInfo(this)};be.prototype._computeShape=function(){var a=this.box.getCenter(),b=a[0],a=a[1],c=this.box.toJson(),f=c.w,b=new Ea({key:this.key+"_"+this.name+"_hotSpot",text:this.icon,x:b,y:a,maxWidth:f,bgColor:this.colors.bgColor,size:Math.min(c.h,f)-4,padding:{top:1,bottom:2},valign:"middle",halign:"center",stroke:this.colors.color,
canHover:!1,canSelect:!1,skipInFind:!0});this.box.hasRotation()&&(a=this.box.rotation,b.set({pivot:[a.x,a.y],angle:a.angle}));return b};be.prototype.isUnderCursor=function(a,b){return this.box.contains(a,b)};be.prototype.hover=function(){return this._reRenderOnHover?(this.getShape().set({stroke:this.colors.hoverColor,bgColor:this.colors.hoverBgColor}),!0):!1};be.prototype.unhover=function(){return this._reRenderOnHover?(this.getShape().set({stroke:this.colors.color,bgColor:this.colors.bgColor}),!0):
!1};var Se=function(a){var b=this,c=a.hotSpots;this.host=a.host;this.hotSpots={};this._hotSpotShapes=null;this._hostParent=this.host.getLayer();var f=this.host.trueBoundingBox();c.forEach(function(a){var c=a.name,k=a.position,m=a.icon,n=a.size;a=a.colors;null==n&&(n=10);b.hotSpots[c]=new be({key:b.host.key,box:f.getRelativeBox(k,n),icon:m,name:c,colors:a,manager:b})})};Se.prototype.getHotSpotUnderCursor=function(a,b){for(var c in this.hotSpots)if(this.hotSpots[c]){var f=this.hotSpots[c];if(f.isUnderCursor(a,
b))return f}return null};Se.prototype.getHotSpotInfo=function(a){var b=(c=a.box.clone()).offset.apply(c,this.host.totalTranslation(!0,!0)||[]);(c=this._hostParent.getScene())&&b.offset.apply(b,c.get("position")||[]);return{name:a.name,box:b};var c};Se.prototype._getHotSpotShapes=function(){null==this._hotSpotShapes&&(this._hotSpotShapes=r.values(this.hotSpots).map(function(a){return a.getShape()}));return this._hotSpotShapes};Se.prototype.hover=function(){var a=this;this._getHotSpotShapes().forEach(function(b){a._hostParent.append(b)})};
Se.prototype.unhover=function(){this._getHotSpotShapes().forEach(function(a){a.removeFromParent()})};var Jk=Object.getPrototypeOf(Ga.prototype);r.extend(Ga.prototype,{isBrushLayer:function(){return!1},findShapeUnderPos:function(a,b){var c=this._props;if(c.viewport){var f=c.viewport;if(!(new I({x:f[0]-c.x,y:f[1]-c.y,w:f[2],h:f[3]})).contains(a,b))return null}return Jk.findShapeUnderPos.call(this,a,b)},toScenePosition:function(a,b){var c=this.getParent(),f=this.translation(),d=f[0],f=f[1];return!c?
[a+d,b+f]:c.toScenePosition(a+d,b+f)},toLocalPosition:function(a,b){var c=this.getParent(),f=this.translation(),d=f[0],f=f[1];return!c?[a-d,b-f]:c.toLocalPosition(a-d,b-f)},select:function(){this._props.interactive&&(this._originalZIndex=this._props.zIndex,this.set({zIndex:$a.INTERACTION_ZINDEX++}));return this},unselect:function(){this._props.interactive&&null!=this._originalZIndex&&(this.set({zIndex:this._originalZIndex}),this._originalZIndex=void 0);return this},resetSelect:function(){this._props.interactive&&
null!=this._originalZIndex&&(this.set({zIndex:this._originalZIndex}),this._originalZIndex=void 0);return this},_sortChildren:function(){this._props.interactive&&(this._children=r.sortBy(this._children,function(a){return a.get("zIndex")}));Jk._sortChildren.call(this);return this},getModelProps:function(){return{type:this.getType(),key:this._props.key,zIndex:this._props.zIndex,tx:this._props.x,ty:this._props.y,staggerAnim:this._props.staggerAnim,scales:this._props.scales,viewport:this._props.viewport,
accessibility:this._props.accessibility,canScroll:this._props.canScroll}}});Ga.fromJson=function(a,b){void 0===b&&(b=!0);var c=Jk.constructor.fromJson.call(this,a,b,Ga),f=a.props&&a.props.scales;if(f){var d={};b||(f=x.deepCopy(f));for(var g in f)f[g]&&(d[g]=ha.fromJson(f[g]));c._props.scales=d}return c};Ga._roundProps=new Za(["x","y"]);var gv=od($c),hi=function(a){function b(c){a.call(this);this._effects=c}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.applyEffect=
function(a,b){var d=this._effects.map(function(a){return function(c){return a.applyEffect(c,b)}});return x.flow(d)(a,b)};return b}(Ra);hi.getDescriptor=function(a){return Ra.getDescriptorForType("CompositeShapeEffect",a)};var hv=0.4,iv=10,ii=function(a){function b(c){void 0===c&&(c={});var b=c.haloOpacity;void 0===b&&(b=hv);c=c.haloWidth;void 0===c&&(c=iv);a.call(this);this._haloOpacity=b;this._haloWidth=c}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.applyEffect=
function(a,b){var d=b.selectState,g=a.stroke,k=a.lineWidth,m=a.fill;null!=d&&d===p.SELECT_STATE.TRUE&&(g=m.adjustOpacity(this._haloOpacity),k=this._haloWidth);return r.extend(a,{stroke:g,lineWidth:k})};return b}(Ra);ii.getDescriptor=function(a){return Ra.getDescriptorForType("HaloSelectionShapeEffect",a)};var Po=0.9,jv=p.SELECT_STATE.FALSE,kv=["r","r1","r2","textR"],ji=function(a){function b(c){void 0===c&&(c={});var b=c.radiusScalingFactor;void 0===b&&(b=Po);c=c.applyToState;void 0===c&&(c=jv);a.call(this);
this._radiusScalingFactor=b;this._applyToState=c}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.applyEffect=function(a,b){var d=b.selectState;null!=d&&d===this._applyToState&&kv.forEach(function(b){var f=a[b];null!=f&&(a[b]=f*Po)});return a};return b}(Ra);ji.getDescriptor=function(a){return Ra.getDescriptorForType("RadiusScalingSelectionShapeEffect",a)};var lv=[Ra,ci,hi,bi,ii,ji,mg],Kk=null,an={},sg=function(){};sg.getInstance=function(){Kk||(Kk=
new sg,lv.forEach(function(a){return an[a.getDescriptor().type]=a}));return Kk};sg.prototype.getShapeEffect=function(a){var b=this;return Array.isArray(a)?new hi(a.map(function(a){return b.getShapeEffect(a)})):zs(a)};var mv=sg.getInstance(),nv="key opacity type zIndex bgColor accessibility".split(" "),ov=fi.getInstance(),Qo=Object.getPrototypeOf($a.prototype),Ro;$a.prototype._select=p.SELECT_STATE.NONE;$a.prototype._isOnhover=!1;$a.INTERACTION_ZINDEX=1E9;r.extend($a.prototype,{_trueBoundingBox:void 0,
_select:void 0,_isOnhover:void 0,_hotSpotMgr:void 0,getInteractionEntity:function(){for(var a=this;;){var b=a.getParent();if(!b||b instanceof Ga)break;a=b}return a},hasHotSpots:function(){return null!=this._props.hotSpots},getHotSpotManager:function(){null==this._hotSpotMgr&&(this._hotSpotMgr=new Ro({host:this,hotSpots:this._props.hotSpots}));return this._hotSpotMgr},findHotSpotUnderPos:function(a,b){if(!this.hasHotSpots())return null;var c=this.totalTranslation(!0,!0),f=c[1];a-=c[0];return this.getHotSpotManager().getHotSpotUnderCursor(a,
b-f)},isUnderCursor:function(a,b){return this.trueBoundingBox().contains(a,b)},isInArea:function(a,b,c,f){return this.trueBoundingBox().intersect(a,b,c,f)},isUnderLine:function(a,b,c,f){return!1},findShapeUnderPos:function(){return this},findShapesInArea:function(a,b,c,f){return[this]},findShapeUnderLine:function(a,b,c,f){return this},cross:function(){this._isCrossed=!0;return this},uncross:function(){this._isCrossed=!1;return this},hover:function(){this._isOnhover=!0;this.markAsModified();this._props.interactive&&
(this._originalZIndex=this._props.zIndex,this.set({zIndex:$a.INTERACTION_ZINDEX++}));this.hasHotSpots()&&this.getHotSpotManager().hover();return this},unhover:function(){this._isOnhover=!1;this.markAsModified();this.hasHotSpots()&&this.getHotSpotManager().unhover();this._props.interactive&&null!=this._originalZIndex&&(this.set({zIndex:this._originalZIndex}),this._originalZIndex=void 0);return this},extendHoverArea:function(){this._isHoverAreaExtended=!0;return this},restoreHoverArea:function(){this._isHoverAreaExtended=
!1;return this},tabOn:function(){this._isOnhover=!0;this.set("accessibility",r.extend({},this.get("accessibility"),{showTooltip:!0}));return this},tabOff:function(){this._isOnhover=!1;this.set("accessibility",r.extend({},this.get("accessibility"),{showTooltip:!1}));return this},getSelectedState:function(){return this._select},isSelected:function(){return this._select===p.SELECT_STATE.TRUE},select:function(){this._select=p.SELECT_STATE.TRUE;this.markAsModified();return this},unselect:function(){this._select=
p.SELECT_STATE.FALSE;this.markAsModified();return this},resetSelect:function(){this._select=p.SELECT_STATE.NONE;this.markAsModified();return this},applyShapeEffects:function(){var a=r.pick(this._props,this.constructor.shapeEffectsProps);null!=a.texture&&(a.texture=this._getTexture());return mv.getShapeEffect([this._props.selectionShapeEffect,this._props.hoverShapeEffect]).applyEffect(a,{hoverState:this._isOnhover?p.HOVER_STATE.TRUE:p.HOVER_STATE.FALSE,selectState:this._select})},toModel:function(a){return Qo.toModel.call(this,
a||gv)},_getTexture:function(){var a=this._props.texture;if(a&&a.url){var b=ov.validateUrl(a.url);if(b)return{shade:0,fit:a.fit||p.TEXTURE.FIT.COVER,url:b};oa.images&&console.log("Image:: rejected url",a.url)}},getTranslatedBox:function(){var a=(b=this.trueBoundingBox().clone()).offset.apply(b,this.totalTranslation(!0,!0));if(b=this.getLayer())(b=b.getScene())&&a.offset.apply(a,b.get("position"));return a;var b},getInfo:function(){var a=this._props.data;return{data:a?{column:a.column,row:Oa.getRowWithoutInternalValue(a.row)}:
a,key:this.key,box:this.getTranslatedBox()}},getAnnotationInfo:function(){return{positions:[],shouldUpdate:!1}},getCommonModelProps:function(){var a=this,b={};nv.forEach(function(c){null!=a._props[c]&&(b[c]=a._props[c])});b.bb=(this._props.bb||this.boundingBox()).toArray();b.type=this.getType();b.opacity=this._props.opacity;this._props.zIndex&&(b.zIndex=this._props.zIndex);this._props.accessibility&&(b.accessibility=this._props.accessibility);return b}});$a.fromJson=function(a,b){void 0===b&&(b=!0);
return Qo.constructor.fromJson.call(this,a,b)};$a.setHotSpotManagerImpl=function(a){Ro=a};var Lk,pv="tx ty viewport position background scrollOffset viewport".split(" "),qv=["scales"],tg=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.setNodeModelFactoryImpl=function(a){Lk=a};b.prototype.tweenUpdate=function(a){return this.tween(null,a.getProps())};b.prototype.tween=function(a,b){b||(b={});var d={},g;for(g in this.props){var k=
this.props[g];if(0>qv.indexOf(g)){var m=b[g];r.isEqual(k,m)||(-1<pv.indexOf(g)?k!==m&&(d[g]=[k,m]):this.props[g]=m)}}r.isEmpty(d)||(this.tweens=d);return this};b.prototype.clone=function(a){void 0===a&&(a=!0);return Lk.fromJson(this.toJson(a),!1)};b.prototype.toJson=function(c){void 0===c&&(c=!0);var b=a.prototype.toJson.call(this);c&&(b.children=this.getChildren().map(function(a){return a.toJson(!0)}));if(b.props.scales||b.props.scrollOffset)b.props=r.clone(b.props);if(b.props&&b.props.scales){c=
b.props.scales;b.props.scales={};for(var d in c)b.props&&(b.props.scales[d]=c[d].toJson())}return b};b.fromJson=function(c,b){void 0===b&&(b=!0);b&&(c=x.deepCopy(c));var d=a.fromJson.call(this,c,!1);c.children&&c.children.forEach(function(a){d.append(Lk.fromJson(a,!1))});var g=c.props.scales;if(g){var k={};b||(g=x.deepCopy(g));for(var m in g)g[m]&&(k[m]=ha.fromJson(g[m]));d.props.scales=k}return d};return b}(ae),So=null,To=Object.getPrototypeOf(ud.prototype);r.extend(ud.prototype,{isUnderCursor:function(a,
b){return!0},isInArea:function(a,b,c,f){return!0},isUnderLine:function(a,b,c,f){return!0},findShapeUnderPos:function(a,b){for(var c=this.getChildren(),c=r.sortBy(c,function(a){return a.get("zIndex")||0}),f=[],d=c.length-1;0<=d;d--){var g=c[d];if(!g.get("skipInFind")){var k=g.translation(),m=k[0],k=k[1];g.isUnderCursor(a-m,b-k)&&(g=g.findShapeUnderPos(a-m,b-k))&&f.push(g)}}return 1>f.length?null:r.reduce(f,function(c,f){return f.closerThan(c,a,b)?f:c},f[0])},findShapesInArea:function(a,b,c,f){for(var d=
this.getChildren(),g=[],k=d.length-1;0<=k;k--){var m=d[k];if(!m.get("skipInFind")){var n=m.translation(),q=n[0],n=n[1];m.isInArea(a-q,b-n,c,f)&&(g=g.concat(m.findShapesInArea(a-q,b-n,c,f)))}}return g},findShapeUnderLine:function(a,b,c,f){for(var d=this.getChildren(),g=[],k=d.length-1;0<=k;k--){var m=d[k];if(!m.get("skipInFind")){var n=m.translation(),q=n[0],n=n[1];m.isUnderLine(a-q,b-n,c-q,f-n)&&(g=g.concat(m.findShapeUnderLine(a-q,b-n,c-q,f-n)))}}return g},rotate:function(){if(this.get("skipTransforms"))return this;
this.getChildren().forEach(function(a){return a.rotate()});return this},flipY:function(){if(this.get("skipTransforms"))return this;this.getChildren().forEach(function(a){return a.flipY()});return this},flipX:function(){if(this.get("skipTransforms"))return this;this.getChildren().forEach(function(a){return a.flipX()});return this},offsetX:function(a){this.getChildren().forEach(function(b){return b.offsetX(a)});return this},offsetY:function(a){this.getChildren().forEach(function(b){return b.offsetY(a)});
return this},center:function(a,b){if(this.get("skipTransforms"))return this;this.getChildren().forEach(function(c){c.get("skipTransforms")||(a&&c.offsetX(a),b&&c.offsetY(b))});return this},offsetAngle:function(a){this.getChildren().forEach(function(b){return b.offsetAngle(a)});return this},applyTransforms:function(a){a&&(a.rotate&&this.rotate(),a.flipX&&this.flipX(),a.flipY&&this.flipY(),a.center&&this.center&&this.center());return this},postProcess:function(){this.applyTransforms(this._props.transforms);
return this},toModel:function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=!0);if(c&&!this.getChildren().length)return null;var f=To.toModel.call(this,a||tg);b&&this.getChildren().forEach(function(a){a=a.toModel();Array.isArray(a)?f.appendAll(a):f.append(a)});return f}});ud.fromJson=function(a,b){void 0===b&&(b=!0);b&&(a=x.deepCopy(a));var c=To.constructor.fromJson.call(this,a,!1);a.children&&a.children.forEach(function(a){c.append(So.fromJson(a,!1))});return c};ud.setNodeFactoryImpl=function(a){So=a};
var Yb=p.TRANSFORM,Te=function(a){function b(c,b){a.call(this,c,b);this._transforms=[]}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.rotate=function(){this._transforms.push(Yb.ROTATE);return a.prototype.rotate.call(this)};b.prototype.flipX=function(){this._transforms.push(Yb.FLIP_X);return a.prototype.flipX.call(this)};b.prototype.flipY=function(){this._transforms.push(Yb.FLIP_Y);return a.prototype.flipY.call(this)};b.prototype.isUnderCursor=function(a,
b){var d=this.toNormalizedPosition(a,b),g=d[0],d=d[1],k=this._props,m=k.w,k=k.h;return(0<=m?0<=g&&g<m:0>=g&&g>m)&&(0<=k?0<=d&&d<k:0>=d&&d>k)};b.prototype.toNormalizedPosition=function(a,b){return this._toNormalizedPosition(a,b,this._transforms)};b.prototype.toTransformedPosition=function(a,b){return this._toTransformedPosition(a,b,this._transforms)};b.prototype.notifyShapeChanged=function(){this._transformShapes()};b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=
this._props;c.w=0;c.h=0;c.staggerAnim=!1;c.decorationType="";c.refContainerKeys=[]};b.prototype._transformShapes=function(){for(var a=this.getChildren(),b=this._transforms,d=0;d<b.length;++d)switch(b[d]){case Yb.ROTATE:a.forEach(function(a){return a.rotate()});this._brushArea&&this._brushArea.rotateTextDirection();break;case Yb.FLIP_X:a.forEach(function(a){return a.flipX()});break;case Yb.FLIP_Y:a.forEach(function(a){return a.flipY()})}return a};b.prototype._toNormalizedPosition=function(a,b,d){for(var g=
d.length-1;0<=g;--g)switch(d[g]){case Yb.FLIP_X:a=-a;break;case Yb.FLIP_Y:b=-b;break;case Yb.ROTATE:var k=a;a=-b;b=k}return[a,b]};b.prototype._toTransformedPosition=function(a,b,d){for(var g=0;g<d.length;++g)switch(d[g]){case Yb.FLIP_X:a=-a;break;case Yb.FLIP_Y:b=-b;break;case Yb.ROTATE:var k=a;a=b;b=-k}return[a,b]};return b}(Ga);Te.type="Layer";Te._roundProps=new Za(["x","y"]);Te._sensitiveProps=new Za(["scales"]);var Uo=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=
Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._getTweensByScale=function(a,b){var d,g,k;d=this.props;var m=d.x,n=d.y;k=d.stretchX;var q=d.stretchY,s=d.rotation,u={};if((d=a.x)&&(g=b.x))u.x=ha.transpose(m,g,d),k&&(k=null!=s?"h":"w",u[k]=ha.transpose(m+this.props[k],g,d)-u.x,k=null!=s?"textY":"textX",u[k]=ha.transpose(m+this.props[k],g,d)-u.x);if((d=a.y)&&(g=b.y))u.y=ha.transpose(n,g,d),q&&(k=null!=s?"w":"h",u[k]=ha.transpose(n+this.props[k],g,d)-u.y,k=null!=s?"textX":"textY",
u[k]=ha.transpose(n+this.props[k],g,d)-u.y);this._handleRotation(u,a,b);return u};b.prototype.getStartModelInsert=function(c){return c.disableMorphing?a.prototype.getStartModelInsert.call(this,c):r.extend({x:this.props.x+this.props.w/2,y:this.props.y+this.props.h/2,w:0,h:0},a.prototype.getStartModelInsert.call(this,c))};b.prototype.getEndModelRemove=function(c){return c.disableMorphing?a.prototype.getStartModelInsert.call(this,c):r.extend({x:this.props.x,y:this.props.y,w:1.5*this.props.w,h:1.5*this.props.h},
a.prototype.getEndModelRemove.call(this,c))};return b}($c),rv=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getPathProps=function(a,b){var d=b.w,g=b.h;if(null!=d&&null!=g){var k=Math.floor(a/4),m=this._sampleLine(0,0,d,0,k+(0<a%4?1:0)),n=m[0],m=m[1],q=this._sampleLine(d,0,d,g,k+(1<a%4?1:0)),s=q[0],q=q[1],u=this._sampleLine(d,g,0,g,k+(2<a%4?1:0)),d=u[0],u=u[1],k=this._sampleLine(0,g,0,0,k),g=k[0],
k=k[1];return{animate_points_x:n.concat(s).concat(d).concat(g),animate_points_y:m.concat(q).concat(u).concat(k)}}return null};b.prototype.getNumVertices=function(){return 4};return b}(od(Uo)),qc=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.initClass=function(){this.type="Rect";this.shapeEffectsProps=["fill","stroke","texture","hoverStroke"]};b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);
var c=this._props;c.vertical=!1;c.textInside=!1;c.textCenter=!0;c.textRotate=!1;c.cornerRadius=0;c.x=0;c.y=0;c.w=0;c.h=0;c.stroke=void 0;c.fill=void 0;c.text=void 0;c.textColorLight=void 0;c.textColorDark=void 0;c.stretchX=!0;c.stretchY=!1;c.lineWidth=1;c.dashed=0;c.hoverPadding={};c.hoverStroke=void 0;c.hoverShapeEffect=[c.hoverShapeEffect,mg.getDescriptor()];return c.texture=void 0};b.prototype.set=function(c,b,d){this._forceRecomputeBoundingBox();return a.prototype.set.call(this,c,b,d)};b.prototype.getRotation=
function(){return this._props.vertical?{x:this._props.stroke?Math.round(this._props.x):this._props.x,y:this._props.stroke?Math.round(this._props.y):this._props.y,angle:-Math.PI/2}:null};b.prototype.applyScales=function(a){null==a&&(a={});var b=this._props,d=b.x,g=b.y,k=b.w,m=b.h,n=b.stretchX,b=b.stretchY,q=a.x;a=a.y;var s={};null!=q&&(s.x=q.scale(d),n&&(s.w=q.scale(d+k)-s.x));null!=a&&(s.y=a.scale(g),b&&(s.h=a.scale(g+m)-s.y));this.set(s);return this};b.prototype._computeTrueBoundingBox=function(){return(new I({x:this._props.x,
y:this._props.y,w:this._props.w,h:this._props.h})).padAll(this._props.stroke?this._props.lineWidth/2:0)};b.prototype.domainBox=function(){return new I({x:this._props.x,y:this._props.y,w:this._props.stretchX?this._props.w:0,h:this._props.stretchY?this._props.h:0})};b.prototype.offsetY=function(c){a.prototype.offsetY.call(this,c);this._props.y+=c;return this};b.prototype.offsetX=function(c){a.prototype.offsetX.call(this,c);this._props.x+=c;return this};b.prototype.rotate=function(){a.prototype.rotate.call(this);
this._props.vertical=!this._props.vertical;var c;c=[this._props.y,-this._props.x,this._props.h,-this._props.w,this._props.stretchY,this._props.stretchX];this._props.x=c[0];this._props.y=c[1];this._props.w=c[2];this._props.h=c[3];this._props.stretchX=c[4];this._props.stretchY=c[5];return this};b.prototype.getPropertiesByScale=function(){return{x:["x","w"],y:["y","h"]}};return b}($a);qc.initClass();var ug=Object.getPrototypeOf(qc.prototype);r.extend(qc.prototype,{_computeTrueBoundingBox:function(){var a=
(new I({x:this._props.x,y:this._props.y,w:this._props.w,h:this._props.h})).padAll(this._props.stroke?this._props.lineWidth/2:0);this._hoverBB=a.clone().padBy(this._props.hoverPadding);return a},domainBox:function(){return new I({x:this._props.x,y:this._props.y,w:this._props.stretchX?this._props.w:0,h:this._props.stretchY?this._props.h:0})},isUnderCursor:function(a,b){this._hoverBB||this.trueBoundingBox();return this._hoverBB.contains(a,b)},getAnnotationInfo:function(){var a=this.getTranslatedBox(),
b=a.x,c=a.y,f=a.w,a=a.h,d;this._props.textCenter?(b+=f/2,c+=a/4,d=["right","top","bottom","left"]):this._props.vertical?(b+=f/2,d=["top","left","right","bottom"],0<=this._props.h&&(c+=a,d=["bottom","left","right","top"])):(c+=a/2,d=["left","top","bottom","right"],0<=this._props.w&&(b+=f,d=["right","top","bottom","left"]));return{positions:[{x:b,y:c,orientations:d}],shouldUpdate:!1}},offsetY:function(a){ug.offsetY.call(this,a);this._props.y+=a;return this},offsetX:function(a){ug.offsetX.call(this,
a);this._props.x+=a;return this},rotate:function(){ug.rotate.call(this);this._props.vertical=!this._props.vertical;var a;a=[this._props.y,-this._props.x,this._props.h,-this._props.w,this._props.stretchY,this._props.stretchX];this._props.x=a[0];this._props.y=a[1];this._props.w=a[2];this._props.h=a[3];this._props.stretchX=a[4];this._props.stretchY=a[5];return this},toModel:function(){return ug.toModel.call(this,rv)},getModelProps:function(){var a=this,b,c,f,d,g,k=this.applyShapeEffects(),m=k.fill,n=
k.stroke,q=this._props,s=q.vertical,u=q.x,p=q.y,t=q.w,w=q.h,z=q.textCenter,v=q.textRotate,q=v?Math.PI/2:0;s&&(w=[-w,t],t=w[0],w=w[1]);if(void 0!==this._props.text){s&&(c=[-p,u],u=c[0],p=c[1]);c=null!=this._props.text?this._props.text:"";d=[nb.getDelegate().getTextWidth(c),8];var y=d[0],K=d[1];q&&(d=[K,-y],y=d[0],K=d[1]);d=0;g=(w+K)/2;f=!0;b=null;var B=function(){var c=void 0;a.getLayer()&&a.getLayer().get("scales")&&(c=a.getLayer().get("scales"),c=s?c.y?c.y.flip().range().slice():void 0:c.x?c.x.range().slice():
void 0);null==c&&(c=[u,u+t]);c=c.sort(function(a,c){return a-c});return[c[0]-1E-5,c[1]+1E-5]}();0<=t?y+10<t&&u+t-y-5>=B[0]&&u+t<=B[1]?d=z?(t-y)/2:t-y-5:this._props.textInside?c="":u+t+y+5<B[1]&&u+t>=B[0]?(d=t+5,f=!1,b=s?{top:y+5}:{right:y+5}):u-y-5>B[0]&&u<=B[1]?(d=-y-5,f=!1,b=s?{bottom:y+5}:{left:y+5}):c="":y+10<-t&&u+t>=B[0]&&u+t+y+5<=B[1]?d=z?(t-y)/2:t+5:this._props.textInside?c="":u+t-y-5>B[0]&&u+t<=B[1]?(d=t-y-5,f=!1,b=s?{bottom:y+5}:{left:y+5}):u+y+5<B[1]&&u>=B[0]?(d=5,f=!1,b=s?{top:y+5}:{right:y+
5}):c="";f=c?(f&&m?m:this.getParentBackgroundColor()).toHighContrast(this._props.textColorLight,this._props.textColorDark):this._props.textColorLight;Fb.isRTL()&&(v?g-=K:d+=y);d=Math.round(d);g=Math.round(g);s&&(p=[p,-u],u=p[0],p=p[1])}n&&(u=Math.round(u),p=Math.round(p),t=Math.round(t),w=Math.round(w));n=this.boundingBox();n=(b?(new I(n.toJson())).padBy(b):n).toArray();m=this.getRotation();z=this._props.cornerRadius?0>this._props.cornerRadius?0:Math.min(this._props.cornerRadius,Math.abs(t/2),Math.abs(w/
2)):0;return r.extend(this.getCommonModelProps(),k,{bb:n,x:u,y:p,w:t,h:w,lineWidth:this._props.lineWidth,text:c,textX:d,textY:g,textColor:f,textRotation:q,rotation:m,cornerRadius:z,stretchX:this._props.stretchX,stretchY:this._props.stretchY,dashed:this._props.dashed})},centerDistSqrd:function(a,b){return this.boundingBox().contains(a,b)?0:ug.centerDistSqrd.call(this,a,b)}});qc._roundProps=new Za("x0 y0 x1 y1 baseXValue baseYValue".split(" "));var Ue=p.BRUSH,Mk=p.CURSOR_TYPE,sc=function(a,b,c){this._layer=
a;this._fillColor=b&&b.fillColor||new F("rgb(255, 255, 255)");this._strokeColor=b&&b.strokeColor||new F("rgb(0, 0, 0)");this._textColor=b&&b.textColor||new F("rgb(0, 0, 0)");this._hasControlPoints=!!c;this._controlPoints=[]};sc.prototype.getArea=function(){return this._area};sc.prototype.getShapes=function(){var a=[];this._shapeArea&&a.push(this._shapeArea);this._controlPoints&&this._controlPoints.length&&this._controlPoints.forEach(function(b){return a.push(b)});this._captionText&&a.push(this._captionText);
return a};sc.prototype.setText=function(a){this._captionText&&(this._captionText.set({text:a,opacity:1}),this._layout())};sc.prototype.hideText=function(){this._captionText&&this._captionText.set({opacity:1E-6})};sc.prototype.removeBrush=function(){return this.getShapes().forEach(function(a){a.removeFromParent()})};sc.prototype.select=function(a,b,c,f){var d=a,g=b,k=c,m=f;0>k&&(d=a+c+1,k=-c);0>m&&(g=b+f+1,m=-f);return this._area?(this._area.x0=d,this._area.y0=g,this._area.x1=d+k-1,this._area.y1=g+
m-1,this._layout(),this.getShapes()):this._initArea(d,g,k,m)};sc.prototype.rotateTextDirection=function(){this._captionText&&this._captionText.rotateTextDirection()};sc.prototype._initArea=function(a,b,c,f){this._area={x0:a,y0:b,x1:a+c-1,y1:b+f-1};this._createShapes();this._layout();return this.getShapes()};sc.prototype._createShapes=function(){this._shapeArea=new qc({key:"brushSelect",layer:this._layer,stroke:this._strokeColor,fill:this._fillColor,cursorType:Mk.MOVE,skipInFind:!0});this._captionText=
new Ea({text:"",key:"brushCaptionText",layer:this._layer,stroke:this._textColor,skipInFind:!0});this._hasControlPoints&&(this._controlPoints[0]=new qc({key:"brushControlPoint0",layer:this._layer,stroke:this._strokeColor,fill:new F("rgb(255, 255, 255)"),w:Ue.CONTROL_POINT_SIZE,h:Ue.CONTROL_POINT_SIZE,cursorType:Mk.EW_RESIZE}),this._controlPoints[1]=new qc({key:"brushControlPoint1",layer:this._layer,stroke:this._strokeColor,fill:new F("rgb(255, 255, 255)"),w:Ue.CONTROL_POINT_SIZE,h:Ue.CONTROL_POINT_SIZE,
cursorType:Mk.EW_RESIZE}))};sc.prototype._layout=function(){var a=this._area,b=this._shapeArea,c=this._captionText;if(a&&b){var f=a.x0,d=a.y0,g=a.y1,a=a.x1-f+1,k=g-d+1,m=1<=a&&1<=k;b.set({x:f,y:d,w:m?a:0,h:m?k:0,vertical:!0});this._hasControlPoints&&(b=Ue.CONTROL_POINT_SIZE/2,k=m?Ue.CONTROL_POINT_SIZE:0,this._controlPoints[0].set({x:f+a/2-b,y:d-2*b,w:k,h:k,vertical:!0}),this._controlPoints[1].set({x:f+a/2-b,y:g,w:k,h:k,vertical:!0}));c&&c.set({x:f+a-1-20,y:d+20,vertical:!1,valign:"center",halign:"right",
text:m?c.get("text"):""})}};var vg=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.isBrushLayer=function(){return!0};b.prototype.getBrushStepByPosition=function(a){return{position:-1}};b.prototype.getBrushStepByIndex=function(a){return{position:-1}};b.prototype.getBrushStepBySelectionValue=function(a){return{position:-1}};b.prototype.getBrushArea=function(){return this._brushArea&&this._brushArea.getArea()};
b.prototype.getControl=function(a,b){var d=this._brushArea;if(d)for(var d=d.getShapes(),g=this.toTransformedPosition(a,b),k=g[0],g=g[1],m=d.length-1;0<=m;--m)if(d[m].isUnderCursor(k,g))return m;return-1};b.prototype.setShapeContainerKeys=function(a){this._props.shapeContainerKeys=a};b.prototype.getShapeContainerKeys=function(){return this._props.shapeContainerKeys};b.prototype.setBrushCaptionText=function(a){this._brushArea&&this._brushArea.setText(a)};b.prototype.hideBrushCaptionText=function(){this._brushArea&&
this._brushArea.hideText()};b.prototype.removeBrush=function(){this._brushArea&&(this._brushArea.removeBrush(),this._brushArea=null)};b.prototype.brushSelect=function(a,b,d,g){this._brushArea||(this._brushArea=new sc(this,{fillColor:this.get("brushFillColor"),strokeColor:this.get("brushStrokeColor"),textColor:this.get("brushTextColor")},this.get("hasControlPoints")));var k=this._brushArea;if(k){var m=a,n=b,q=d,s=g;0>q&&(m=a+d+1,q=-d);0>s&&(n=b+g+1,s=-g);d=this.get("w")||0;b=this.get("h")||0;a=this._boundInLayer(m,
d);m=this._boundInLayer(m+q-1,d);q=this._boundInLayer(n,b);n=this._boundInLayer(n+s-1,b);k.select(a,q,m-a+1,n-q+1);return this._transformShapes()}return[]};b.prototype.snapToSteps=function(){var a=this._getRangeSteps(),b=a[0],a=a[1];return b&&a?(this.brushSelect(0,b.position,this.get("w"),a.position-b.position+1),[b,a]):[]};b.prototype.getRangeLabels=function(){return this._getRangeSteps().map(function(a){return a.label})};b.prototype._getRangeSteps=function(){var a=this._brushArea,b=a&&a.getArea();
return a&&b?(a=b.y1,[this.getBrushStepByPosition(b.y0),this.getBrushStepByPosition(a)]):[]};b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.shapeContainerKeys=[];c.hasControlPoints=!1;c.brushFillColor=new F("rgba(100, 100, 100, 0.5)");c.brushStrokeColor=new F("rgb(0, 0, 0)");c.brushTextColor=new F("rgb(0, 0, 0)")};b.prototype._boundInLayer=function(a,b){var d=0<=b?b:0,g=0<=b?0:b;return a<g?g:a>d?d:a};return b}(Te);vg.type="Layer";vg._roundProps=
new Za(["x","y"]);vg._sensitiveProps=new Za(["scales"]);var sv=p.TIME_GRANULARITY,ki=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getBrushStepByPosition=function(a){var b=this._props,d=b.customDomain,g=b.dataGranularity,k=b.domain,m=b.format,n=b.firstDayOfWeek,q=b.fiscalGranularity,b=b.scale;if(g&&b){var s=ra.isFiscalTimeFormat(m),k=s?d||k:b.domain(),d=k[0],k=k[1];a=b.invert(a);m=this._closestStep(s?
a:O.DateTime.fromMillis(a),g,n,d,k,m,q);q=s?m:O.DateTime.fromMillis(m);s=s?d:this._getFirstStep();return{label:this._format(m),selectionValue:m,position:b.scale(q),index:Math.floor(ra.diff(s,q,g,n))}}return{position:-1,index:-1}};b.prototype.getBrushStepByIndex=function(a){var b=this._props,d=b.customDomain,g=b.dataGranularity,k=b.domain,m=b.format,n=b.firstDayOfWeek,q=b.fiscalGranularity,b=b.scale;if(g&&b){var s=ra.isFiscalTimeFormat(m),m=ra.isDiscreteTimeFormat(m),d=s?(d||k)[0]:this._getFirstStep(),
g=ra.offset(d,a,g,n,m,g,q);return{label:this._format(g.valueOf()),selectionValue:g.valueOf(),position:b.scale(g),index:a}}return{position:-1,index:-1}};b.prototype.getBrushStepBySelectionValue=function(a){var b=this._props.scale;return b?this.getBrushStepByPosition(b.scale(a)):{position:-1,index:-1}};b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.dataGranularity="";c.firstDayOfWeek=null;c.format=null;c.scale=null;c.customDomain=null;c.domain=null;
c.dataSeparator=null;c.fiscalGranularity=null};b.prototype._getFirstStep=function(){var a=this._props,b=a.dataGranularity,d=a.scale,a=a.firstDayOfWeek;if(b&&d){var d=d.domain()[0],g=O.DateTime.fromMillis(d);g.hasSame(ra.startOf(d,b,a),sv.MILLISECOND)||(g=ra.startOf(ra.offset(d,1,b,a),b));return g}};b.prototype._closestStep=function(a,b,d,g,k,m,n){a="number"===typeof a?O.DateTime.fromMillis(a):a;var q=ra.isDiscreteTimeFormat(m);m=ra.startOf(a,b,d,q,b,n).valueOf();b=ra.offset(m,1,b,d,q,b,n).valueOf();
return Math.abs(a.valueOf()-m)<Math.abs(a.valueOf()-b)?this._ensureWithinDomain(a.valueOf(),m,g,k):this._ensureWithinDomain(a.valueOf(),b,g,k)};b.prototype._ensureWithinDomain=function(a,b,d,g){return a<d?d:a>g?g:b};b.prototype._onChange=function(c){a.prototype._onChange.call(this,c);var b=this._props;if(c.format||c.firstDayOfWeek)this._formatter=ra.getFormatter(c.format?c.format[0]:b.format,c.firstDayOfWeek?c.firstDayOfWeek[0]:b.firstDayOfWeek,b.dataSeparator,b.dataGranularity,b.fiscalGranularity)};
b.prototype._format=function(a){return this._formatter?this._formatter(a):a};return b}(vg);ki.type="Layer";ki._roundProps=new Za(["x","y"]);ki._sensitiveProps=new Za(["scales","format","firstDayOfWeek"]);var tv=p.BRUSH,uv={make:function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];switch(a){case tv.LAYER_TYPE.TIME:return new (Function.prototype.bind.apply(ki,[null].concat(b)));default:return new (Function.prototype.bind.apply(vg,[null].concat(b)))}}},yd=function(a){function b(c,
b){c||(c={key:void 0,zIndex:0,column:0,row:0,scene:void 0});null==c.key&&(c.key="CellKey"+c.column+"||"+c.row);a.call(this,c,b);var d=c.scene;d&&d.append(this)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.x=0;c.y=0;c.w=0;c.h=0;c.scrollX=!1;c.scrollY=!1;c.clip=void 0;c.column=0;c.row=0};b.prototype._childSorter=function(a){return a.get("zIndex")};b.prototype.getScene=
function(){return this.getParent()};b.prototype.getLayers=function(){return this.getChildren()};b.prototype.layerByKey=function(a){return this.getChildByKey(a)};b.prototype.rotate=function(){var c=this._props,b=c.scrollX;this._props.scrollX=c.scrollY;this._props.scrollY=b;a.prototype.rotate.call(this);return this};b.prototype.offsetX=function(a){this._props.x+=a;return this};b.prototype.offsetY=function(a){this._props.y+=a;return this};b.prototype.adjustWidth=function(a){var b=this.getScene();b&&
b.adjustColumnSize(this._props.column,a);return this};b.prototype.adjustHeight=function(a){var b=this.getScene();b&&b.adjustRowSize(this._props.row,a);return this};b.prototype.adjustRowToFit=function(){var a=this.getScene();a&&a.adjustRowToFit(this._props.row);return this};b.prototype.adjustColumnToFit=function(){var a=this.getScene();a&&a.adjustColumnToFit(this._props.column);return this};b.prototype.translation=function(){var a=this.getScene(),b=this._props.x,d=this._props.y;return a?(a=a.get("padding"),
[b+a.left,d+a.top]):[b,d]};b.prototype.totalTranslation=function(a,b){void 0===a&&(a=!1);void 0===b&&(b=!1);var d=this._props.x,g=this._props.y,k=this.getParent(),m=this._props,n=m.scrollX;void 0===n&&(n=!0);m=m.scrollY;void 0===m&&(m=!0);k=k&&k.totalTranslation(a&&n,b&&m)||[0,0];return[k[0]+d,k[1]+g]};return b}(ud);yd.type="Cell";var vv=Object.getPrototypeOf(yd.prototype);r.extend(yd.prototype,{toScenePosition:function(a,b){var c=this.translation();return[a+c[0],b+c[1]]},toLocalPosition:function(a,
b){var c=this.translation();return[a-c[0],b-c[1]]},isUnderCursor:function(a,b){var c=this._props,f=c.clip,d=c.w,g=c.h,g=c.scrollY||f?0<=b&&b<=g:!0;return(c.scrollX||f?0<=a&&a<=d:!0)&&g},isInArea:function(a,b,c,f){var d=this._props,g=d.clip,k=d.w,m=d.h;b=d.scrollY||g?!(m<b||0>b+f-1):!0;return(d.scrollX||g?!(k<a||0>a+c-1):!0)&&b},getModelProps:function(){var a=this.getScene(),b=this.translation(),c=b[0],b=b[1],f=this._props,d=f.w,g=f.h,k=f.scrollX,m=f.scrollY,f=f.clip,n;a&&(n=a.get("size"),a=n[0],n=
n[1],n=k||f?m||f?[c,b,d,g]:[c,0,d,n]:m?[0,b,a,g]:null);return{type:this.getType(),key:this._props.key,zIndex:this._props.zIndex,scrollX:this._props.scrollX,scrollY:this._props.scrollY,tx:c,ty:b,w:d,h:g,viewport:n,accessibility:this._props.accessibility}}});yd.fromJson=function(a,b){void 0===b&&(b=!0);return vv.constructor.fromJson.call(this,a,b)};yd._roundProps=new Za(["x","y","w","h"]);var fa=function(a){void 0===a&&(a={});this.columns=[];this.rows=[];this._columns=[];this._rows=[];this._cellByIndex=
{};r.extend(this,a)};fa.initClass=function(){this.prototype.scene=null};fa.prototype.attachScene=function(a){this.scene=a;return!this.scene?this:this._updateIndex()};fa.prototype.buildCells=function(a){return this.updateCellLayout(a)};fa.prototype.size=function(){var a=r.last(this._columns),b=r.last(this._rows);return[a?a.pos+a.size:0,b?b.pos+b.size:0]};fa.prototype.updateCellLayout=function(a){var b=this;void 0===a&&(a={});if(!this.scene)return this;var c=this.rows.length,f=this.columns.length;this.scene.getChildren().slice().forEach(function(a){a.removeFromParent()});
var d=a.rows;a=a.columns;d&&(this.rows=d);a&&(this.columns=a);this._traverseGrid(function(a,d,m){return d<f&&m<c?a.appendTo(b.scene):new yd({scene:b.scene,column:d,row:m})});return this._refreshLayout()};fa.prototype.rotate=function(){var a=this;if(!this.scene)return this;var b=this._getAvailableSize()[1];this._traverseGrid(function(c){return c.set({x:c.get("y"),y:b-c.get("x")-c.get("w"),w:c.get("h"),h:c.get("w"),column:c.get("row"),row:a.columns.length-c.get("column")-1})});var c;c=[this.columns.slice().reverse(),
this.rows.slice()];this.rows=c[0];this.columns=c[1];c=[this._columns.slice().reverse(),this._rows.slice()];this._rows=c[0];this._columns=c[1];return this._updateIndex()};fa.prototype.flipX=function(){var a=this;if(!this.scene)return this;var b=this._getAvailableSize()[0];this._traverseGrid(function(c){return c.set({x:b-(c.get("x")+c.get("w")),column:a.columns.length-c.get("column")-1})});return this._updateIndex()};fa.prototype.flipY=function(){var a=this;if(!this.scene)return this;var b=this._getAvailableSize()[1];
this._traverseGrid(function(c){return c.set({y:b-(c.get("y")+c.get("h")),row:a.rows.length-c.get("row")-1})});return this._updateIndex()};fa.prototype.adjustColumnToFit=function(a){if(!(a>this.columns.length-1)){for(var b=[],c=0;c<this.rows.length;c++){var f=this.getCell(a,c).boundingBox();f?b.push(f.x+f.w):b.push(0)}b=r.max(b);if(Ja.round2d(b)<=Ja.round2d(this._columns[a].size))return this.columns[a]=b,this.updateCellLayout({columns:this.columns})}};fa.prototype.adjustRowToFit=function(a){if(!(a>
this.rows.length-1)){for(var b=[],c=0;c<this.columns.length;c++){var f=this.getCell(c,a).boundingBox();f?b.push(f.y+f.h):b.push(0)}b=r.max(b);if(Ja.round2d(b)<=Ja.round2d(this._rows[a].size))return this.rows[a]=b,this.updateCellLayout({rows:this.rows})}};fa.prototype.adjustRowSize=function(a,b){this.rows[a]=b;return this.updateCellLayout({rows:this.rows})};fa.prototype.adjustColumnSize=function(a,b){this.columns[a]=b;return this.updateCellLayout({columns:this.columns})};fa.prototype.getCell=function(a,
b){return this._cellByIndex[this._getCellIndex(a,b)]};fa.prototype.getBaseScrollOffset=function(){var a=0,b=0,c=this.scene.getScrollOffset(),f=c[0],d=c[1];this._traverseGrid(function(c){var k=c.get("w"),m=c.get("h"),n=c.get("scrollX"),q=c.get("scrollY");if((c=c.boundingBox())&&(n||q))if(c.x+=f,c.y+=d,k=I.boundingBox([c,{x:0,y:0,w:k,h:m}]),n&&(a=Math.min(k.x,a)),q)return b=Math.min(k.y,b)});return[-a,-b]};fa.prototype.getFullSize=function(){if(!this.scene)return null;var a=this.rows.map(function(){return 0}),
b=this.columns.map(function(){return 0}),c=this.scene.getScrollOffset(),f=c[0],d=c[1];this._traverseGrid(function(c,k,m){var n=c.get("w"),q=c.get("h"),s=c.get("scrollX"),u=c.get("scrollY");if((c=c.boundingBox())&&(s||u))c.x+=f,c.y+=d,c=I.boundingBox([c,{x:0,y:0,w:n,h:q}]),s&&(n=c.w),u&&(q=c.h);a[m]+=n;return b[k]+=q});return[r.max(a),r.max(b)]};fa.prototype._refreshLayout=function(){this._updateIndex();this._refreshColumns();this._refreshRows();this._refreshCells();return this};fa.prototype._traverseGrid=
function(a){for(var b=[],c=0,f=this.columns.length,d=0<=f;d?c<f:c>f;d?c++:c--)for(var g=0,k=this.rows.length,m=0<=k;m?g<k:g>k;m?g++:g--)b.push(a(this.getCell(c,g),c,g));return b};fa.prototype._getCellIndex=function(a,b){return a+"/"+b};fa.prototype._getAvailableSize=function(){return this.scene.getAvailableSize()};fa.prototype._updateIndex=function(){var a=this;this._cellByIndex={};this.scene.getChildren().forEach(function(b){a._cellByIndex[a._getCellIndex(b.get("column"),b.get("row"))]=b});return this};
fa.prototype._refreshColumns=function(){return this._columns=this._assignLayout(this._getAvailableSize()[0],this.columns)};fa.prototype._refreshRows=function(){return this._rows=this._assignLayout(this._getAvailableSize()[1],this.rows)};fa.prototype._refreshCells=function(){var a=this;this._columns&&this._rows&&this._traverseGrid(function(b,c,f){return b.set({x:a._columns[c].pos,y:a._rows[f].pos,w:a._columns[c].size,h:a._rows[f].size})});return this};fa._normalizeRule=function(a){if(r.isNumber(a))return["px",
0<a?a:0];if(r.isString(a)&&"%"===r.last(a))return["%",parseInt(a,10)];throw Error("invalid rule "+JSON.stringify(a));};fa.prototype._assignLayout=function(a,b){null==a&&(a=0);null==b&&(b=[]);var c=0,f=b.map(fa._normalizeRule),d=a;f.forEach(function(a){var b=a[1];"%"===a[0]?c+=b:d-=b});var g=0<c&&0<d?d/c:0,k=0,m=[];f.forEach(function(a){var c=a[1];a="%"===a[0]?g*c:c;m.push({size:a,pos:k});k+=a});return m};fa.prototype.toJson=function(){return{columns:this.columns,rows:this.rows,_columns:this._columns,
_rows:this._rows}};fa.fromJson=function(a,b){null==b&&(b=!0);b&&(a=x.deepCopy(a));return new fa(a)};fa.initClass();var Vo,Xc=Vo={uniqueColumns:function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];var a=r.flatten(a),c=[],f=[];a.forEach(function(a){if(a){var b=a.getName();x.includes(c,b)||(c.push(b),f.push(a))}});return f},withoutColumns:function(a,b){if(!b)return a;b=x.ensureArray(b);a=x.ensureArray(a);return a.filter(function(a){return!x.includes(r.map(b,function(a){return a.getName()}),
a.getName())})},joinColumns:function(a){return r.map(a,function(a){return a.getName()}).join("-")},measuresDefaultTitle:function(a){return a.map(function(a){return Vo.defaultText(a.getLabel(),a.getName())}).filter(function(a){return a}).join(", ")},defaultText:function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return r.find(a)},sortColumns:function(a){return r.sortBy(a,function(a){return a.getName()})}},Cb={mergeDomains:function(a){var b=Infinity,c=-Infinity;a.forEach(function(a){if(a){var d=
a[0];a=a[1];d<b&&(b=d);a>c&&(c=a)}});return Infinity===b&&-Infinity===c?null:[b,c]},adjustDomain:function(a,b){var c=a[0],f=a[1];c===f&&(0===c?(f=[0,100],c=f[0],f=f[1]):0<c?(c*=0.8,f*=1.2):(c*=1.2,f*=0.8));return[c,f]},adjustMargin:function(a,b,c){var f=c.domain(),d=c.range();c=ha.linear().domain(a).range([b[0],d[1]-b[1]]).adjustRange([0,d[1]]);return[Math.max(c.scale(f[0]),0),Math.max(d[1]-c.scale(f[1]),0)]},alignTicks:function(a,b){for(var c=0,f=0,d=[],g,k,m=!1,n=0,q=[],s=[],u=0;u<a.length;u++){g=
a[u];var p=g[0];k=g[1];g=b[u];p=Math.ceil(p/g)*g;k=Math.floor(k/g)*g;0>=p&&0<=k&&(m=!0);q.push([p,k])}for(u=0;u<q.length;u++){g=q[u];var p=g[0],t=g[1];g=b[u];k=[-p/g,t/g];m?0<p?k=[0,t/g]:0>t&&(k=[-p/g,0]):0<p?k=[0,(t-p)/g]:0>t&&(k=[(t-p)/g,0]);f=Math.max(k[0],f);c=Math.max(k[1],c);n=Math.max(n,k[0]+k[1])}u=1;m||(f=c=Math.max(f,c));if(2<(m?f+c:f)-n)f=(f+f%2)/2,c=(c+c%2)/2,u=2;for(n=0;n<q.length;n++)g=q[n],p=g[0],k=g[1],g=b[n]*u,m?(p=-g*f,k=g*c):0<p?k=p+g*c:0>k&&(p=k-g*f),s.push([p,k]),d.push(g);return{aligned:!0,
domains:s,steps:d}},alignZerosForDomain:function(a,b,c){var f,d,g={aligned:!1,domains:a};if(2>a.length)return g;var k=[];if(b)return this.alignTicks(a,b);if(null!=c){d=c[0];c=c[1];if(!(0>d&&0<c))return g;d=c/(c-d);if(1<=d||0===d)return g}else{var m=Infinity,n=-Infinity,q=!1;for(c=0;c<a.length;c++){f=a[c];b=f[0];f=f[1];b<m&&(m=b);f>n&&(n=f);if(0===b||0===f)q=!0;if(0>b&&0<f){d=f/(f-b);break}}if(null==d){if(0>n||0<m)return g;0===m&&(d=1);0===n&&(d=0);if(null==d){if(!q)return g;d=0.5}}}for(c=0;c<a.length;c++)g=
a[c],b=g[0],f=g[1],g=f/(f-b),g>d&&(b=f*(1-1/d)),g<d&&(f=b*d/(d-1)),k.push([b,f]);return{aligned:!0,domains:k}},toAbsoluteDomain:function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];b=a[0];a=b[0];b=b[1];0>a&&(b=Math.max(Math.abs(a),Math.abs(b)),a=0);return[a,b]},getNumericDomain:function(a,b,c){var f=sa.getValueFctFromSingleField(b,c);return Ja.getMinMax(a.map(function(a){return f(a)}))},getOrdinalDomain:function(a,b){var c=Oa.rows2cols(a);b.isInternalOnly()&&(c=Oa.rows2cols(c[p.ROW_INTERNAL_KEY]));
(c=c[b.getName()])||(c=[void 0]);return x.uniq(c)}},Nk,Ok=Nk={convertConfigColors:function(a){var b=this;"dimension color x y plots plots.*".split(" ").forEach(function(c){b._convertDimConfig(a,c)});["measureAxis1","measureAxis2","x","y","measure"].forEach(function(c){b._convertMeasureAxisConfig(a,c)});["color"].forEach(function(c){b._convertColorConfig(a,c)});["plots.*.color"].forEach(function(c){b._convertDimConfig(a,c);b._convertColorConfig(a,c)});["plots"].forEach(function(c){b._convertPlotConfig(a,
c)});return Nk._convertConfigColors(a,"positiveColor negativeColor totalColor startColor ranges.bands.* ranges.bands.*.color gradient.range".split(" "))},_convertDimConfig:function(a,b){return this._convertConfigColors(a,[b+".column.*._hotSpots.*.colors.*",b+".column.*._valueColors.*"])},_convertPlotConfig:function(a,b){return this._convertConfigColors(a,[b+".*.color",b+".*.referenceLines.*.color"])},_convertColorConfig:function(a,b){return this._convertConfigColors(a,[b+".range",b+".bands.*.color",
b+".colors.*"])},_convertMeasureAxisConfig:function(a,b){return this._convertConfigColors(a,[b+".referenceLines.*.color"])},_convertConfigColors:function(a,b){var c=function(a,c){return a=Nk.scatter(a,c,function(a){return a&&("string"===typeof a||Array.isArray(a))?Vd.getInstance().getColor(a):a})};return b.forEach(function(b){return c(a,b)})},scatter:function(a,b,c){b=b.split(".");var f=function(a,b){if(a){if(b.length){var k=b[0];if("object"===typeof a){if(Array.isArray(a))return"*"===k?a=a.map(function(a){return f(a,
b.slice(1))}):a;("*"===k?r.keys(a):[k]).forEach(function(c){var k=f(a[c],b.slice(1));if(null!=k)return a[c]=k})}return a}return c(a)}return a};return f(a,b)},measures2Axes:function(a,b,c){if(!a.length)return{};for(var f=function(){if(b)switch(b){case p.AXIS_MODE.SYNC:return[a];case p.AXIS_MODE.DUAL:return[[a[0]],a.slice(1)];case p.AXIS_MODE.MULTI:return a.map(function(a){return[a]})}else{var c=r.filter(a,{axis:"axis2"});return c.length?[r.filter(a,function(a){return"axis2"!==a.axis}),c]:[a]}}(),d=
{},g=0;g<f.length;g++){var k="measureAxis"+(g+1);d[k]=this.measures2Axis(f[g],c?c[g]:void 0,k)}return d},measures2Axis:function(a,b,c){if(!(0>=(!a||a.length))){a.forEach(function(a){c&&(a.axis=c)});var f=Cb.mergeDomains(r.map(a,"domain"));null===f&&(f=void 0);var d=r.flatten(r.map(a,"referenceLines")).filter(function(a){return a});0===d.length&&(d=void 0);return{title:b,titleMaxLines:a[0].titleMaxLines||1,format:a[0].format,domain:f,referenceLines:d,scale:a[0].scale}}},measure2Axis:function(a,b){return!a?
void 0:this.measures2Axis([a],b)}},db=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.initClass=function(){this.type="Line";this.shapeEffectsProps=["fill","stroke"]};b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.x0=0;c.x1=0;c.y0=0;c.y1=0;c.stroke=void 0;c.fill=void 0;c.vertical=!1;c.baseYValue=0;c.baseXValue=0;c.dashed=0;c.lineWidth=1;c.curveFunction=void 0};
b.prototype.set=function(c,b,d){this._forceRecomputeBoundingBox();return a.prototype.set.call(this,c,b,d)};b.prototype.getPropertiesByScale=function(){return{x:["x0","x1","baseXValue"],y:["y0","y1","baseYValue"]}};b.prototype.rotate=function(){a.prototype.rotate.call(this);this._props.vertical=!this._props.vertical;var c;c=[this._props.y0,this._props.y1,-this._props.x0,-this._props.x1];this._props.x0=c[0];this._props.x1=c[1];this._props.y0=c[2];this._props.y1=c[3];c=[this._props.baseYValue,-this._props.baseXValue];
this._props.baseXValue=c[0];this._props.baseYValue=c[1];return this};b.prototype.offsetX=function(a){this._forceRecomputeBoundingBox();this._props.x0+=a;this._props.x1+=a;return this};b.prototype.offsetY=function(a){this._forceRecomputeBoundingBox();this._props.y0+=a;this._props.y1+=a;return this};b.prototype._computeTrueBoundingBox=function(){var a=this._props.x0,b=this._props.y0;this._props.fill&&(this._props.vertical?b=this._props.baseYValue:a=this._props.baseXValue);var d=Math.min(this._props.x0,
this._props.x1,a),a=Math.max(this._props.x0,this._props.x1,a),g=Math.min(this._props.y0,this._props.y1,b),b=Math.max(this._props.y0,this._props.y1,b);return new I({x:d,y:g,w:a-d,h:b-g})};return b}($a);db.initClass();var Ge=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.initClass=function(){this.type="Polygon";this.shapeEffectsProps=["fill","stroke"];this._sensitiveProps=new Za(["points","angle","points_x","points_y"])};
b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.key="Polygon";c.closePath=!0;c.vertical=!1;c.angle=0;c.x=0;c.y=0;c.stroke=void 0;c.fill=void 0;c.points=[];c.points_x=[];c.points_y=[];c.lineWidth=1;c.lineJoin="miter"};b.prototype._onChange=function(c){var b;a.prototype._onChange.call(this,c);if(b=c.points)b=b[0],this._forceRecomputeBoundingBox(),this._props.points_x=b.map(function(a){return a[0]}),this._props.points_y=b.map(function(a){return a[1]});
(c.points_x||c.points_y)&&this._forceRecomputeBoundingBox();c.angle&&null!=this._trueBoundingBox&&(this._trueBoundingBox.rotation=this.getRotation())};b.prototype._mapValue=function(c,b){b=a.prototype._mapValue.call(this,c,b);return"angle"===c?r.isNumber(b)?b:0:b};b.prototype.getRotation=function(){return this._props.angle?{x:this._props.x,y:this._props.y,angle:this._props.angle}:null};b.prototype.getPropertiesByScale=function(){return{x:["x","points_x"],y:["y","points_y"]}};b.prototype._computeTrueBoundingBox=
function(){if(this._props.points_x){var a=[r.min(this._props.points_x),r.max(this._props.points_x)],b=a[0],a=a[1],d=[r.min(this._props.points_y),r.max(this._props.points_y)],g=d[0];return new I({x:this._props.x+b,y:this._props.y+g,w:a-b,h:d[1]-g,rotation:this.getRotation()})}return null};b.prototype.area=function(a){a=x.zip(this._props.points_x,this._props.points_y);return Zc.area(a)};b.prototype.centroid=function(){var a=x.zip(this._props.points_x,this._props.points_y);return Zc.centroid(a)};b.prototype.offsetY=
function(c){a.prototype.offsetY.call(this,c);this._props.y+=c;return this};b.prototype.offsetX=function(c){a.prototype.offsetX.call(this,c);this._props.x+=c;return this};b.prototype.rotate=function(){this._props.vertical=!this._props.vertical;var c;c=[this._props.points_y,this._props.points_x];this._props.points_x=c[0];this._props.points_y=c[1];this._props.points_y=this._props.points_y.map(function(a){return-a});return a.prototype.rotate.call(this)};return b}($a);Ge.initClass();var ce=function(a){function b(c,
b){a.call(this,c,b)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.initClass=function(){this.type="Path";this.shapeEffectsProps=["fill","stroke"]};b.prototype.getPropertiesByScale=function(){return{x:["x","points_x","baseX"],y:["y","points_y","baseY"]}};b.prototype.get=function(c){return"points"===c?x.zip(this._props.points_x,this._props.points_y):a.prototype.get.call(this,c)};b.prototype.set=function(c,b,d){this._forceRecomputeBoundingBox();if("string"===
typeof c)if("points"===c)this._setPositions(b);else return a.prototype.set.apply(this,arguments);else return this._setPositions(c.points),delete c.points,a.prototype.set.apply(this,arguments);return this};b.prototype.rotate=function(){var c=this._props,b=c.x,d=c.y,g=c.points_x,k=c.points_y,m=c.baseX,c=c.baseY;g&&k&&(this._props.points_x=k,this._props.points_y=g.map(function(a){return-a}));if(null!=m||null!=c)this._props.baseX=c,this._props.baseY=-(null!=m?m:0);if(0!==b||0!==d)this._props.x=d,this._props.y=
-b;return a.prototype.rotate.call(this)};b.prototype.offsetX=function(a){this._props.x+=a;this._trueBoundingBox&&this._trueBoundingBox.offset(a,0);return this};b.prototype.offsetY=function(a){this._props.y+=a;this._trueBoundingBox&&this._trueBoundingBox.offset(0,a);return this};b.prototype.applyScales=function(c){c.x&&this._offsetPoints("x",!0);c.y&&this._offsetPoints("y",!0);a.prototype.applyScales.call(this,c);c.x&&this._offsetPoints("x",!1);c.y&&this._offsetPoints("y",!1);return this};b.prototype._offsetPoints=
function(a,b){for(var d=b?this._props[a]:-this._props[a],g="x"===a?this._props.points_x:this._props.points_y,k=0;k<g.length;++k)g[k]+=d};b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.x=0;c.y=0;c.points=[];c.points_x=[];c.points_y=[];c.stroke=void 0;c.fill=void 0;c.dashed=0;c.lineWidth=1;c.closePath=!1;c.baseX=void 0;c.baseY=void 0;c.lineJoin="round"};b.prototype._setPositions=function(a){if(a&&a.length){this._props.points_x=[];this._props.points_y=
[];for(var b=this._props,d=b.points_x,b=b.points_y,g=0;g<a.length;++g){var k=a[g];d[g]=k[0];b[g]=k[1]}}};b.prototype._computeTrueBoundingBox=function(){var a=this._props,b=a.x,d=a.y,g=a.points_x,a=a.points_y;if(g.length&&a.length){var k=Ja.getMinMax(g),g=k[0],k=k[1],a=Ja.getMinMax(a),m=a[0];return new I({x:b+g,y:d+m,w:k-g,h:a[1]-m})}return new I({x:0,y:0,w:0,h:0})};return b}($a);ce.initClass();var Ve=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&
a.prototype);b.prototype.constructor=b;b.initClass=function(){this.type="NumberText";this.shapeEffectsProps=["stroke","bgColor"];this._sensitiveProps=new Za(["number","format","compact","size","pivot"])};b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.format=void 0;c.compact=!0;c.number=void 0;return c.includeDescender=!1};b.prototype._onChange=function(c){a.prototype._onChange.call(this,c);if(c.number||c.format||c.compact){var b=null!=(null!=c.number?
c.number[0]:void 0)?null!=c.number?c.number[0]:void 0:this._props.number;c=Ya(null!=(null!=c.format?c.format[0]:void 0)?null!=c.format?c.format[0]:void 0:this._props.format,null!=(null!=c.compact?c.compact[0]:void 0)?null!=c.compact?c.compact[0]:void 0:this._props.compact);this._props.text=c(b)}};return b}(Ea);Ve.initClass();var Ub=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.initClass=function(){this.type=
"Point";this.shapeEffectsProps="fill stroke lineWidth r hidden texture".split(" ");this._sensitiveProps=new Za(["size","pivot"])};b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.key="Point";c.x=0;c.y=0;c.r=0;c.stroke=void 0;c.fill=void 0;c.lineWidth=1;c.texture=void 0;c.hidden=!1;c.showWhenCrossed=!1;c.isAccessible=!1};b.prototype.set=function(c,b,d){this._forceRecomputeBoundingBox();return a.prototype.set.call(this,c,b,d)};b.prototype.domainBox=
function(){return new I({x:this._props.x,y:this._props.y,w:0,h:0})};b.prototype.offsetY=function(c){a.prototype.offsetY.call(this,c);this._props.y+=c;return this};b.prototype.offsetX=function(c){a.prototype.offsetX.call(this,c);this._props.x+=c;return this};b.prototype.rotate=function(){a.prototype.rotate.call(this);var c;c=[this._props.y,-this._props.x];this._props.x=c[0];this._props.y=c[1];return this};b.prototype.getPropertiesByScale=function(){return{x:["x"],y:["y"],r:["r"]}};b.prototype.isVisible=
function(){return a.prototype.isVisible.call(this)&&!(!this._select&&this._props.hidden)};b.prototype._computeTrueBoundingBox=function(){return(new I({x:this._props.x-this._props.r,y:this._props.y-this._props.r,w:2*this._props.r,h:2*this._props.r})).padAll(this._props.stroke?this._props.lineWidth/2:0)};return b}($a);Ub.initClass();var ua=function(a,b){this._name=a;this._label=b;this._internalOnly=!1};ua.prototype.getName=function(){return this._name};ua.prototype.setType=function(a){this._type=a;
return this};ua.prototype.getDataType=function(){return this._dataType};ua.prototype.setDataType=function(a){this._dataType=a;return this};ua.prototype.getType=function(){return this._type};ua.prototype.setLabel=function(a){this._label=a;return this};ua.prototype.getLabel=function(){return this._label};ua.prototype.setValueLabels=function(a){this._valueLabels=a;return this};ua.prototype.getValueLabels=function(){return this._valueLabels};ua.prototype.setValueColors=function(a){this._valueColors=a;
return this};ua.prototype.getValueColors=function(){return this._valueColors};ua.prototype.setIsAllNull=function(a){this._isAllNull=a;return this};ua.prototype.isAllNull=function(){return this._isAllNull};ua.prototype.setInternalOnly=function(a){this._internalOnly=a;return this};ua.prototype.isInternalOnly=function(){return this._internalOnly};ua.prototype.setInternalColumnName=function(a){this._internalColumnName=a;return this};ua.prototype.getInternalColumnName=function(){return this.isInternalOnly()?
this._name:this._internalColumnName};ua.prototype.toJson=function(){var a={};a.name=this._name;a.type=this._type;a.internalOnly=this._internalOnly;this._label&&(a.label=this._label);this._isAllNull&&(a.isAllNull=this._isAllNull);this._valueLabels&&(a.valueLabels=this._valueLabels);this._valueColors&&(a.valueColors=this._valueColors);this._internalColumnName&&(a.internalColumnName=this._internalColumnName);return a};var wv=p.COLUMN_TYPE,wg=function(a){function b(c,b){a.call(this,c,b);this.setType(wv.DIMENSION)}
a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.setCardinality=function(a){this._cardinality=a;return this};b.prototype.getCardinality=function(){return this._cardinality};b.prototype.setHotSpots=function(a){this._hotSpots=a;return this};b.prototype.getHotSpots=function(){return this._hotSpots};b.prototype.setGeoKey=function(a){this._geoKey=a;return this};b.prototype.getGeoKey=function(){return this._geoKey};b.prototype.toJson=function(){var c=this._cardinality,
b=this._hotSpots,d=this._geoKey,g=a.prototype.toJson.call(this);c&&(g.cardinality=c);b&&(g.hotSpots=b);d&&(g.geoKey=d);return g};return b}(ua),xv=p.COLUMN_TYPE,li=function(a){function b(c,b){a.call(this,c,b);this.setType(xv.MEASURE)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.setFormat=function(a){this._format=a;return this};b.prototype.getFormat=function(){return this._format};b.prototype.setPercentFormat=function(a){this._percentFormat=a;return this};
b.prototype.getPercentFormat=function(){return this._percentFormat};b.prototype.setDomain=function(a){this._domain=a;return this};b.prototype.getDomain=function(){return this._domain};b.prototype.toJson=function(){var c=this._format,b=this._percentFormat,d=this._domain,g=a.prototype.toJson.call(this);c&&(g.format=c);b&&(g.percentFormat=b);d&&(g.domain=d);return g};return b}(ua),yv=p.COLUMN_TYPE,Wo=function(a){function b(c,b){a.call(this,c,b);this.setType(yv.TIME);this.setGranularity(p.TIME_GRANULARITY.MILLISECOND);
this.setFirstDayOfWeek(-1)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.setFormat=function(a){this._format=a;return this};b.prototype.getFormat=function(){return this._format};b.prototype.setTimeZone=function(a){this._timeZone=a;return this};b.prototype.getTimeZone=function(){return this._timeZone};b.prototype.setDataFormat=function(a){this._dataFormat=a;return this};b.prototype.getDataFormat=function(){return this._dataFormat};b.prototype.setGranularity=
function(a){a&&(this._dataGranularity=a);return this};b.prototype.getGranularity=function(){return this._dataGranularity};b.prototype.setFiscalGranularity=function(a){this._fiscalGranularity=a;return this};b.prototype.getFiscalGranularity=function(){return this._fiscalGranularity};b.prototype.setIsFiscalTime=function(a){this._isFiscalTime=a;return this};b.prototype.isFiscalTime=function(){return this._isFiscalTime};b.prototype.setFirstDayOfWeek=function(a){this._firstDayOfWeek=a;return this};b.prototype.getFirstDayOfWeek=
function(){return this._firstDayOfWeek};b.prototype.setDataSeparator=function(a){this._dataSeparator=a;return this};b.prototype.getDataSeparator=function(){return this._dataSeparator};b.prototype.setParser=function(a){this._parser=a;return this};b.prototype.getParser=function(){return this._parser};b.prototype.setFormatter=function(a){this._formatter=a;return this};b.prototype.getFormatter=function(){return this._formatter};b.prototype.setIsDiscrete=function(a){this._isDiscrete=a;return this};b.prototype.isDiscrete=
function(){return this._isDiscrete};b.prototype.toJson=function(){var c=this._format,b=this._dataSeparator,d=this._dataFormat,g=this._dataGranularity,k=this._firstDayOfWeek,m=this._timeZone,n=a.prototype.toJson.call(this);c&&(n.format=c);b&&(n.dataSeparator=b);d&&(n.dataFormat=d);g&&(n.dataGranularity=g);k&&(n.firstDay=k);m&&(n.timeZone=m);return n};return b}(wg),zv=p.COLUMN_TYPE,nn=function(a){function b(c,b){a.call(this,c,b);this.setType(zv.GEO)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);
b.prototype.constructor=b;b.prototype.setGeoMap=function(a){this._geoMap=a;return this};b.prototype.getGeoMap=function(){return this._geoMap};b.prototype.toJson=function(){var c=this._geoMap,b=a.prototype.toJson.call(this);c&&(b.geoMap=c);return b};return b}(wg),Pk=p.COLUMN_TYPE,Qk=null,We=function(){};We.prototype.buildColumn=function(a){switch(a.type){case Pk.TIME:return this._buildTimeColumn(a);case Pk.MEASURE:return this._buildMeasureColumn(a);case Pk.GEO:return this._buildGeoColumn(a);default:return this._buildDimensionColumn(a)}};
We.prototype._buildGeoColumn=function(a){return(new nn(a.column,a.label)).setHotSpots(a.hotSpots).setValueColors(a.valueColors).setGeoKey(a.geoKey).setValueLabels(a.valueLabels).setGeoMap(a.geoMap).setCardinality(a.cardinality)};We.prototype._buildDimensionColumn=function(a){return(new wg(a.column,a.label)).setHotSpots(a.hotSpots).setValueColors(a.valueColors).setGeoKey(a.geoKey).setValueLabels(a.valueLabels).setDataType(a.dataType).setCardinality(a.cardinality)};We.prototype._buildMeasureColumn=
function(a){return(new li(a.column,a.label)).setFormat(a.format).setPercentFormat(a.percentFormat).setDomain(a.domain)};We.prototype._buildTimeColumn=function(a){var b=a.dataFormat,c=a.format,f=a.firstDayOfWeek,d=a.dataSeparator,g=a.dataGranularity,k=a.fiscalGranularity,m=a.timeZone;return(new Wo(a.column,a.label)).setFormat(c).setDataFormat(b).setGranularity(g).setFiscalGranularity(k).setFirstDayOfWeek(f).setDataSeparator(d).setTimeZone(m).setHotSpots(a.hotSpots).setValueColors(a.valueColors).setValueLabels(a.valueLabels).setCardinality(a.cardinality).setParser(ra.getParser(b,
f,d,g,k,m)).setFormatter(ra.getFormatter(c||b,f,d,g,k,m)).setIsDiscrete(ra.isDiscreteTimeFormat(b)).setIsFiscalTime(ra.isFiscalTimeFormat(b))};var Rk={getInstance:function(){null==Qk&&(Qk=new We);return Qk}},Zb=function(a){this._columns=a.map(function(a){return Rk.getInstance().buildColumn(a)});this._columnMap=this._buildColumnMap(this._columns)};Zb.prototype.setColumns=function(a){this._columns=a;this._columnMap=this._buildColumnMap(this._columns);return this};Zb.prototype._buildColumnMap=function(a){var b=
{};a.forEach(function(a){return b[a.getName()]=a});return b};Zb.prototype.getColumns=function(a){var b=this;return!a?this._columns:a.map(function(a){return b.getColumn(a)}).filter(function(a){return a})};Zb.prototype.getColumn=function(a){return this._columnMap[a]};Zb.prototype.getColumnsByType=function(a){return this._columns.filter(function(b){return b.getType()===a})};Zb.prototype.toJson=function(){return{columns:this._columns.map(function(a){return a.toJson()})}};Zb.fromJson=function(a){var b=
new Zb([]);a.columns&&(a=a.columns.map(function(a){return Rk.getInstance().buildColumn(a)}),b.setColumns(a));return b};var mi=p.COLUMN_TYPE,Jb=function(){};Jb.prototype.formatRow=function(a,b){a=Oa.getRowWithoutInternalValue(a);var c=[],f;for(f in a)if(a[f]){var d=this.formatColumn(f,a[f],b);d&&c.push(d)}return c};Jb.prototype.formatPercentData=function(a,b){var c=this,f=Oa.getRowInternalField(a,p.PERCENTAGE_INFO_KEY);if(!f)return null;var d=f.groups,f=f.measures,g=[];d&&(g=d.map(function(f){return c.formatColumnValue(a[f],
b&&b.getColumn(f))}));return{measures:f,group:g.join(" - ")}};Jb.prototype.isPercentFormat=function(a){null==a&&(a=["",1]);return-1!==(a[0]||"").indexOf("%")};Jb.prototype.formatPercentValue=function(a,b){var c=b&&b.getPercentFormat()||p.FORMAT.PERCENT.MEASURE;return Ya(c)(a)};Jb.prototype.formatText=function(a,b,c){b=b.replace("\\[","\x26#91;").replace("\\]","\x26#93;");for(var f;f=/\[([^[\]]*)\]/.exec(b);){var d=f[1],d=this.formatColumn(d,a[d],c);b=b.replace(f[0],d.value)}return b=b.replace("\x26#91;",
"[").replace("\x26#93;","]")};Jb.prototype.formatColumn=function(a,b,c,f){var d=(c=c&&c.getColumn(a))&&c.getType();b=null==b?W.getLabel("@salesforce/charts","nullLabel"):this.formatColumnValue(b,c);b={label:this.formatColumnName(c),value:b,type:d};d===mi.MEASURE&&(d=c&&c.getFormat(),f&&(f.measures&&f.measures[a]&&!this.isPercentFormat(d))&&(a=f.measures[a],d=a.total,b.percentData={group:f.group,percent:this.formatPercentValue(a.percent,c),total:this.formatMeasureValue(d,c,!0)}));return b};Jb.prototype.formatColumnName=
function(a){if(a){var b=a.getName();a=a.getLabel();return void 0!==a?a:b}};Jb.prototype.formatColumnValue=function(a,b,c){switch(b&&b.getType()){case mi.DIMENSION:return this.formatDimensionValue(a,b);case mi.MEASURE:return this.formatMeasureValue(a,b);case mi.TIME:return this.formatTimeValue(a,b);default:return this._fallbackFormatValue(a,b,c)}};Jb.prototype._fallbackFormatValue=function(a,b,c){return r.isNumber(a)?this.formatMeasureValue(a,b,c):this.formatDimensionValue(a,b)};Jb.prototype.formatDimensionValue=
function(a,b){if(!b)return a;var c=b.getValueLabels(),f=null==a?W.getLabel("@salesforce/charts","nullLabel"):a;return c?(c=c[a],void 0!==c?c:f):f};Jb.prototype.formatMeasureValue=function(a,b,c){b=b&&b.getFormat();return Ya(b,c)(a)};Jb.prototype.formatTimeValue=function(a,b){var c=b.getDataFormat(),f=b.getFormat(),d=b.getValueLabels(),g=b.getFirstDayOfWeek(),k=b.getDataSeparator(),m=b.getGranularity(),n=b.getFiscalGranularity(),q=b.getTimeZone();if(d&&d[a])return d[a];if(!f)return a;f=b.getFormatter()||
ra.getFormatter(f||c,g,k,m,n,q);if(r.isNumber(a))return f(a);if(null==a)return"";c=(b.parser||ra.getParser(c,g,k,m,n,q))(a);return null==c||isNaN(c.valueOf())?a:f(c)};var zd=pa(Jb),Av=function(a,b){this.interval=a;this.value=b;this.n=1;this.max=a.max},Fa=function(){};Fa.prototype.get=function(a){return this._get(this.root,a)};Fa.prototype.put=function(a,b){this.root=this._insert(this.root,a,b)};Fa.prototype.remove=function(a){var b=this.get(a);this.root=this._remove(this.root,a);return b};Fa.prototype.search=
function(a){return this._search(this.root,a)};Fa.prototype.size=function(){return this._size(this.root)};Fa.prototype._get=function(a,b){if(!a)return null;var c=this._compareTo(b,a.interval);return 0>c?this._get(a.left,b):0<c?this._get(a.right,b):a.value};Fa.prototype._insert=function(a,b,c){if(!a)return new Av(b,c);0>this._compareTo(b,a.interval)?a.left=this._insert(a.left,b,c):a.right=this._insert(a.right,b,c);this._updateCountAndMax(a);return a};Fa.prototype._remove=function(a,b){if(!a)return null;
var c=this._compareTo(b,a.interval);0>c?a.left=this._remove(a.left,b):0<c?a.right=this._remove(a.right,b):a=this._joinLR(a.left,a.right);this._updateCountAndMax(a);return a};Fa.prototype._search=function(a,b){for(;a;){if(this._intersects(b,a.interval))return a.interval;a=a.left?a.left.max<b.min?a.right:a.left:a.right}return null};Fa.prototype._size=function(a){return a?a.n:0};Fa.prototype._intersects=function(a,b){return b.max<a.min||a.max<b.min?!1:!0};Fa.prototype._compareTo=function(a,b){return a.min<
b.min?-1:a.min>b.min?1:a.max<b.max?-1:a.max>b.max?1:0};Fa.prototype._joinLR=function(a,b){if(!a)return b;if(!b)return a;if(Math.random()*(this._size(a)+this._size(b))<this._size(a))return a.right=this._joinLR(a.right,b),this._updateCountAndMax(a),a;b.left=this._joinLR(a,b.left);this._updateCountAndMax(b);return b};Fa.prototype._updateCountAndMax=function(a){a&&(a.n=1+this._size(a.left)+this._size(a.right),a.max=this._max3(a.interval.max,this._max(a.left),this._max(a.right)))};Fa.prototype._max=function(a){return!a?
Number.MIN_SAFE_INTEGER:a.max};Fa.prototype._max3=function(a,b,c){return Math.max(a,Math.max(b,c))};var Xo=zd.getInstance(),Yo=function(a,b,c,f,d){var g=f-2*d;a=c?r.every(a,function(a){return Da.getDelegate().getTextWidth(a.get("text"))<=g}):!1;return{displayText:a?!0:b<=g+0.1,textRotate:a}},vb={adjustLineFill:function(a,b,c,f,d){var g;a=x.ensureArray(a);var k=!f?(g=d.domain(),0<g[0]?g[0]:0>g[1]?g[1]:0):0,k=d.scale(k);a.forEach(function(a){a.find({type:"Path"}).forEach(function(a){a.set({fill:a.get("fill")||
a.get("stroke").adjustOpacity(c)});return a.set(b?{baseY:k}:{baseX:k})})})},adjustBarText:function(a,b,c,f,d){a=x.ensureArray(a);a=r.flatten(a.map(function(a){return a.find({type:"Rect"})}));b=Yo(a,d,b,c,f);c=b.textRotate;var g=b.displayText?{textRotate:c}:{text:null};a.forEach(function(a){return a.set(g)})},adjustStackTotalText:function(a,b,c,f,d){a=a.find({type:"Text"});c=Yo(a,d,b,c,f);b=c.textRotate;var g;c.displayText?b&&(c=p.STACKBAR_TOTAL.PADDING,g={vertical:b,valign:"top",halign:"center",padding:{top:c,
bottom:c}}):g={text:""};a.forEach(function(a){return a.set(g)})},adjustLineLabels:function(a){if(!(2>a.length)){for(var b=[],c=0;c<a.length;c++){var f=a[c],d=f.text,g=d.get("x"),k=d.get("y"),m=d.get("vertical"),n=m?d.getTextW():d.getTextH(),m=m?d.getTextH():d.getTextW(),d=g-m/2,g=g+m/2,m=k+n/2,q=f.point.key;b.push({y:k-n/2,yMax:m,xMin:d,xMax:g,key:q,labelInfo:f});b.push({y:m,yMax:m,xMin:d,xMax:g,key:q})}b.sort(function(a,c){return a.y-c.y});a=new Fa;for(c=0;c<b.length;c++)f=b[c],k=f.key,n=f.labelInfo,
d={min:f.xMin,max:f.xMax},f.y===f.yMax?a.get(d)===k&&a.remove(d):a.search(d)?n.text.set({opacity:0}):a.put(d,k)}},adjustPointFill:function(a,b,c,f){if(void 0!==c)if(b&&!b.isConstant()){var d=b.getField();a.forEach(function(a){var b=0>a.get("data").row[d.getName()]?f:c;a.set({fill:a.get("fill").adjustOpacity(b)})})}else a.forEach(function(a){a.set({fill:a.get("fill").adjustOpacity(c)})})},truncateColumns:function(a,b){var c=Ja.sum(a)-b;if(0>=c)return null;1<a.length&&(c+=1);for(var f=a.map(function(a,
c){return{index:c,size:a}}).sort(function(a,c){return c.size-a.size}),d=r.map(f,"size"),g=0;g<f.length;g++){var k=(Ja.sum(d.slice(0,g+1||void 0))-c)/(g+1);if(k>=(g===f.length-1?0:f[g+1].size)){for(var c={},d=0,m=0<=g;m?d<=g:d>=g;m?d++:d--)c[f[d].index]=k;return c}}return null},getFormatInfo:function(a,b){var c=p.VALUETYPE,f=c.COMPACT_NUMBER,d=c.PERCENT,g=c.NUMBER,c=c.NONE,k=b.getFormat(),m=k&&k[2]&&k[2].compactDecimalDigits,n=Xo.isPercentFormat(k),m=a===f&&(!n||0<=m);a=Xo.isPercentFormat(k)&&a!==
c||a===g?f:a;var f=a===d?b.getPercentFormat()||p.FORMAT.PERCENT.MEASURE:b.getFormat()||[null,1],q=Ya(f,m);return{keySuffix:(f[0]||"")+f[1]+m,format:f,valueType:a,compact:m,formatter:q,textFct:function(c){switch(a){case p.VALUETYPE.NONE:return"";case p.VALUETYPE.PERCENT:return q($h.getDataInfoForMeasure(c,b.getName()).percent);default:return q(c[b.getName()])}}}},getTextWidth:function(a,b){return Da.getDelegate().getTextWidth(a,b)},getTextHeight:function(a){return Da.getDelegate().getRealFontSize(a)},
rotateBuilderFct:function(a){return function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];var c=b[0].cell,f=c.getScene();c.set({w:c.get("h"),h:c.get("w")});f.get("transforms").rotate=!f.get("transforms").rotate;b=a.apply(void 0,b);c.set({w:c.get("h"),h:c.get("w")});f.get("transforms").rotate=!f.get("transforms").rotate;if(b)return b.rotate()}},getMeasureAxisCellHeight:function(a,b){var c=qk.getFormatParts(444.4,a&&a[0]),f=c.prefix,c=c.suffix,d=Ya(void 0,!0,!0)(444.4);return Da.getDelegate().getTextWidth(f+
d+"M"+c)}},Sk,Tk=p.TEXT_SIZE,Zo=p.TOTAL_SUM_MODE,$o=p.STACKBAR_TOTAL,Bv=function(a){if(a.data)return a;a.data={value:function(a){return{row:a}}};return a},Uk=function(a,b,c,f){f||(f=new Ga({canSelect:!0,canHover:!0,key:"plot"}));var d=sa.getValueMapFct(Bv(b));c.forEach(function(c){(new a(d(c))).appendTo(f)});return f},wb=function(a,b,c){var f=r.pick(a,"key x y r fill stroke lineWidth accessibility data selectionShapeEffect".split(" "));b=Uk(Ub,f,b,c);c||(b.set({zIndex:0,axisOptions:a.axisOptions}),
c=b);return c},ep=function(a,b,c,f,d,g,k){var m;if(!(4<++k))return b===$b.topRight&&(0<=Math.ceil(a.get("y")+c.y-g.sizeY/2-2)||(ap(c,g),0<=Math.ceil(a.get("y")+c.y-g.sizeY/2-2)||(c.y=2+g.sizeY/2-a.get("y"))),m=$b.left),b===$b.left&&(0<=Math.ceil(a.get("x")+c.x-g.sizeX/2-2)||(bp(c,g),0<=Math.ceil(a.get("x")+c.x-g.sizeX/2-2)||(c.x=2+g.sizeX/2-a.get("x"))),m=$b.bottomRight),b===$b.bottomRight&&(f.h>=Math.ceil(a.get("y")+c.y+g.sizeY/2+2)||(cp(c,g),f.h>=Math.ceil(a.get("y")+c.y+g.sizeY/2+2)||(c.y=f.h-
2-g.sizeY/2-a.get("y"))),m=$b.right),b===$b.right&&(f.w>=Math.ceil(a.get("x")+c.x+g.sizeX/2+2)||(dp(c,g),f.w>=Math.ceil(a.get("x")+c.x+g.sizeX/2+2)||(c.x=f.w-2-g.sizeX/2-a.get("x"))),m=$b.topRight),ep(a,m,c,f,d,g,k)},ap=function(a){a.x=-a.xd;a.y=0;return $b.left},cp=function(a){a.x=a.xd;a.y=0;return $b.right},bp=function(a){a.x=a.xr;a.y=a.yr;return $b.bottomRight},dp=function(a){a.x=a.xr;a.y=-a.yr;return $b.topRight},$b={left:0,right:1,bottomRight:2,topRight:3},Cc={line:function(a,b){var c=r.pick(a,
["key","x","y","stroke","data"]),f=a.accessibility,d=a.categories,g=a.missingValue,k=a.pointRadius,m=a.showPoints,n=g===p.MISSING_VALUE.CONNECT,q=g===p.MISSING_VALUE.DISCONNECT,s=g===p.MISSING_VALUE.CUMULATIVE,u=s||g===p.MISSING_VALUE.CUMULATIVE_UNTIL_LAST_DATA,g=[(new Ub).get("selectionShapeEffect"),ii.getDescriptor()];c.r={value:k};c.fill=c.stroke;c.selectionShapeEffect={value:g};f&&(c.accessibility=f);delete c.stroke;var A,t=[];if(!n&&d&&(A=sa.getValueFct({field:a.y.field},a.y.useParsedData),u)){f=
Object.keys(d);k=0;for(g=f.length;k<g;k++){var w=f[k];t[d[w]]=w}}c=Uk(Ub,c,b).set({zIndex:1,staggerAnim:!1,axisOptions:a.axisOptions});c.groupByField(a.lines?a.lines.field:null).forEach(function(c,b){var f=c.sortBy(function(a){return a.get("y")}).getChildren().map(function(a){return a.set({hidden:!m,showWhenCrossed:!m,isAccessible:!0,opacity:m?1:0})}),g=[f];if(1<f.length||f.length&&u){if(!n&&d){for(var g=[[f[0]]],k,p,r,w=a.y.scale,L=1;L<f.length;++L){r=g[g.length-1];var x=f[L],sb=f[L-1];p=k||d[A(sb.get("data").row)];
k=d[A(x.get("data").row)];1===k-p?r.push(x):q?g.push([x]):u&&(r.push(new Ub({key:"cumulative"+L,x:sb.get("x"),y:w.scale(t[k-1])})),r.push(x))}s&&(f=f[f.length-1],d[A(f.get("data").row)]<t.length-1&&g[0].push(new Ub({key:"cumulative-end",x:f.get("x"),y:w.scale(t[t.length-1])})))}g.forEach(function(b,f){var d={points:b.map(function(a){return[a.get("x"),a.get("y")]}),stroke:b[0].get("fill"),lineWidth:a.lineWidth,dashed:a.dashed,canSelect:!1,key:"measure-path-"+b[0].get("key")+"-"+b[b.length-1].get("key")+
"-"+f,canHover:!1};(new ce(d)).prependTo(c)})}g.filter(function(a){return 1===a.length}).forEach(function(a){return a[0].set({hidden:!1,showWhenCrossed:!1,isAccessible:!0,opacity:1})})}).flatten();return c},point:wb,rect:function(a,b){var c=r.pick(a,"key x y w h text fill textInside stretchX stretchY textCenter textColorLight textColorDark accessibility data hoverPadding stroke lineWidth vertical textRotate".split(" ")),f=Uk(qc,c,b).set({zIndex:0,axisOptions:a.axisOptions}),d=c.text;d&&f.getChildren().forEach(function(a){return a.set({text:d(a.get("data").row)})});
var g=a.stackTotal,k=a.textColorDark,m=a.textColorLight;g&&g.totalSumMode!==Zo.NONE&&(f.groupByField(g.field).forEach(function(a){var c=a.getChildren(),b=c.map(function(a){return a.get("x")+a.get("w")}),b=Math.max.apply(Math,b),d=c[0],p=d.get("y")+d.get("h")/2,d=d.get("data"),t=d.column,d=d.row,c=g.totalSumMode===Zo.NET?c.reduce(function(a,c){return a+c.get("data").row[t]},0):$h.getDataInfoForMeasure(d,t).total;new Ea({key:a.key+"-StackTotal",layer:f,text:g.formatter(c),x:Math.max(0,b),y:p,stroke:g.backgroundColor.toHighContrast(m.value,
k.value),valign:"middle",halign:"left",padding:{left:$o.PADDING,right:$o.PADDING},size:Tk,includeDescender:!1,skipInFind:!0})}),f.flatten());return f},area:function(a,b,c,f){var d={},g=b.groups?sa.getValueFct(b.groups):function(a){return"default"};delete b.groups;b.high={field:a[0]};b.low={field:a[1]};var k=sa.getValueMapFct(b);c.forEach(function(a){var c=k(a),b=c.high,f=c.low,p=c.y,c=c.stroke;a=g(a);a=d[a]=d[a]||{high:[],low:[]};void 0!==p&&(void 0!==b&&a.high.push([b,p]),void 0!==f&&a.low.push([f,
p]));a.fill=c});r.values(d).forEach(function(a,c){var b=a.high,d=a.low,g=r.sortBy(b,function(a){return a[1]}).concat(r.sortBy(d,function(a){return-a[1]}));0<b.length&&(0<d.length&&2<b.length+d.length)&&(new ce({key:"area-"+c,lineWidth:0,fill:a.fill.adjustOpacity(0.4),stroke:a.fill,points:g,canHover:!1,closePath:!0})).prependTo(f)})},addInnerText:function(a){var b=a.centerText,c=a.theme,f=a.innerRadius,d=a.format,g=a.number,k=a.centerValueType===p.CENTER_VALUE_TYPE.TEXT,m=null==a.compact?!0:a.compact,
n=new Ga({key:"plot"});n.set({x:a.x,y:a.y,accessibility:{type:p.ACCESSIBILITY.TYPE.CAPTION,key:p.ACCESSIBILITY.CAPTION_KEY.TOTAL,value:k?b:Ya(d,!0)(g)}});c={stroke:c.getBackgroundColor().toHighContrast(c.getTextColorOnLight(),c.getTextColorOnDark()),halign:"center",valign:"middle",size:Math.round(f/3)};a=!1;k?(r.extend(c,{key:"centerText",text:void 0!==b?b:""}),a=!0,b=new Ea(c)):(r.extend(c,{key:"total",skipInFind:!0,format:d,number:g,compact:m}),a=!m,b=new Ve(c));a&&b.fitToSize(2*f-12,f/2,12,f/3).set({maxWidth:2*
f-10});b.appendTo(n);return n},addValueText:function(a,b,c){if(b){var f=c.theme,d=c.transforms,g=[];a.getChildren().forEach(function(a){g.push(a);var c=a.get("r"),c=Math.round(c/2);if(10<c){var n=a.get("data").row[b.getName()];a=new Ve({key:a.key+"_text",number:n,format:b.getFormat(),compact:!0,x:a.get("x"),y:a.get("y"),stroke:0<=n?a.get("stroke").toHighContrast(f.getTextColorOnLight(),f.getTextColorOnDark()):a.get("stroke"),size:c,valign:"middle",halign:"center",skipInFind:!0,vertical:d.rotate});
g.push(a)}});a.removeAll();a.appendAll(g)}},addPointValueLabel:function(a,b,c,f,d,g){var k=a.find({type:"Point"});f=vb.getFormatInfo(f,d).textFct;b=b.getBackgroundColor().toHighContrast(b.getTextColorOnLight(),b.getTextColorOnDark());d=[];for(var m=0;m<k.length;m++){wb=k[m];var n=new Ea({key:wb.key+"-pvalue",layer:a,text:f(k[m].get("data").row),stroke:b,valign:"middle",halign:"center",size:Tk,includeDescender:!1,skipInFind:!0,vertical:c}),q,s=m,p=k,r=n;q=g;var t=c;wb=p[s];var w=p[s-1],s=p[s+1],r=
{sizeX:t?r.getTextH():r.getTextW(),sizeY:t?r.getTextW():r.getTextH(),padding:!wb.get("hidden")?wb.get("r")+2:3},p={x:null,y:null,xd:r.sizeX/2+r.padding,yd:r.sizeY/2+r.padding,xr:r.sizeX/2+r.padding/Math.sqrt(2),yr:r.sizeY/2+r.padding/Math.sqrt(2)},z=void 0,v=void 0;if(w){var y=wb.get("x")-w.get("x");y&&(z=(wb.get("y")-w.get("y"))/y)}s&&(w=wb.get("x")-s.get("x"))&&(v=(wb.get("y")-s.get("y"))/w);w=void 0;w=0<z?0<v?dp(p):cp(p):0<v?ap(p):bp(p);ep(wb,w,p,q,t,r,0);q=p;n.set({x:wb.get("x")+q.x,y:wb.get("y")+
q.y});d.push({text:n,point:wb})}return d},adjustLineFill:vb.adjustLineFill,adjustPointFill:vb.adjustPointFill,adjustBarText:vb.adjustBarText,adjustStackTotalText:vb.adjustStackTotalText,adjustLineLabels:vb.adjustLineLabels,truncateColumns:vb.truncateColumns,getFormatInfo:vb.getFormatInfo,getTextWidth:vb.getTextWidth,getTextHeight:vb.getTextHeight,getDefaultFontSize:function(){return vb.getTextHeight(Tk)},getMinFontSize:function(){return vb.getTextHeight(p.MIN_FONT_SIZE)},rotateBuilderFct:vb.rotateBuilderFct,
getMeasureAxisCellHeight:vb.getMeasureAxisCellHeight,applyHoverPadding:function(a,b,c){void 0===c&&(c=!0);a.getChildren().forEach(function(a){a=a._props;var d=b.hoverPadding-a.w,g=b.transforms.rotate;0<d&&(g=g?c?"top":"bottom":c?"right":"left",a.hoverPadding=(Sk={},Sk[g]=d,Sk))})},reorderPlots:function(a){return r.sortBy(a,function(a){return a.mark})}},fp=p.COLOR_TYPE,sh={getColor:function(a){return a.getType&&(a.getType()===fp.SIMPLE_COLOR||a.getType()===fp.LINEAR_GRADIENT)?a:Vd.getInstance().getColor(a)},
isColor:function(a){return a instanceof D||a instanceof F},isValidColorConfig:function(a){return null!=a&&(this.isColor(a)||a.column&&0<a.column.length)}},As=td.getInstance().getDefaultTheme(),Bs=100,Cs=2,gp={xRefLines:bn,yRefLines:Cc.rotateBuilderFct(bn),getValidReferenceLines:function(a){return a.map(function(a){a.value&&r.isString(a.value)&&(console.warn('EclairNG: Got string for referenceLine "value": '+a.value+'. "value" should be a number.'),a.value=parseFloat(a.value));return a}).filter(function(a){return r.isFinite(a.value)})}},
xg=p.CHART_LAYOUT.COLOR_TYPE,ni=p.COLUMN_TYPE,de=p.VALUETYPE,ac={traverseConfigSections:function(a,b,c){th(a,b,c)},getColumns:function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];return uh(a,b)},getDimensionColumns:function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];return uh(a,b,ni.DIMENSION)},getMeasureColumns:function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];return uh(a,b,ni.MEASURE)},getTimeColumns:function(a){for(var b=[],c=arguments.length-
1;0<c--;)b[c]=arguments[c+1];return uh(a,b,ni.TIME)},createInternalKeyColumn:function(){return this.createInternalColumn("$$KEY")},createInternalColumn:function(a){return(new wg(a)).setInternalOnly(!0)},sanitizeAxis:function(a,b,c){b.length?(a.title=c?Xc.defaultText(a.title,Xc.measuresDefaultTitle(b)):a.title||b.map(function(a){return Xc.defaultText(a.getLabel(),a.getName())}),c&&(a.format=a.format||b[0].getFormat())):(a.showAxis=!1,a.showTitle=!1);if(!r.isNumber(a.labelsDepth)||1>a.labelsDepth)a.labelsDepth=
b.length;if(b&&b.length){var f=b[0];a.predictiveLine&&(void 0===a.predictiveLine.lineStyleAfter&&(a.predictiveLine.lineStyleAfter="dashed"),!a.predictiveLine.time&&!f.isFiscalTime()&&(a.predictiveLine.time=Date.now(),f.getDataFormat()&&(a.predictiveLine.time=ra.getFormatter(f.getDataFormat(),f.getFirstDayOfWeek(),f.getDataSeparator())(a.predictiveLine.time))),cn([a.predictiveLine],f.getParser()));if(a.domain&&f.getType()===p.COLUMN_TYPE.TIME){var d=f.getParser();a.domain=a.domain.map(function(a){return d(a)})}a.referenceLines&&
(c&&(a.referenceLines=gp.getValidReferenceLines(a.referenceLines)),b[0].getType()===ni.TIME&&cn(a.referenceLines,b[0].getParser()));a.domain&&(c=a.domain,b=c[0],c=c[1],null!=b&&(null!=c&&b>=c)&&(a.domain=null))}},addLegacyLayout:function(a,b,c,f){void 0===a&&(a={});void 0===b&&(b={});void 0===c&&(c={});void 0===f&&(f={});return{showMeasure1:pd(a.showAxis),showMeasure2:pd(b.showAxis),showMeasureTitle1:pd(a.showTitle),showMeasureTitle2:pd(b.showTitle),showDimension:pd(c.showAxis),showDimensionTitle:pd(c.showTitle),
showTime:pd(f.showTime),showTimeTitle:pd(f.showTitle)}},convertAxisMode:function(a,b){void 0===a&&(a=p.AXIS_MODE.DUAL);var c=b.plots;a===p.AXIS_MODE.SYNC?c.map(function(a){return a.axis="measureAxis1"}):a===p.AXIS_MODE.DUAL?c.forEach(function(a,c){a.axis||(a.axis=0===c?"measureAxis1":"measureAxis2")}):c.forEach(function(a,c){a.axis||(a.axis="measureAxis"+(c+1))})},moveReferenceLines:function(a){var b=a.measureAxis1,c=a.measureAxis2;a.axisMode===p.AXIS_MODE.SYNC&&(null!=c&&null!=c.referenceLines&&
null!=b)&&(null!=b.referenceLines?Array.prototype.push.apply(b.referenceLines,c.referenceLines):b.referenceLines=c.referenceLines)},hydrateConfigSection:function(a,b){if(a){var c=a.column;a.color&&this.hydrateConfigSection(a.color,b);c&&(a.column=c.map(function(a){return b.getColumn(a)}));if(c=a.icon&&a.icon.column)a.icon.column=b.getColumn(c);if(c=a.area)a.area=c.map(function(a){return b.getColumn(a)})}},addSortingInfoToAxis:function(a,b,c){if(a.column&&0!==a.column.length){var f=Aa.NONE.value;b.column&&
a.column[0].getName()===b.column[0].getName()&&(f=b.order);b=!b.enabled||1<a.column.length||a.column[0].getType()===p.COLUMN_TYPE.TIME||0===this.getDimensionColumns(c).length+this.getTimeColumns(c).length||null!=b.columnTypes&&!r.find(b.columnTypes,function(c){return a.column[0].getType()===c});a.sorting={enabled:!b,order:f}}},enrichAxis:function(a){var b=this,c=a.x,f=a.y,d=a.dimensionAxis,g=a.timeAxis,k=a.sorting,m=["measureAxis1","measureAxis2"];a.plots&&a.plots.forEach(function(c){var b=c.axis;
b&&(m.push(b),b=a[b],b.column=x.uniq((b.column||[]).concat(c.column),function(a){return a.getName()}))});r.filter(x.uniq(m).map(function(c){return a[c]})).forEach(function(c){b.addSortingInfoToAxis(c,k,a)});d&&(g&&0<g.column.length)&&(d.column=g.column);r.filter([g,d,c,f]).forEach(function(c){b.addSortingInfoToAxis(c,k,a)})},hydrateRowsMetadata:function(a,b){b.forEach(function(c){var b,d;r.isString(c.valueColors)&&(b=c.valueColors,c.valueColors={});r.isString(c.valueLabels)&&(d=c.valueLabels,c.valueLabels=
{});if(d||b){var g=function(a,c,b,f){c=a[c];a=a[b];null!=c&&(null!=a&&null==f[a])&&(f[c]=a)};a.forEach(function(a){b&&g(a,c.column,b,c.valueColors);d&&g(a,c.column,d,c.valueLabels)})}});return b},hydrateConfig:function(a,b){var c=this;th(a,void 0,function(a){return c.hydrateConfigSection(a,b)})},getCustomCellSize:function(a){return a&&a.size&&0<a.size&&100>a.size?a.size:void 0},getXAxisDefinition:function(a){return this.getAxisDefinition(a.x)},getYAxisDefinition:function(a){return this.getAxisDefinition(a.y)},
getAxisDefinition:function(a){if(!a)return null;var b={showZero:a.showZero,showAxis:a.showAxis,showTitle:a.showTitle,scale:a.scale};if(!a.fields||0===a.fields.length)return b;var c=a.fields[0];a=a.title?a.title:a.fields.map(function(a){return Xc.defaultText(a.getLabel(),a.getName())});return r.extend(b,{label:a,format:c.getFormat(),domain:c.domain,referenceLines:c.referenceLines})},setMarkType:function(a,b){a.plots.forEach(function(a){a.mark=a.mark||b})},isStack:function(a){var b=a.stack,c=a.plots;
if(this.getColumns(a,"split")[0])return!0;if(!b)return!1;for(b=a=0;b<c.length;b++)c[b].mark===p.MARK_TYPE.BAR&&a++;return 1<a},isBinned:function(a){return(a=a.color)&&a.type===xg.BINS},isTrellis:function(a){void 0===a&&(a={});a=a.trellis;return!(!a||!a.column||!a.column.length)},hasSeries:function(a){return void 0!==r.find(a,function(a){return void 0!==a.series})},hasIcon:function(a){return a&&!!a.icon},getPlotsDefaults:function(a,b){var c=this;b=b||(1===a.plots.length?xg.CATEGORICAL:xg.CONSTANT);
var f=a.plots;return f.map(function(d,g){return b===xg.CATEGORICAL?{column:[],color:{type:xg.CATEGORICAL}}:{color:c.getPaletteColor(a.theme,g,f.length)}})},getPlotColorColumn:function(a,b){void 0===b&&(b=0);return this.getColumns(a.plots[b],"color")[0]},getTooltipColumns:function(a){for(var b=this,c=[],f=arguments.length-1;0<f--;)c[f]=arguments[f+1];var d=(g=this).getColumns.apply(g,[a].concat(c));a.plots.forEach(function(a){d=d.concat(b.getColumns(a,"color"))});return Xc.uniqueColumns(d);var g},
denormalizeConfig:function(a){null!=a.color&&a.plots.forEach(function(b){null==b.color&&(b.color=a.color)})},getPaletteColor:function(a,b,c,f,d){void 0===b&&(b=0);f=f||a.getPaletteColors();return f[b%f.length]},fixConfig:function(a,b){this.denormalizeConfig(a);x.defaultsDeep(a,b);Ok.convertConfigColors(a);th(a,void 0,function(a){var b=a&&a.column;b&&1<b.length&&(a.column=Xc.uniqueColumns(b))});this.getColumns(a,"dimension").forEach(function(c){var b=c.getHotSpots();b&&(c._hotSpots=b.map(function(c){return r.defaults(c,
{position:"right",icon:"\u2335",colors:a.theme.getHotspotColors()})}))})},sanitizeChartTitleConfig:function(a){a&&(r.defaults(a,{fontSize:p.TITLE.DEFAULT_FONT_SIZE,subtitleFontSize:p.TITLE.DEFAULT_SUBTITLE_FONT_SIZE,align:p.TITLE.DEFAULT_ALIGN}),a.fontSize=Math.max(0,a.fontSize),a.subtitleFontSize=Math.max(0,a.subtitleFontSize))},sanitizeValueTypeConfig:function(a,b){void 0===b&&(b=[de.COMPACT_NUMBER,de.NUMBER,de.PERCENT,de.NONE]);return 0<=b.indexOf(a)?a:de.COMPACT_NUMBER},defaultShowValues:function(a){null==
a.showValues&&(a.showValues=!0);null==a.valueType&&(a.valueType=a.showPercentage||a.showValues&&a.normalize?p.VALUETYPE.PERCENT:a.showValues?p.VALUETYPE.COMPACT_NUMBER:p.VALUETYPE.NONE);delete a.showValues;null==a.valueTypeOnLine&&(a.valueTypeOnLine=a.showValuesOnLine?de.COMPACT_NUMBER:de.NONE);return a},createDefaultSplitConfig:function(a,b){void 0===b&&(b="column");var c={};c[b]=x.extendDeep([],a[b]);c.sorting={type:!1===a.sortColor?p.SORT.TYPE.ROWS:p.SORT.TYPE.VALUES,order:p.SORT.ORDER.ASC};c.totalSumMode=
p.TOTAL_SUM_MODE.NONE;return c},getFormatMultiplier:function(a){return(a=a.format)&&Math.abs(a[1])||1},convertConfigColors:function(a){return Ok.convertConfigColors(a)},isSortingSupported:function(a){return a.sorting.enabled&&!this.isTrellis(a)},isIdenticalColor:function(a){var b=a.plots;if(null==b||2>b.length)return!0;for(var c=!0,f=0;f<b.length;f++)if(null!=b[f].color){c=!1;break}if(c)return null!=a.color&&a.color.column&&0<a.color.column.length;a=b[0].color;for(c=1;c<b.length;c++)if(f=b[c],JSON.stringify(a)!==
JSON.stringify(f.color))return!1;return!0},removeColumnlessSections:function(a,b){b.forEach(function(c){a[c]&&(a[c].column&&0===a[c].column.length)&&delete a[c]})}},Cv=Ne.init("scene::export"),Jc=function(a){function b(c,b){c?null==c.key&&(c.key="scene"):c={key:"scene"};a.call(this,c,b);this.grid=(new fa).attachScene(this)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;
c.size=[0,0];c.position=[0,0];c.scrollOffset=[0,0];c.baseScrollOffset=[0,0];c.selectMode=p.SELECTMODE.NONE;c.background=void 0;c.config={};c.rowsMetadata=void 0;c.selectionKeyFct=void 0;c.keyTransform=void 0;c.padding=new fb({top:0,right:0,bottom:0,left:0});c.dataFormatter=null};b.prototype._mapValue=function(a,b){return"padding"===a?new fb(b):b};b.prototype._onChange=function(c){a.prototype._onChange.call(this,c);c.padding&&this.grid&&this.grid.updateCellLayout();if((c=c.transforms)&&c[0])c=c[0],
c.flipY&&this._props.padding.flipY(),c.flipX&&this._props.padding.flipX(),c.rotate&&(c=this._props.size,this._props.size=[c[1],c[0]],this._props.padding.rotate({isCW:!0}))};b.prototype._childSorter=function(a){return a.get("zIndex")};b.prototype.getParentBackgroundColor=function(){return this._props.background};b.prototype.getCell=function(a,b){return this.grid.getCell(a,b)};b.prototype.getCells=function(){return this.getChildren()};b.prototype.cellByKey=function(a){return this.getChildByKey(a)};
b.prototype.getFullSize=function(){var a=this.grid.getFullSize(),b=this._props.padding;return[a[0]+b.left+b.right,a[1]+b.top+b.bottom]};b.prototype.getBaseScrollOffset=function(){return this.grid.getBaseScrollOffset()};b.prototype.getScrollOffset=function(){return this._props.scrollOffset};b.prototype.buildCells=function(a){this.grid.buildCells(a);return this};b.prototype.rotate=function(){var c=this._props.size;this.set({size:[c[1],c[0]]},!0);this._props.padding.rotate();this.grid.rotate();return a.prototype.rotate.apply(this,
arguments)};b.prototype.flipX=function(){this.grid.flipX();this._props.padding.flipX();return a.prototype.flipX.apply(this,arguments)};b.prototype.flipY=function(){this.grid.flipY();this._props.padding.flipY();return a.prototype.flipY.apply(this,arguments)};b.prototype.postProcess=function(){var c=ac.isTrellis(this._props.config);c||this._addBrushLayers();a.prototype.postProcess.call(this);c||this._repositionCrosshair();this.set({baseScrollOffset:this.getBaseScrollOffset()});return this};b.prototype.getAvailableSize=
function(){var a=this._props.size,b=this._props.padding,d=b.top,g=b.bottom,b=Math.max(a[0]-b.left-b.right,0),a=Math.max(a[1]-d-g,0);return[b,a]};b.prototype.center=function(){var c=this.getAvailableSize(),b=c[0],c=c[1],d=this._props.padding,g=d.top,d=d.left,k=this.boundingBox();if(!k)return this;var m=k.x,n=k.y,q=k.w,k=k.h;a.prototype.center.call(this,q<b?(b-q)/2-(m-d):0,k<c?(c-k)/2-(n-g):0);return this};b.prototype.adjustRowToFit=function(a){this.grid.adjustRowToFit(a);return this};b.prototype.adjustColumnToFit=
function(a){this.grid.adjustColumnToFit(a);return this};b.prototype.adjustRowSize=function(a,b){this.grid.adjustRowSize(a,b);return this};b.prototype.adjustColumnSize=function(a,b){this.grid.adjustColumnSize(a,b);return this};b.prototype._redataFct=function(a,b){return r.extend({},b,a)};b.prototype.exportIntoCell=function(a,b){var d=this;void 0===b&&(b={});var g=b.tx;void 0===g&&(g=0);var k=b.ty;void 0===k&&(k=0);var m=b.keyPrefix,n=b.extraData;null==m&&(m=Cv.next());r.sortBy(this.getCells(),function(a){return a.get("zIndex")}).forEach(function(b){var f=
b.translation(),p=f[0],A=f[1],t=b.get("clip"),w=[0,0,0,0];t&&(w=b.getModelProps().viewport);r.sortBy(b.getLayers(),function(a){return a.get("zIndex")}).forEach(function(f){f.set({key:m+"/"+b.getKey()+"/"+f.getKey(),zIndex:0});f.isBrushLayer()&&f.setShapeContainerKeys(f.getShapeContainerKeys().map(function(a){return m+"/"+b.getKey()+"/"+a}));f.get("decorationType")&&f.set("refContainerKeys",f.get("refContainerKeys").map(function(a){var c=a.split("\x26");a=c[0];c=c[1];return b.getKey()+"\x26"+m+"/"+
a+"/"+c}));a.append(f);f.offsetX(p+g);f.offsetY(A+k);t&&f.set({viewport:[w[0]+p+g,w[1]+A+k,w[2],w[3]]});n&&(f.get("canSelect")||f.get("canHover"))&&f.updateChildren(function(a){var c=!(!1===a.get("canHover")&&!1===a.get("canSelect"));if(a instanceof Bb)a.getChildren().forEach(function(a){var b=a.get("data")||{};c&&a.set({data:{row:d._redataFct(b.row,n),column:b.column}})});else{var b=a.get("data")||{};c&&a.set({data:{row:d._redataFct(b.row,n),column:b.column}})}})})});return a};b.prototype.toJson=
function(){var c=a.prototype.toJson.call(this);c.grid=this.grid.toJson();c.props.padding=c.props.padding.toJson();c.legend=this.legend&&this.legend.toJson();return c};b.prototype.totalTranslation=function(a,b){void 0===a&&(a=!1);void 0===b&&(b=!1);var d=this.get("padding"),g=d.top,d=d.left,k=this.get("scrollOffset")||[0,0],m=k[0],k=k[1];return[(a?-m:0)+d,(b?-k:0)+g]};return b}(ud);Jc.type="Scene";Jc._sensitiveProps=new Za(["padding","transforms"]);var Dv=Object.getPrototypeOf(Jc.prototype);r.extend(Jc.prototype,
{onScroll:function(a,b){this.set({scrollOffset:[a,b]});return this},prepareForInteraction:function(){this._sortChildren();return this},getModelProps:function(){return{key:this._props.key,type:this.getType(),fullSize:this.getFullSize(),size:this._props.size,scrollOffset:this._props.scrollOffset,baseScrollOffset:this._props.baseScrollOffset,position:this._props.position,background:this._props.background,accessibility:this._props.accessibility}},_repositionCrosshair:function(){var a=this,b=this.find({type:"Layer",
canSelect:!0}).map(function(a){var c=a.getParent();return c&&c.get("key")+"\x26"+a.get("key")}),c=this.find({decorationType:function(a){return a===p.DECORATION_LAYER_TYPE.TIME_CROSSHAIR||a===p.DECORATION_LAYER_TYPE.DISCRETE_CROSSHAIR}});c.length&&c.forEach(function(c,d){var g=c&&c.getParent();c.set({refContainerKeys:b});g&&a.append(a._separateCrosshairLayer(g,c,d))})},_separateCrosshairLayer:function(a,b,c){var f=a.getChildren().filter(function(a){return a!==b});a.removeAll();var d=a.clone();a.appendAll(f);
d.append(b);d.set("key","crosshair-cell-"+c);d.set("zIndex",10);return d},_addBrushLayers:function(){var a={};this.getChildren().forEach(function(b){b.getChildren().forEach(function(c){var b=c.get("brush");c.get("canSelect")&&b&&(null==a[b.key]&&(a[b.key]=[]),(b=a[b.key])&&b.push(c))})});this._createBrushLayers(a)},_createBrushLayers:function(a){var b=this;r.keys(a).forEach(function(c){var f=a[c];if(f.length){var d=f[0],g=d.get("brush");if(g){var k=g.area,m=g.color,n=g.customDomain,q=g.domain,s=g.getBrushStep,
u=g.dataGranularity,r=g.dataSeparator,t=g.firstDayOfWeek,w=g.fiscalGranularity,z=g.format,v=g.type,g=g.scale,y=d.getParent();uv.make(v,{key:c,cell:y,x:d.get("x"),y:d.get("y"),w:k.width,h:k.height,zIndex:100,brushStrokeColor:m.stroke,brushFillColor:m.fill,brushTextColor:m.text,shapeContainerKeys:f.map(function(a){return a.get("key")}),hasControlPoints:b.get("selectMode")===p.SELECTMODE.RANGE,getBrushStep:s,customDomain:n,domain:q,dataGranularity:u,dataSeparator:r,firstDayOfWeek:t,fiscalGranularity:w,
format:z,scale:g})}}})}});Jc.fromJson=function(a,b){void 0===b&&(b=!0);var c=Dv.constructor.fromJson.call(this,a,b,Jc);c.grid=fa.fromJson(a.grid,b).attachScene(c);if(a.props){var f=a.props.padding;f&&(c._props.padding=fb.fromJson(f,b));if(f=a.props.selectionColumns)c._props.selectionColumns=f.map(function(a){return Rk.getInstance().buildColumn(a)});if(f=a.props.rowsMetadata)c._props.rowsMetadata=Zb.fromJson(f);if(f=a.props.background)c._props.background=sh.getColor(f)}a.legend&&(c.legend=Jc.fromJson(a.legend));
return c};var hp=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._getTweensByScale=function(a,b){var d,g,k;d=this.props;var m=d.x,n=d.y,q=d.h,s=d.vertical,p={};if((d=a.x)&&(g=b.x))p.x=ha.transpose(m,g,d),k=s?"dy":"dx",s||(p.h=ha.transpose(m+q,g,d)),p[k]=ha.transpose(m+this.props[k],g,d)-p.x;if((d=a.y)&&(g=b.y))p.y=ha.transpose(n,g,d),k=s?"dx":"dy",s&&(p.h=ha.transpose(n+q,g,d)),p[k]=ha.transpose(n+
this.props[k],g,d)-p.y;this._handleRotation(p,a,b);return p};b.prototype.getStartModelInsert=function(c){return c.disableMorphing?a.prototype.getStartModelInsert.call(this,c):r.extend({dx:0,dy:0,lineWidth:0},a.prototype.getStartModelInsert.call(this,c))};b.prototype.getEndModelRemove=function(c){return c.disableMorphing?a.prototype.getEndModelRemove.call(this,c):r.extend({dx:1.5*this.props.dx,dy:1.5*this.props.dy},a.prototype.getEndModelRemove.call(this,c))};return b}($c),Ev=od(hp),Fv=Object.getPrototypeOf(db.prototype);
r.extend(db.prototype,{isUnderCursor:function(a,b){var c=this._props,f=c.x0,d=c.y0,g=c.x1,k=c.y1,m=c.lineWidth,n;this._props.curveFunction&&(n=this._props.curveFunction([f,d],[g,k]));return n&&nb.getDelegate().isPointInStroke?nb.getDelegate().isPointInStroke(function(a){Go.drawCurve({ctx:a,lineWidth:m,curve:n})},m,n,a,b):!1},isInArea:function(a,b,c,f){return!1},toModel:function(){return Fv.toModel.call(this,Ev)},getModelProps:function(){var a=this._props.vertical?[this._props.x0,this._props.baseYValue,
this._props.y0-this._props.y1,this._props.x1-this._props.x0,this._props.baseYValue-this._props.y0]:[this._props.baseXValue,this._props.y0,this._props.x1-this._props.x0,this._props.y1-this._props.y0,this._props.x0-this._props.baseXValue],b=a[0],c=a[1],f=a[2],d=a[3],a=a[4],g=void 0;this._props.curveFunction&&(g=this._props.curveFunction([a,0],[f+a,d]));var k={x:b,y:c,angle:this._props.vertical?-Math.PI/2:0};return r.extend(this.getCommonModelProps(),this.applyShapeEffects(),{x:b,y:c,dx:f,dy:d,lineWidth:this._props.lineWidth,
h:a,rotation:k,dashed:this._props.dashed,vertical:this._props.vertical,curve:g})}});db._roundProps=new Za("x0 y0 x1 y1 baseXValue baseYValue".split(" "));var ip=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getEndModelRemove=function(c){return c.disableMorphing?a.prototype.getEndModelRemove.call(this,c):r.extend({r:1.5*this.props.r},a.prototype.getEndModelRemove.call(this,c))};b.prototype.getStartModelInsert=
function(c){return c.disableMorphing?a.prototype.getStartModelInsert.call(this,c):r.extend({r:0},a.prototype.getStartModelInsert.call(this,c))};return b}($c),Gv=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getPathProps=function(a,b){var d=this._sampleCurve(Math.PI,2*Math.PI,b.r,!0,a);return{animate_points_x:d[0],animate_points_y:d[1]}};b.prototype.getNumVertices=function(){return 20};return b}(od(ip)),
Kc={inBrowser:function(){return"undefined"===typeof MobileDelegate||null===MobileDelegate},isMobile:function(){var a=!1,b=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,
4)))a=!0;return a}},ee=Object.getPrototypeOf(Ub.prototype),Hv=!Kc.inBrowser()||Kc.isMobile();r.extend(Ub.prototype,{getAnnotationInfo:function(){var a=this.getTranslatedBox(),b=a.x,c=a.y,f=a.w,a=a.h,d=[{x:b+f/2,y:c+a/2,orientations:["right","top","left","bottom"]}];5<this._props.r&&(d=[{x:b+f,y:c+a/2,orientations:["right"]},{x:b+f/2,y:c,orientations:["top"]},{x:b,y:c+a/2,orientations:["left"]},{x:b+f/2,y:c+a,orientations:["bottom"]},{x:b+f,y:c+a/2,orientations:["top","bottom","left"]},{x:b+f/2,y:c,
orientations:["right","left","bottom"]},{x:b,y:c+a/2,orientations:["top","bottom","right"]},{x:b+f/2,y:c+a,orientations:["right","left","top"]}]);return{positions:d,shouldUpdate:!1}},isUnderCursor:function(a,b){var c=a-this._props.x,f=b-this._props.y,d=this._props.r+(this._props.stroke?this._props.lineWidth/2:0)+(this._isHoverAreaExtended?50:Hv?10:0);return c*c+f*f<=d*d},isUnderLine:function(a,b,c,f){var d=this._props,g=d.x,d=d.y;return Ja.isInRange(g,a,c,1)&&Ja.isInRange(d,b,f,1)&&1E-5>Math.abs((f-
b)*g+(a-c)*d+(c*b-a*f))},cross:function(){this.get("data")&&this.get("showWhenCrossed")&&this._showPoints();ee.cross();return this},uncross:function(){this.get("data")&&this.get("showWhenCrossed")&&this._hidePoints();ee.uncross();return this},tabOn:function(){this.get("data")&&this.get("showWhenCrossed")&&this._showPoints();ee.tabOn.call(this);return this},tabOff:function(){this.get("data")&&this.get("showWhenCrossed")&&this._hidePoints();ee.tabOff.call(this);return this},hover:function(){this.get("data")&&
this.get("isAccessible")&&(this._showPoints(),this.get("showWhenCrossed")||this.set("r",this._props.r+2));ee.hover.call(this);return this},unhover:function(){this.get("data")&&this.get("isAccessible")&&(this._hidePoints(),this.get("showWhenCrossed")||this.set("r",this._props.r-2));ee.unhover.call(this);return this},toModel:function(){return ee.toModel.call(this,Gv)},getModelProps:function(){var a=this.applyShapeEffects();delete a.hidden;return r.extend(this.getCommonModelProps(),a,{x:this._props.x,
y:this._props.y,propertiesByScale:this.getPropertiesByScale(),isAccessible:this._props.isAccessible})},_showPoints:function(){this.set("hidden",!1);this.set("opacity",1)},_hidePoints:function(){this.set("hidden",this.get("showWhenCrossed"));this.set("opacity",this.get("showWhenCrossed")?0:1)}});var jp=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getStartModelInsert=function(c){return c.disableMorphing?
a.prototype.getStartModelInsert.call(this,c):r.extend({points_x:this.props.points_x.map(function(a){return a}),points_y:this.props.points_y.map(function(a){return 0}),lineWidth:0},a.prototype.getStartModelInsert.call(this,c))};b.prototype.getEndModelRemove=function(c){return c.disableMorphing?a.prototype.getEndModelRemove.call(this,c):r.extend({points_x:this.props.points_x.map(function(a){return a}),points_y:this.props.points_y.map(function(a){return 1.5*a})},a.prototype.getEndModelRemove.call(this,
c))};return b}($c),Iv=od(jp),Jv=Object.getPrototypeOf(ce.prototype);r.extend(ce.prototype,{isUnderCursor:function(a,b){return!1},isInArea:function(a,b){return!1},isUnderLine:function(a,b,c,f){return!1},getModelProps:function(){var a=this._props,b=a.x,c=a.y,f=a.points_x,d=a.points_y,g=a.dashed,k=a.closePath,m=a.lineWidth,n=a.baseX,q=a.baseY,a=a.lineJoin;return r.extend(this.getCommonModelProps(),this.applyShapeEffects(),{x:b,y:c,points_x:f,points_y:d,dashed:g,closePath:k,lineWidth:m,lineJoin:a,baseX:null==
n||k?null:n-b,baseY:null==q||k?null:q-c})},toModel:function(){return Jv.toModel.call(this,Iv)}});r.extend(Ve.prototype,{getModelProps:function(){var a=this.applyShapeEffects(),b=a.bgColor,a=a.stroke,c=this._props.size,f=this.getRotation(),d=this.getTextXY(),g=d[0],d=d[1],b=b?{color:b,box:this.trueBoundingBox().toArray()}:null;return r.extend(this.getCommonModelProps(),{x:g,y:d,fontSize:c,fill:a,propertiesByScale:{x:["x"],y:["y"]},rotation:f,bg:b,format:this._props.format,number:this._props.number,
compact:this._props.compact},this._exposeFormattingInfo())},_exposeFormattingInfo:function(){var a=this._props,b=a.format,c=a.number,a=a.compact;return Kc.inBrowser()?{format:b,number:c,compact:a}:{formattedNumber:Ya(b,a)(c)}}});var kp=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getEndModelRemove=function(c){return c.disableMorphing?a.prototype.getEndModelRemove.call(this,c):r.extend({r1:1.5*this.props.r1,
r2:1.5*this.props.r2,textR:1.5*this.props.textR},a.prototype.getEndModelRemove.call(this,c))};b.prototype.getStartModelInsert=function(c){return c.disableMorphing?a.prototype.getStartModelInsert.call(this,c):r.extend({r1:0.9*this.props.r1,r2:0.9*this.props.r2,textR:0.9*this.props.textR},a.prototype.getStartModelInsert.call(this,c))};return b}($c),Kv=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getPathProps=
function(a,b){var d=b.startAngle,g=b.angle,k=b.r1,m=b.r2,n=Math.floor(a/4),q=a%4,s=this._sampleCurve(d,g,k,!0,n+(0<q?1:0)),p=s[0],s=s[1],r=this._sampleCurve(d,g,m,!1,n+(2<q?1:0)),t=r[0],r=r[1],w=this._sampleLine(m*Math.cos(d),m*Math.sin(d),k*Math.cos(d),k*Math.sin(d),n+(1<q?1:0)),q=w[0],w=w[1],g=this._sampleLine(k*Math.cos(d+g),k*Math.sin(d+g),m*Math.cos(d+g),m*Math.sin(d+g),n),d=g[0],g=g[1];return{animate_points_x:t.concat(q).concat(p).concat(d),animate_points_y:r.concat(w).concat(s).concat(g)}};
b.prototype.getNumVertices=function(){return 40};return b}(od(kp)),yg=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.initClass=function(){this.type="Arc";this.shapeEffectsProps=["fill","stroke","r1","r2","textR"]};b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.key="Arc";c.r1=0;c.r2=0;c.stroke=void 0;c.fill=void 0;c.startAngle=0;c.angle=0;c.roundedCornerStart=
!1;c.roundedCornerEnd=!1;c.lineWidth=1;c.text=void 0;c.subText=void 0;c.textR=0;c.textColorLight=void 0;c.textColorDark=void 0;c.fontSize=void 0;c.subTextFontSize=void 0;c.selectionShapeEffect=[c.selectionShapeEffect,ji.getDescriptor()]};b.prototype.set=function(c,b,d){this._forceRecomputeBoundingBox();return a.prototype.set.call(this,c,b,d)};b.prototype.isVisible=function(){return a.prototype.isVisible.call(this)&&0<this._props.r1};b.prototype._computeTrueBoundingBox=function(){return new I({x:-this._props.r1,
y:-this._props.r1,w:2*this._props.r1,h:2*this._props.r1})};b.prototype.domainBox=function(){return new I({x:0,y:0,w:0,h:0})};b.prototype.rotate=function(){this._props.startAngle-=Math.PI/2;return this};b.prototype.flipY=function(){this._props.startAngle=-this._props.startAngle;this._props.angle=-this._props.angle;return this};b.prototype.flipX=function(){this._props.startAngle=Math.PI-this._props.startAngle;this._props.angle=-this._props.angle;return this};b.prototype.offsetAngle=function(a){this._props.startAngle+=
a;return this};b.prototype.getPropertiesByScale=function(){return{r:["r1","r2"]}};return b}($a);yg.initClass();var zg=2*Math.PI,Lv=Object.getPrototypeOf(yg.prototype);r.extend(yg.prototype,{isUnderCursor:function(a,b){var c,f,d=this.applyShapeEffects(),g=d.r1,k=d.r2,m=this._props,d=m.startAngle,n=m.angle,q=m.roundedCornerStart,m=m.roundedCornerEnd;this._props.stroke&&(g+=this._props.lineWidth/2,k=Math.max(k-this._props.lineWidth/2,0));var s=a*a+b*b;if(s>g*g||s<k*k)return!1;s=Math.atan2(b,a);0>n&&
(n=-n,d-=n,m=[m,q],q=m[0],m=m[1]);g=(g-k)/2;g=Math.atan(g/(k+g));q&&(d-=g,n+=g);m&&(n+=g);return d<=s&&s<=d+n||d<=(c=s-zg)&&c<=d+n||d<=(f=s+zg)&&f<=d+n},toModel:function(){return Lv.toModel.call(this,Kv)},getAnnotationInfo:function(){var a=this.totalTranslation(!0,!0),b=a[0],c=a[1],a=this.getModelProps(),f=a.r1,d=a.r2,g=a.startAngle+a.angle/2;g>zg&&(g-=zg);0>g&&(g+=zg);var a="left",k="right";if(g<=Math.PI/2||g>=3*Math.PI/2)a="right",k="left";var m=f*Math.cos(g)+b,f=f*Math.sin(g)+c,b=d*Math.cos(g)+
b,c=d*Math.sin(g)+c;if(d=this.getLayer())if(d=d.getScene())g=d.get("position"),d=g[0],g=g[1],m+=d,f+=g,b+=d,c+=g;return{positions:[{x:m,y:f,orientations:[a,"top","bottom"]},{x:b,y:c,orientations:[k,"top","bottom"]}],shouldUpdate:!0}},getModelProps:function(){if((this._props.r1||0)<(this._props.r2||0)){var a;a=[this._props.r2,this._props.r1];this._props.r1=a[0];this._props.r2=a[1]}a=this.applyShapeEffects();var b=this._props,c=b.startAngle,f=b.angle,d=b.lineWidth,g=b.roundedCornerStart,k=b.roundedCornerEnd,
m=b.text,n=b.subText,q=b.textColorLight,s=b.textColorDark,p=b.fontSize,b=b.subTextFontSize,p=p&&Math.ceil(p),b=b&&Math.ceil(b),A;if(m){var t=nb.getDelegate().getRealFontSize(p),w=c+f/2,z=a.fill,v=a.textR,y=v*Math.cos(w),w=v*Math.sin(w),v=!1,K=2*t,B=t;if(n)var T=nb.getDelegate().getRealFontSize(b),B=B+(0.1*t+1.1*T);this._isRectInsideArc(y,w,K,B)&&(K=n?Math.max(nb.getDelegate().getTextWidth(m,p),nb.getDelegate().getTextWidth(n,b)):nb.getDelegate().getTextWidth(m,p),this._isRectInsideArc(y,w,K,B)&&(v=
!0));v?A=(z||this.getParentBackgroundColor()).toHighContrast(q,s):n=m=void 0}return r.extend(this.getCommonModelProps(),a,{x:0,y:0,startAngle:c,angle:f,lineWidth:d,propertiesByScale:this.getPropertiesByScale(),roundedCornerStart:g,roundedCornerEnd:k,text:m,subText:n,textColor:A,fontSize:p,subTextFontSize:b})},_isRectInsideArc:function(a,b,c,f){a-=c/2;b-=f/2;return this.isUnderCursor(a,b)&&this.isUnderCursor(a+c,b)&&this.isUnderCursor(a+c,b+f)&&this.isUnderCursor(a,b+f)}});var lp=function(a){function b(){a.apply(this,
arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getStartModelInsert=function(c){var b=this;return c.disableMorphing?a.prototype.getStartModelInsert.call(this,c):r.extend({points_x:this.props.points_x.map(function(a){return a-(a-b.props.centroidX)/4}),points_y:this.props.points_y.map(function(a){return a-(a-b.props.centroidY)/4})},a.prototype.getStartModelInsert.call(this,c))};b.prototype.getEndModelRemove=function(c){var b=this;return c.disableMorphing?
a.prototype.getEndModelRemove.call(this,c):r.extend({points_x:this.props.points_x.map(function(a){return a+1.2*(a-b.props.centroidX)}),points_y:this.props.points_y.map(function(a){return a+1.2*(a-b.props.centroidY)})},a.prototype.getEndModelRemove.call(this,c))};return b}($c),Mv=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getPathProps=function(a,b){var d=b.points_x,g=b.points_y;if(d&&d.length&&
g&&g.length){for(var k=this._getStartIndex(d,g),m=d.length,n=Math.floor(a/m),q=a%m,s=[],p=[],r=0;r<m;++r)var t=(k+r)%m,w=r===m-1?k:(t+1)%m,t=this._sampleLine(d[t],g[t],d[w],g[w],n+(r<q?1:0)),w=t[1],s=s.concat(t[0]),p=p.concat(w);return{animate_points_x:s,animate_points_y:p}}return null};b.prototype._getStartIndex=function(a,b){return 0};b.prototype.getNumVertices=function(){return this.props.points_x&&this.props.points_x.length||-1};return b}(od(lp)),mp=Object.getPrototypeOf(Ge.prototype);r.extend(Ge.prototype,
{getAnnotationInfo:function(){var a=this.centroid(),b=a[0],a=a[1],c=this.totalTranslation(!0,!0),f=c[1],b=b+c[0],a=a+f;if(c=this.getLayer())if(c=c.getScene())c=c.get("position"),f=c[1],b+=c[0],a+=f;return{positions:[{x:b,y:a,orientations:["right","top","left","bottom"]}],shouldUpdate:!1}},isUnderCursor:function(a,b){var c=!1;if(mp.isUnderCursor.call(this,a,b)&&2<this._props.points_x.length){var f=this.getRotation();f&&(f=Zc.rotate([a,b],{x:f.x,y:f.y,angle:-f.angle}),a=f[0],b=f[1]);a-=this._props.x;
b-=this._props.y;var f=x.zip(this._props.points_x,this._props.points_y),d=f[f.length-1],g=d[0],k=d[1];f.forEach(function(f){var d=f[0];f=f[1];var q,s,p,r;d>g?(q=g,p=k,s=d,r=f):(q=d,p=f,s=g,r=k);d<a===a<=g&&(b-p)*(s-q)<(r-p)*(a-q)&&(c=!c);g=d;k=f})}return c},toModel:function(){return mp.toModel.call(this,Mv)},getModelProps:function(){var a=this.getRotation(),b=this._props.vertical?{x:["x","points_y"],y:["y","points_x"]}:{x:["x","points_x"],y:["y","points_y"]},c=this.centroid(),f=c[0],c=c[1];return r.extend(this.getCommonModelProps(),
this.applyShapeEffects(),{x:this._props.x,y:this._props.y,centroidX:f,centroidY:c,points_x:this._props.points_x,points_y:this._props.points_y,lineWidth:this._props.lineWidth,closePath:this._props.closePath,propertiesByScale:b,rotation:a,lineJoin:this._props.lineJoin})}});var Vk=null,np=null,Ag=function(){};Ag.getInstance=function(){Vk||(Vk=new Ag,np={Arc:yg,Scene:Jc,Cell:yd,Layer:Ga,Line:db,Point:Ub,Path:ce,Rect:qc,Text:Ea,NumberText:Ve,ShapeGroup:Bb,Polygon:Ge});return Vk};Ag.prototype.fromJson=
function(a,b){void 0===b&&(b=!0);var c=a.type,f=c&&np[c];if(!f)throw Error("invalid scene node type "+c);return f.fromJson(a,b)};var Wk,op,oi=function(){};oi.getInstance=function(){Wk||(Wk=new oi,op={Scene:tg,Cell:tg,Layer:tg,Arc:kp,Line:hp,Rect:Uo,Point:ip,Text:No,NumberText:$c,Polygon:lp,Path:jp});return Wk};oi.prototype.fromJson=function(a,b){void 0===b&&(b=!0);var c=a&&a.props&&a.props.type,f=c&&op[c];if(!f)throw Error("invalid scene model node type "+c);return f.fromJson(a,b)};var Kb=function(){this._listeners=
{}};Kb.initClass=function(){this.instance=new Kb};Kb.prototype.on=function(a,b){var c;(c=this._listeners[a])?0>c.indexOf(b)&&c.push(b):this._listeners[a]=[b]};Kb.prototype.off=function(a,b){var c;if(c=this._listeners[a])if(b){var f=c.indexOf(b);0<=f&&(0===f&&1===c.length?delete this._listeners[a]:c.splice(f,1))}else delete this._listeners[a]};Kb.prototype.trigger=function(a){for(var b=this,c=[],f=arguments.length-1;0<f--;)c[f]=arguments[f+1];oa.events&&(c.length?console.info.apply(console,["EventBus::trigger "+
a+", params: "].concat(c)):console.info("EventBus::trigger "+a));(this._listeners[a]||[]).forEach(function(a){return a.apply(b,c)})};Kb.prototype.one=function(a,b){var c=function(){b.apply(this,arguments);return this.off(a,c)}.bind(this);return this.on(a,c)};Kb.initClass();var Lc=function(a){this._initDispatcher(a)};Lc.prototype._initDispatcher=function(a){this._evbase=a+":";this._events={}};Lc.prototype.on=function(a,b){Kb.instance.on(this._evbase+a,b);this._events[a]=!0;return this};Lc.prototype.off=
function(a,b){if(a)Kb.instance.off(this._evbase+a,b),Kb.instance._listeners[this._evbase+a]||delete this._events[a];else{for(var c in this._events)c&&Kb.instance.off(this._evbase+c);this._events={}}return this};Lc.prototype.trigger=function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];(f=Kb.instance).trigger.apply(f,[this._evbase+a].concat(b));return this;var f};Lc.prototype.one=function(a,b){Kb.instance.one(this._evbase+a,b);return this};Lc.prototype.mixin=function(a,b){Object.keys(Lc.prototype).forEach(function(c){return a[c]=
Lc.prototype[c]});return a._initDispatcher(b)};var Nv=function(a){function b(c){a.call(this,c);this._cache={}}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.add=function(a,b){this._cache[a]=b;1===this.size()&&this.trigger("addFirst",a);this.trigger("add",a);return this};b.prototype.remove=function(a){delete this._cache[a];this.trigger("remove",a);0===this.size()&&this.trigger("removeLast",a);return this};b.prototype.size=function(){return r.size(this._cache)};
b.prototype.get=function(a){return this._cache[a]};b.prototype.forEach=function(a){var b=this;r.keys(this._cache).forEach(function(d){a(d,b._cache[d])});return this};b.prototype.keys=function(){return r.keys(this._cache)};b.prototype.values=function(){return r.values(this._cache)};return b}(Lc),yh={convertShape:function(a){if(!a)return null;var b=a.getInfo();a={key:a.key,type:a.getType()};b&&(a.data=x.deepCopy(b.data));return a},convertBox:function(a){return!a?null:r.pick(a.toAABB(),["x","y","w",
"h","rotation"])},convertTooltipLines:function(a){return a.map(function(a){a=r.extend({},a);a.color&&a.color.toRGBAString&&(a.color=a.color.toRGBAString());null==a.color&&delete a.color;r.isString(a.group)&&(a.group=a.group.split("-").map(function(a){return a.trim()}));return a})}},fe=ka.setStyles,Ov=ka.pageScrollOffset,pp=p.TOOLTIP,qp=pp.DEFAULT_DELAY,rp=pp.INTERACTIVE_TOOLTIP_DELAY,Pv=p.LOCALE.DIR.RTL,Xk=p.KEYBOARD_KEY,P=function(a){void 0===a&&(a=!1);this.allowClose=!0;this.show=this.show.bind(this);
this.formatHtmlAndShow=this.formatHtmlAndShow.bind(this);this.positionAndShow=this.positionAndShow.bind(this);this.removeGlobalEventListeners=this.removeGlobalEventListeners.bind(this);this.addGlobalEventListeners=this.addGlobalEventListeners.bind(this);this._onTouchStart=this._onTouchStart.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this._onTouchMove=this._onTouchMove.bind(this);this.clearTimers=this.clearTimers.bind(this);this.hide=this.hide.bind(this);this._hide=this._hide.bind(this);
this._hideAndRemoveTooltip=this._hideAndRemoveTooltip.bind(this);this._triggerEl=null;this.mouseY=this.mouseX=0;(this.isInteractive=a)?(this.showDelay=rp.SHOW,this.hideDelay=rp.HIDE,this.tooltipClass="ng-charthover-interactive"):(this.showDelay=qp.SHOW,this.hideDelay=qp.HIDE,this.tooltipClass="ng-charthover");this.el=document.createElement("div");this.el.className=this.tooltipClass;this.el.style.display="none";this.el.onkeydown=this._onKeyDown.bind(this);this.content=this.el.appendChild(document.createElement("div"));
this.content.className="content";this._createCloseButton();this.attachEvents();this.theme=td.getInstance().getDefaultTheme();this.Settings=Fb};P.initClass=function(){this.prototype.el=null;this.prototype.content=null;this.prototype.arrow=null;this.prototype.timerShow=null;this.prototype.timerHide=null;this.prototype.quietModeTimer=null;this.prototype.theme=null};P.prototype.move=function(a){if("block"===this.el.style.display&&"auto"===this.positions&&this._currentShape===a)return this.positionAndShow()};
P.prototype.moveTo=function(a,b){this.mouseX=a;this.mouseY=b;return this.move()};P.prototype.show=function(a,b,c,f,d,g,k,m){this.offsetX=a;this.offsetY=b;this.positions=c;this.angle=f;null==d&&(d="");this.extraClass=d;this._triggerEl=m;k?(this.formatHtmlAndShow(g,!0),this._setCloseButtonVisible(),this._setFocusOnTooltip()):(this.clearTimers(),this.timerHide=setTimeout(this._hideAndRemoveTooltip,this.hideDelay),this.timerShow=setTimeout(this.formatHtmlAndShow,this.showDelay,g))};P.prototype.formatHtmlAndShow=
function(a){var b=a.lines,c=a.shape,f=a.tooltipRenderer,d=a.fullText,g=a.canRemoveTooltip;a=a.removeTooltip;this._currentShape=c;this._canRemoveTooltipCallback=g;this._removeTooltipCallback=a;if(d)this.html=this.formatTruncationHtml(d);else if(b&&c&&(this.html=this.formatTooltipHtml(b,c,f),f&&r.isEmpty(this.content.innerHTML)))return;return this.positionAndShow()};P.prototype.setTheme=function(a){this.theme=a};P.prototype._createCloseButton=function(){this.closeButton=this.el.appendChild(document.createElement("button"));
this.closeButton.className="closeButton";this.closeButton.onclick=this._onCloseButtonClicked.bind(this);var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttributeNS(null,"aria-hidden",!0);a.setAttributeNS(null,"viewBox","0 0 52 52");var b=document.createElementNS("http://www.w3.org/2000/svg","path");b.setAttributeNS(null,"d","M31 25.4l13-13.1c.6-.6.6-1.5 0-2.1l-2-2.1c-.6-.6-1.5-.6-2.1 0L26.8 21.2c-.4.4-1 .4-1.4 0L12.3 8c-.6-.6-1.5-.6-2.1 0l-2.1 2.1c-.6.6-.6 1.5 0 2.1l13.1 13.1c.4.4.4 1 0 1.4L8 39.9c-.6.6-.6 1.5 0 2.1l2.1 2.1c.6.6 1.5.6 2.1 0L25.3 31c.4-.4 1-.4 1.4 0l13.1 13.1c.6.6 1.5.6 2.1 0L44 42c.6-.6.6-1.5 0-2.1L31 26.8c-.4-.4-.4-1 0-1.4z");
a.appendChild(b);this.closeButton.appendChild(a);a=this.closeButton.appendChild(document.createElement("span"));a.className="ng-assistiveText";a.innerHTML=W.getLabel("@salesforce/charts","closeTooltip")};P.prototype._setCloseButtonVisible=function(){fe(this.closeButton,{display:"block"});fe(this.content,{paddingTop:"10px",paddingRight:"10px"})};P.prototype._setFocusOnTooltip=function(){this.el.setAttribute("tabindex",0);this.el.focus()};P.prototype._positionTooltip=function(a,b,c,f,d,g,k,m){for(var n=
new I({x:a,y:b,w:c,h:f,rotation:d}),q=null,s=Number.POSITIVE_INFINITY,p=0;p<g.length;p++){var r=g[p];a=r[0];f=r[1];r=r[2];f=r=n.clone().offset(f,r).toAABB();c=f.w;f=f.h;var t=b=0;switch(a){case "leftTop":b=10;t=-20;break;case "leftBottom":b=10;t=-(f-20);break;case "rightTop":b=-(c+10);t=-20;break;case "rightBottom":b=-(c+10);t=-(f-20);break;case "topRight":b=-(c-20);t=10;break;case "topLeft":b=-20;t=10;break;case "bottomRight":b=-(c-20);t=-(f+10);break;case "bottomLeft":b=-20,t=-(f+10)}r.offset(b,
t);b=r.toAABB();a=b.x;b=b.y;c=0>a?a:a+c>k?a+c-k:0;a=0>b?b:b+f>m?b+f-m:0;b=Math.abs(c)+Math.abs(a);b<s&&(s=b,q=r.offset(-c,-a));if(0===b)break}g=q;a=g.x;b=g.y;d=d.angle;0!==d&&(0>d?b=b+f-Math.sin(0.5*Math.PI-d)*n.h:a+=Math.sin(d)*n.h);return{x:a,y:b}};P.prototype.positionAndShow=function(){var a=this.html,b=this.angle,c=this.extraClass,f=this.positions,d=this.offsetX,g=this.offsetY,k="auto"===f,m=b?Math.round(180*b/Math.PI):0,n=window.innerWidth,q=window.innerHeight;k&&(d=this.mouseX,g=this.mouseY,
f=this.mouseX>n/2?[["rightTop",-15,0],["rightBottom",-15,0],["leftTop",15,0],["leftBottom",15,0],["topRight",0,15],["bottomRight",0,-15],["topLeft",0,15],["bottomLeft",0,-15]]:[["leftTop",15,0],["leftBottom",15,0],["rightTop",-15,0],["rightBottom",-15,0],["topLeft",0,15],["bottomRight",0,-15],["topRight",0,15],["bottomLeft",0,-15]]);var s=Ov(),k=s.top,s=s.left,d=d-s,g=g-k;this.el.className=c&&""!==c?this.tooltipClass+" "+c:""+this.tooltipClass;fe(this.el,{display:"block"});a&&(this.content.innerHTML=
a);b=this._positionTooltip(d,g,this.el.offsetWidth,this.el.offsetHeight,{x:d,y:g,angle:b||0},f,n,q);a=b.x;b=b.y;f=this.theme.getToolTipBackgroundColor().toRGBAString();d=this.theme.getToolTipTruncationBackgroundColor().toRGBAString();fe(this.el,{left:a+s+"px",top:b+k+"px",transform:"translateZ(0) rotate("+m+"deg)","-webkit-transform":"rotate("+m+"deg)","-ms-transform":"rotate("+m+"deg)",backgroundColor:0<=c.indexOf(" truncation")?d:f})};P.prototype.isVisible=function(){return"block"===this.el.style.display};
P.prototype.removeGlobalEventListeners=function(){document.body.removeChild(this.el);this.detachEvents()};P.prototype.addGlobalEventListeners=function(){document.body.appendChild(this.el);this.attachEvents()};P.prototype.attachEvents=function(){window.addEventListener("mousemove",this._onMouseMove);window.addEventListener("touchmove",this._onTouchMove);window.addEventListener("touchstart",this._onTouchStart);this.el.onmouseenter=this._onMouseEnter.bind(this);this.el.onmouseleave=this._onMouseLeave.bind(this)};
P.prototype.detachEvents=function(){window.removeEventListener("mousemove",this._onMouseMove);window.removeEventListener("touchmove",this._onTouchMove);window.removeEventListener("touchstart",this._onTouchStart);this.el.onmouseenter=null;this.el.onmouseleave=null};P.prototype._onMouseEnter=function(){this.clearTimers();this.allowClose=!1};P.prototype._onMouseLeave=function(a){this.isEventFiredByShapeInsideTooltip(a)||(this.allowClose=!0,this._hide())};P.prototype.quietMode=function(a){this.quietModeTimer&&
clearTimeout(this.quietModeTimer);this.detachEvents();return this.quietModeTimer=setTimeout(this.attachEvents.bind(this),a)};P.prototype._onTouchStart=function(a){if(a=a.touches[0])return this.mouseX=a.pageX,this.mouseY=a.pageY};P.prototype._onMouseMove=function(a){this.mouseX=a.pageX;return this.mouseY=a.pageY};P.prototype._onTouchMove=function(a){if(a=a.touches[0])return this.mouseX=a.pageX,this.mouseY=a.pageY};P.prototype._onKeyDown=function(a){switch(a.code){case Xk.ESCAPE:this._closeTooltipAndRefocusTriggerEl(a);
break;case Xk.TAB:this._onTabKeyDown(a);break;case Xk.ENTER:this.isVisible()&&"closeButton"===a.target.className&&(this._closeTooltipAndRefocusTriggerEl(a),a.stopPropagation(),a.preventDefault())}};P.prototype._onTabKeyDown=function(a){if("ng-charthover"===a.target.className||"ng-charthover-interactive"===a.target.className)this._setFocusOnCloseButton(),a.stopPropagation(),a.preventDefault();else if("closeButton"===a.target.className&&a.target.closest(".ng-charthover"))a.stopPropagation(),a.preventDefault();
else if("closeButton"===a.target.className&&a.target.closest(".ng-charthover-interactive")&&!a.shiftKey){var b=this.el.querySelector('a:not([disabled]), button:not([disabled]), input:not([disabled]), [href], select:not([disabled]), textarea:not([disabled]), [tabindex]:not([disabled]):not([tabindex\x3d"-1"])');b.setAttribute("tabindex",0);b.focus();a.stopPropagation();a.preventDefault()}else a.target.closest(".ng-charthover-interactive")&&a.shiftKey&&this.el.querySelector('a:not([disabled]), button:not([disabled]), input:not([disabled]), [href], select:not([disabled]), textarea:not([disabled]), [tabindex]:not([disabled]):not([tabindex\x3d"-1"])')===
a.target&&(this._setFocusOnCloseButton(),a.stopPropagation(),a.preventDefault())};P.prototype._setFocusOnCloseButton=function(){this.closeButton.setAttribute("tabindex",0);this.closeButton.focus()};P.prototype._closeTooltipAndRefocusTriggerEl=function(a){this.el.setAttribute("tabindex",-1);this.closeButton.setAttribute("tabindex",-1);this._hideAndRemoveTooltip();this._triggerEl&&this._triggerEl.focus()};P.prototype._onCloseButtonClicked=function(){this._hideAndRemoveTooltip()};P.prototype.isEventFiredByShapeInsideTooltip=
function(a){return a.fromElement&&a.fromElement.className===this.tooltipClass&&a.relatedTarget&&("ng-charthover"===a.relatedTarget.className||a.relatedTarget.offsetParent&&a.relatedTarget.offsetParent.className.split(" ").includes("ng-charthover"))};P.prototype.clearTimers=function(){this.timerShow&&clearTimeout(this.timerShow);this.timerHide&&clearTimeout(this.timerHide)};P.prototype.hide=function(){this.allowClose&&(this.clearTimers(),this._hide())};P.prototype._hide=function(){this._canRemoveTooltipCallback&&
!this._canRemoveTooltipCallback()?this._removeInteractiveTooltipInIntervals():this.timerHide=setTimeout(this._hideAndRemoveTooltip,this.hideDelay)};P.prototype._removeInteractiveTooltipInIntervals=function(){var a=this,b=!1;this.timerHide=setInterval(function(){b?a._hideAndRemoveTooltip():b=a._canRemoveTooltipCallback()},this.hideDelay)};P.prototype._hideAndRemoveTooltip=function(){this._currentShape=null;fe(this.closeButton,{display:"none"});fe(this.content,{paddingTop:"0px",paddingRight:"0px"});
fe(this.el,{display:"none"});this._removeTooltipCallback&&this._removeTooltipCallback()};P.prototype.formatTruncationHtml=function(a){return'\x3cdiv class\x3d"truncation-text"\x3e'+Va(a,!0)+"\x3c/div\x3e"};P.prototype.formatTooltipHtml=function(a,b,c){var f=this;if(c)return this.content.innerHTML="",(a=c(yh.convertTooltipLines(a),yh.convertShape(b)))&&this.content.appendChild(a),null;var d=this.theme.getToolTipLabelColor().toRGBAString(),g=this.theme.getToolTipValueColor().toRGBAString(),k=[],m=[],
n="";a.forEach(function(a){var c=a.label,b=a.value,p=a.color,t=a.percentData;a=a.type;p instanceof F&&(p=p.toRGBAString());var r="text"!==a&&p?12:0,z=f.Settings.isRTL(),v=z?"padding-right":"padding-left",y="text"===a&&p?p:d,c=c?"\x3clabel style\x3d'color:"+y+";"+v+":"+r+"px;'\x3e"+Va(c,!0)+"\x3c/label\x3e":"",p=p?"\x3cspan class\x3d'marking' style\x3d'background-color:"+p+"; height:"+("measure"!==a&&c?36:18)+"px;'\x3e\x3c/span\x3e":"",b="\x3clabel class\x3d'value' style\x3d'color:"+g+";"+v+":"+r+
"px;'\x3e"+Va(b,!0)+"\x3c/label\x3e",r="";null!=t&&(r=t.group,r="\x3csmall style\x3d'color:"+d+";'\x3e"+Va(" ("+W.getLabel("@salesforce/charts",r?"percentTooltipWithGroup":"percentTooltip",[t.percent,t.total,r])+")",!0)+"\x3c/small\x3e");t=z?Pv:"";switch(a){case "measure":m.push('\x3ctr\x3e\x3ctd class\x3d"'+t+'"\x3e'+p+'\x3c/td\x3e\x3ctd class\x3d"'+t+'"\x3e'+c+'\x3c/td\x3e\x3ctd class\x3d"valueCell '+t+'"\x3e'+b+r+"\x3c/td\x3e\x3c/tr\x3e");break;case "text":n="\x3cdiv class\x3d'line dimension'\x3e"+
c+"\x3c/div\x3e";break;default:k.push("\x3cdiv class\x3d'line dimension'\x3e"+p+c+b+"\x3c/div\x3e")}});k=k.join("");m=m.length?"\x3ctable class\x3d'line measure'\x3e"+m.join("")+"\x3c/table\x3e":"";return[n,k,k&&m?"\x3chr class\x3d'ng-separator-line'\x3e":"",m].join("")};P.initClass();var Xe=function(a){var b=a.geojson;this.url=a.url;this.geojson=b;this._isValid=!0;try{this.forEachFeature(function(a){var c=a.id,b=a.properties;null==c&&(c=null!=b?b.name:void 0);if(null!=c)return a.id=""+c}),this.boundingBox=
this._computeBoundingBox(),this._computeCentroids()}catch(c){this._isValid=!1}};Xe.prototype.getFeatureKeys=function(a){var b=this;void 0===a&&(a="properties.name");if(!this._featureKeys){this._featureKeys=[];var c=sa.getDotAccessorFct(a);this.forEachFeature(function(a){var d=a.id;a=c(a);d&&b._featureKeys.push(d.toLowerCase());a&&b._featureKeys.push(a.toLowerCase())})}return this._featureKeys};Xe.prototype._computeCentroids=function(){this.forEachFeature(function(a){var b=a.geometry,c=b.coordinates;
switch(b.type){case "Polygon":return a.geometry.centroid=Zc.centroid(c[0]);case "MultiPolygon":return a.geometry.centroid=Zc.multiPolygonCentroid(c)}})};Xe.prototype._computeBoundingBox=function(){var a=Infinity,b=Infinity,c=-Infinity,f=-Infinity,d=function(d){var g=d[0];d=d[1];g<a&&(a=g);g>c&&(c=g);d<b&&(b=d);d>f&&(f=d)},g=function(a){return a[0].map(d)};this.forEachFeature(function(a){a=a.geometry;var c=a.coordinates;switch(a.type){case "Polygon":return g(c);case "MultiPolygon":return c.map(g)}});
return{x:a,y:b,w:c-a,h:f-b}};Xe.prototype.forEachFeature=function(a){var b=0;this.geojson.features.forEach(function(c){c&&c.geometry&&a(c,b++)})};Xe.prototype.isValid=function(){return this._isValid};var Qv=function(a){return Da.getDelegate().require(a).then(function(a){return JSON.parse(a)})},pi=function(a,b){this._cache={};this._name=a;this._getInstance=b;this._pendingPromises={}};pi.prototype.get=function(a){var b=this._cache[a];if(b)return b;throw Error(name+"::get invalid url "+a);};pi.prototype.load=
function(a,b){var c=this,f,d,g=this._pendingPromises;null==b&&(b=Qv);if(this._cache[a])return f=this._cache[a],Promise.resolve(f);if(this._pendingPromises[a])return d=this._pendingPromises[a];oa.scripts&&console.debug(name+":: loading "+a);g[a]=b(a).then(function(b){f=c._getInstance(a,b);c._cache[a]=f;delete g[a];return f}).catch(function(c){delete g[a];throw c;});return g[a]};var sp=new pi("Geometry",function(a,b){return new Xe({url:a,geojson:b})}),qi={},va=function(a){var b=a.geoJson,c=a.boundingBox,
f=a.projection,d=a.metadata,g=a.skipRegistration;this.name=a.name;this.geoJson=b;this.projection=f||"Equirectangular";this._isValidBoundingBox(c)&&(this.boundingBox=new I(c));this._metadata=d;this.setBoundingBox(c);this.size=null;g||this._registerWithCache()};va.prototype.isZoomable=function(){return!1};va.prototype.setSize=function(a){this.size=a;return this};va.prototype.getName=function(){return this.name};va.prototype.getGeoJson=function(){return this.geoJson};va.prototype.getMetadata=function(){return this._metadata};
va.prototype.getProjection=function(){return this.projection};va.prototype.setProjection=function(a){a&&(this.projection=a);return this};va.prototype.getBoundingBox=function(){if(null!=this.boundingBox){var a=this.boundingBox.toJson(),b=a.x,c=a.y;return{left:b,right:b+a.w,top:c+a.h,bottom:c}}return null};va.prototype.setBoundingBox=function(a){this.boundingBox=a?new I(a):null;return this};va.prototype.toJson=function(){var a;if(null!=this.boundingBox){a=this.boundingBox.toJson();var b=a.x,c=a.y;a=
{left:b,right:b+a.w,top:c+a.h,bottom:c}}return{name:this.name,projection:this.projection,metadata:this._metadata,geoJson:this.geoJson,boundingBox:a}};va.prototype.clone=function(){var a=this.toJson();a.skipRegistration=!0;return new va(a)};va.prototype._isValidBoundingBox=function(a){return a&&(null!=a.left&&null!=a.right&&null!=a.top&&null!=a.bottom||null!=a.x&&null!=a.y&&null!=a.w&&null!=a.h)};va.prototype._registerWithCache=function(){oa.scripts&&console.debug("GeoMap:: registering "+this.name+
" with cache");qi[this.name]=this};va.prototype.isValid=function(){return this.getGeometry().isValid()};va.prototype.getGeometry=function(){return sp.get(this.geoJson.url)};va.prototype.load=function(){var a=this;return sp.load(this.geoJson.url,this.geoJson.data?function(){return Promise.resolve(a.geoJson.data)}:this.geoJson.loader)};va.get=function(a){var b=qi[a];if(b)return b.clone();console.warn("GeoMap::get: invalid map name "+a);return null};va.delete=function(a){var b=va.get(a);null!=b&&delete qi[a];
return b};va.getMaps=function(){return r.values(qi)};var Qd={release:"216",version:"44.0"},tp=function(){};tp.prototype.getChartPromise=function(a,b,c,f,d,g){var k=Tj(a,b,c,f,d,g);return k.hasRows(c)?k.hasMeasures(c)?k.isTrellis()?Vc.getModule("sfdc-trellis-chart",Qd.version).then(function(a){return Tj(a,b,c,k)}):Promise.resolve(k):dn(c,b,"noValues"):dn(c,b,"noData")};var Rv=pa(tp),Sv={"http://salesforce.com/charts/schema/core/definitions#/definitions/map":function(a,b){var c=va.get(b[a]);return null!=
c?c.load():void 0},"http://salesforce.com/charts/schema/core/definitions#/definitions/theme":function(a,b){var c=b[a],f;"string"===typeof c?f=c:c&&c.base&&(f=c.base);return f?td.getInstance().registerTheme(f).catch(function(){}):Promise.resolve(null)}},Tv=function(a,b){var c=b.schema,f=r.extend({},c&&c.$merge&&c.$merge.with.properties);f.theme={$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/theme"};var d=[];r.keys(f).forEach(function(c){var b;if(b=Sv[f[c].$ref])(c=b(c,a))&&
d.push(c)});return d.length?Promise.all(d):Promise.resolve()},up=function(){};up.prototype.renderChart=function(a){var b=a.module,c=a.config,f=a.rows,d=a.rowsMetadata,g=a.props,k=a.delegate,m=a.context,n=a.runtimeChart;a=b.getMetadata()||{};var q=b.moduleLoader;return Tv(c,a).then(function(){q&&!q.isTrusted()&&(c=q.evaluate(JSON.stringify(c)),f=q.evaluate(JSON.stringify(f)),d=q.evaluate(JSON.stringify(d)),g=q.evaluate(JSON.stringify(g)),m=k=null);return Rv.getInstance().getChartPromise(b,c,f,d,g,
k)}).then(function(a){return new Promise(function(c,b){R.setInstance(new R({name:"script"}));R.getInstance().start();try{n&&n.remove(m,a);var f=a.render(m);return c({chart:a,scene:f,scriptPerf:R.getInstance().toJson(),moduleLoader:q})}catch(d){return R.getInstance().end(),b(d)}})})};var Uv={registerDefaultMaps:function(a,b){var c=null!=b.prefix?b.prefix:"",f=b.geoJsonLoader;!r.isEmpty(c.length)&&"/"!==c[c.length-1]&&(c+="/");var d={url:c+"geojson/sfdc/world-countries.geo.json",loader:f,metadata:{id:r.uniqueId()}};
return[{name:"US States",geoJson:{url:c+"geojson/sfdc/us-states.geo.json",loader:f,metadata:{id:r.uniqueId()}},projection:"AlbersUSA"},{name:"World Countries"},{name:"Americas",boundingBox:{left:-170,bottom:-59,right:-32,top:72}},{name:"North America",boundingBox:{left:-170.2,bottom:6,right:-32,top:72}},{name:"South America",boundingBox:{left:-83.5,bottom:-56.15,right:-32,top:14}},{name:"Central America",boundingBox:{left:-93,bottom:7,right:-76,top:18.8}},{name:"Caribbean",boundingBox:{left:-86,bottom:17,
right:-64,top:27.5}},{name:"Europe",boundingBox:{left:-10.5,bottom:34,right:46.5,top:72}},{name:"Eastern Europe",boundingBox:{left:17,bottom:41.19,right:55,top:72}},{name:"Northern Europe",boundingBox:{left:-26.26,bottom:54,right:34.8,top:72}},{name:"Southern Europe",boundingBox:{left:-10,bottom:35,right:29.65,top:48}},{name:"Western Europe",boundingBox:{left:-10.5,bottom:42,right:10,top:59}},{name:"Central Europe",boundingBox:{left:5.87,bottom:45.42,right:24.15,top:55.08}},{name:"Scandanavia",boundingBox:{left:4.06,
bottom:54.43,right:31.59,top:71.31}},{name:"Asia",boundingBox:{left:25,bottom:-14.5,right:180,top:78}},{name:"South Asia",boundingBox:{left:60,bottom:5,right:98,top:38.5}},{name:"South East Asia",boundingBox:{left:91.5,bottom:-11.5,right:142,top:29}},{name:"East Asia",boundingBox:{left:73.5,bottom:18,right:153.99,top:53.56}},{name:"Australasia",boundingBox:{left:112,bottom:-48,right:180,top:0}},{name:"Africa",boundingBox:{left:-18,bottom:-35.5,right:52,top:38}},{name:"East Africa",boundingBox:{left:21,
bottom:-27.5,right:52,top:18.5}},{name:"Middle Africa",boundingBox:{left:7.5,bottom:-18.5,right:31.75,top:24}},{name:"North Africa",boundingBox:{left:-17.5,bottom:8,right:39.5,top:37.5}},{name:"Southern Africa",boundingBox:{left:11,bottom:-35.5,right:33.5,top:-16}},{name:"Western Africa",boundingBox:{left:-18,bottom:3.5,right:16.5,top:28}},{name:"EMEA",boundingBox:{left:-25,bottom:-36,right:61,top:71.5}},{name:"APAC",boundingBox:{left:60,bottom:-48,right:180,top:54.5}},{name:"World(zoomable)",zoomable:!0,
level:"admin-0",lookupUrl:c+"zoomableLookup/a0.json"},{name:"US States(zoomable)",zoomable:!0,level:"admin-1",lookupUrl:c+"zoomableLookup/a1/US.json",boundingBox:{left:-160.2,bottom:36,right:-52,top:52}}].map(function(c){r.defaults(c,{projection:"Mercator",geoJson:d,loader:f});c.metadata={id:r.uniqueId(),name:c.name,label:W.getLabel("@salesforce/charts",c.name.replace(/ /g,"_"))};return a.registerMap(c)})}},vp=new pi("LookupTable",function(a,b){return b}),Vv=function(a){function b(c){var b=c.level,
d=c.lookupUrl,g=c.loader;a.call(this,{name:c.name,lookupUrl:d,boundingBox:c.boundingBox,metadata:c.metadata,skipRegistration:c.skipRegistration});this._loader=g;this._lookupUrl=d;this._level=b;this._division=b.split("-")[0];this._grain=b.slice(-1)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.isZoomable=function(){return!0};b.prototype.getSourceUrl=function(){return"mapbox://mapbox.enterprise-boundaries-"+this._division[0]+this._grain+"-v1"};b.prototype.getBoundariesSourceLayer=
function(){return"boundaries_"+this._division+"_"+this._grain};b.prototype.getPointsSourceLayer=function(){return"points_"+this._division+"_"+this._grain};b.prototype.getLookupTable=function(){return vp.get(this._lookupUrl)};b.prototype.load=function(){return vp.load(this._lookupUrl,this._loader)};b.prototype.toJson=function(){var c=a.prototype.toJson.call(this);c.level=this._level;c.lookupUrl=this._lookupUrl;return c};b.prototype.clone=function(){var a=this.toJson();a.skipRegistration=!0;return new b(a)};
b.prototype.isValid=function(){return null!==this._lookupUrl};return b}(va),ya=function(a,b,c){this._eventDelegate=b;this._sceneProcessors=a;this._runtimeChart=c};ya.prototype.resetAll=function(){this.resetKeyFct();this.resetSelection();this.resetRows();return this};ya.prototype.resetKeyFct=function(){this._keyTransform=this._legendKeyFct=this._keyFct=null;return this};ya.prototype.resetSelection=function(){this._selection=[];this._selectionKeys=[];return this};ya.prototype.resetRows=function(a){this._rows=
a;this._rowsMap=null;return this};ya.prototype.update=function(a,b,c,f,d){void 0===d&&(d="none");this.resetSelection();a!==this._rows&&this.resetRows(a);this.resetKeyFct();if(d===p.SELECTMODE.NONE)return this;this._keyTransform=f;this._keyFct=b;this._legendKeyFct=c;return this};ya.prototype.getSelection=function(){return this._selection};ya.prototype.getLegacySelection=function(){return this._selectionKeys.map(function(a){var b=sa.parseValue(a);Array.isArray(b)&&(a=JSON.stringify(b.filter(function(a){return null!==
a})));return a})};ya.prototype.onSelect=function(a,b,c,f){"main"===a?this._onMainChartSelect(b,c,f):this._onLegendSelect(b,c,f)};ya.prototype.setSelection=function(a,b){var c=this;void 0===b&&(b={skipRender:!1,silent:!1});if(this._keyFct){a=a?a:[];this._keyTransform&&(a=a.map(function(a){return c._keyTransform(r.clone(a))}));var f=a.map(this._keyFct).sort();if(this._hasSelectionChanged(f)){var d=b||{},g=d.skipRender;void 0===g&&(g=!1);d=d.silent;void 0===d&&(d=!1);this._mainChartHandleSelection("setSelection",
f,a,{skipRender:g});this._legendKeyFct&&this._setLegendSelection(f);this._updateSelection(f,d)}}};ya.prototype.moveSelection=function(a,b){void 0===b&&(b={skipRender:!1,silent:!1});if(this._keyFct&&!(1<this._selection.length)){var c=this.getSelection()[0];c?(this._keyTransform&&(c=this._keyTransform(r.clone(c))),a+=this._rowsMap[this._keyFct(c)].index):0<a&&a--;a=(a%this._rows.length+this._rows.length)%this._rows.length;this.setSelection([this._rows[a]],b)}};ya.prototype._hasSelectionChanged=function(a){return!x.deepEqual(this._selectionKeys,
a)};ya.prototype._updateSelection=function(a,b){var c=this;this._selectionKeys=a.slice();this._selection=r.filter(this._selectionKeys.map(function(a){(a=c._getRowByKey(a))&&(a=Oa.getRowWithoutInternalValue(a));return a}));b||this._eventDelegate.trigger(p.EVENT_NAME.SELECTION_CHANGED,this.getSelection());b||this._eventDelegate.trigger(p.UNDOCUMENTED_EVENTS.LEGACY_SELECTION_CHANGED,this.getLegacySelection())};ya.prototype._onMainChartSelect=function(a,b,c){this._keyFct&&this._hasSelectionChanged(c)&&
(this._legendKeyFct&&this._setLegendSelection(c),this._updateSelection(c))};ya.prototype._onLegendSelect=function(a,b,c){if(this._keyFct&&this._legendKeyFct&&this._rows){if(c.length){if(!b)return;var f=b.substring(0,b.indexOf("/"));c=this._keyFct;var d=this._legendKeyFct[f];if(!d)return;f=this._rows;if(a===p.SELECT_ACTION.SELECT)a=f.filter(function(a){return d(a)===b}).map(c),this._mainChartHandleSelection("select",a);else if(a===p.SELECT_ACTION.UNSELECT&&this._selectionKeys){a=[];for(c=0;c<this._selectionKeys.length;c++){var f=
this._selectionKeys[c],g=this._getRowByKey(f);g&&d(g)===b&&a.push(f)}this._mainChartHandleSelection("unselect",a)}a=this._mainChartHandleSelection("getSelection");this._setLegendSelection(a)}else this._mainChartHandleSelection("setSelection",[]);a=this._mainChartHandleSelection("getSelection");this._hasSelectionChanged(a)&&this._updateSelection(a)}};ya.prototype._mainChartHandleSelection=function(a,b,c,f){return this._runtimeChart&&this._runtimeChart[a]?this._runtimeChart[a](b,c):this._sceneProcessors.main[a](b,
f)};ya.prototype._chart2LegendKeysMap=function(a){var b=this,c={};a.forEach(function(a){if(a=b._getRowByKey(a))for(var f in b._legendKeyFct)if(b._legendKeyFct[f]){var k=b._legendKeyFct[f];c[f]||(c[f]=[]);c[f].push(k(a))}});for(var f in c)c[f]&&(c[f]=x.uniq(r.filter(c[f],function(a){return null!==a})));return c};ya.prototype._flatLegendKeysMap=function(a){var b=[],c;for(c in a)a[c]&&a[c].forEach(function(a){return b.push(a)});return b};ya.prototype._setLegendSelection=function(a){a=this._chart2LegendKeysMap(a);
a=this._flatLegendKeysMap(a);this._sceneProcessors.legend.setSelection(a)};ya.prototype._buildRowsMap=function(){if(!(null!=this._rowsMap||!this._rows||!this._keyFct)){this._rowsMap={};for(var a=0;a<this._rows.length;a++){var b=this._rows[a];this._rowsMap[this._keyFct(b)]={row:b,index:a}}}};ya.prototype._getRowByKey=function(a){this._buildRowsMap();if(this._rowsMap&&this._rowsMap[a])return this._rowsMap[a].row};var Wv=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=
Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.setSelection=function(a,b){void 0===b&&(b={});if(this._keyFct&&(a=a?a:[],this._hasSelectionChanged(a))){var d=b.silent;this._sceneProcessors.main.setSelection(a,{skipRender:b.skipRender});this._updateSelection(a,d)}};b.prototype._hasSelectionChanged=function(a){return!x.deepEqual(this._selection,a)};b.prototype._updateSelection=function(a,b){this._selection=a;b||this._eventDelegate.trigger(p.EVENT_NAME.SELECTION_CHANGED,this.getSelection())};
b.prototype._onMainChartSelect=function(a,b,d){this._hasSelectionChanged(d)&&this._updateSelection(d)};b.prototype._onLegendSelect=function(a,b,d){};return b}(ya),Xv=p.SELECTMODE,Yv=function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];c=ya;switch(a){case Xv.RANGE:c=Wv;break;default:c=ya}return new (Function.prototype.bind.apply(c,[null].concat(b)))},Na=function(a,b){this._eventDelegate=b;this._sceneProcessors=a;for(var c in this._sceneProcessors)this._sceneProcessors[c]&&this._sceneProcessors[c].setChartDelegate(this._getChartDelegate(c))};
Na.prototype.onNewScenes=function(a,b,c,f){for(var d in this._sceneProcessors)this._sceneProcessors[d]&&this._sceneProcessors[d].setScene(a[d]);var g=a.main;g?(b=g.get("selectMode"),d=g.get("selectionKeyFct"),a=a.legend&&a.legend.get("selectionKeyFct"),g=g.get("keyTransform"),this._rowsSelector=Yv(b,this._sceneProcessors,this._eventDelegate,f),this._rowsSelector.update(c,d,a,g,b)):this._rowsSelector&&this._rowsSelector.resetAll();return this};Na.prototype.isInViewport=function(a){return this._sceneProcessors.main.isInViewport(a)};
Na.prototype.screenshot=function(a,b){var c=this;return!Kc.inBrowser()?Promise.resolve(null):new Promise(function(f,d){var g=b[0],k=b[1],m=null!=a?a:document.createElement("canvas"),n=window.testDevicePixelRatio||window.devicePixelRatio||1;a||(m.width=g,m.height=k);var q=c._sceneProcessors.main.screenshot(),s=c._sceneProcessors.legend.screenshot(),p=m.getContext("2d");p&&1!==n&&p.scale(1/n,1/n);if(p&&q){var r=q.left,t=q.top,n=q.src;p.clearRect(r,t,g,k);var w=new Image,z=!1;w.onload=function(){z&&
s?(p.drawImage(w,s.left,s.top),f({screenshot:m.toDataURL(),size:[m.width,m.height]})):(p.drawImage(w,r,t),null!=s?(w.src=s.src,z=!0):f({screenshot:m.toDataURL(),size:[m.width,m.height]}))};w.src=n}})};Na.prototype.getAutoFitRatio=function(){return this._sceneProcessors.main.getAutoFitRatio()};Na.prototype.startInteraction=function(){this._sceneProcessors.main.startInteraction();this._sceneProcessors.legend.startInteraction();return this};Na.prototype.stopInteraction=function(){this._sceneProcessors.main.stopInteraction();
this._sceneProcessors.legend.stopInteraction();return this};Na.prototype.setSelection=function(a,b){void 0===b&&(b={});this._rowsSelector&&this._rowsSelector.setSelection(a,b);return this};Na.prototype.moveSelection=function(a,b){void 0===b&&(b={});this._rowsSelector&&this._rowsSelector.moveSelection(a,b);return this};Na.prototype.getSelection=function(){return this._rowsSelector?this._rowsSelector.getSelection():[]};Na.prototype.setAnnotations=function(a){this._sceneProcessors.main.setAnnotations(a);
return this};Na.prototype.getAnnotations=function(){return this._sceneProcessors.main.getAnnotations()};Na.prototype._getChartDelegate=function(a){var b=this;return{onSelect:function(c,f,d){return b._onSelect(a,c,f,d)},onShowTable:this._eventDelegate.onShowTable.bind(this._eventDelegate),onEvent:function(c,f){return b._onChartEvent(a,c,f)}}};Na.prototype._onSelect=function(a,b,c,f){if(this._rowsSelector)this._rowsSelector.onSelect(a,b,c,f)};Na.prototype._onChartEvent=function(a,b){for(var c=[],f=
arguments.length-2;0<f--;)c[f]=arguments[f+2];(d=this._eventDelegate).trigger.apply(d,["main"===a?b:a+"::"+b].concat(c));var d};Na.prototype.scrollTo=function(a,b,c){void 0===c&&(c=0);var f=[this._sceneProcessors.main,this._sceneProcessors.legend].filter(function(a){return a}).map(function(f){return f.scrollTo(a,b,c)});return f.length?Promise.all(f):Promise.resolve(new R)};Na.prototype.isRemoved=function(){return this._sceneProcessors.main.isRemoved()||this._sceneProcessors.legend.isRemoved()};Na.prototype.toggleAccessibility=
function(a){this._sceneProcessors.main.toggleAccessibility(a)};Na.prototype.showTooltip=function(){this._sceneProcessors.main.hideTooltip();return this};Na.prototype.hideTooltip=function(){this._sceneProcessors.main.hideTooltip();return this};Na.prototype.renderAccessibilityTable=function(a){this._sceneProcessors.main.renderAccessibilityTable(a);return this};Na.prototype.renderAccessibilityDataItems=function(){this._sceneProcessors.main.onRenderAccessibilityDataItems();this._sceneProcessors.legend.onRenderAccessibilityDataItems();
return this};var Mc=function(a){var b=a.name,c=a.scene,f=a.options;a=a.interrupt;void 0===a&&(a=!1);this._name=b;this._scene=c;this._options=f;this._interrupt=a;this._isRunning=!1;this._perf=(new R({name:"animate"})).start();this._def=new ei};Mc.prototype.getScene=function(){return this._scene};Mc.prototype.getOptions=function(){return this._options};Mc.prototype.getPromise=function(){return this._def.promise};Mc.prototype.isInterrupt=function(){return this._interrupt};Mc.prototype.isRunning=function(){return this._isRunning};
Mc.prototype.defer=function(){oa.animation&&console.log(this._name+"  - defer");this._perf.mark("defer");return this};Mc.prototype.start=function(){oa.animation&&console.log(this._name+"  - start");this._isRunning=!0;this._perf.endMark("defer");return this};Mc.prototype.end=function(a){oa.animation&&console.log(this._name+"  - end");a&&this._perf.merge(a.toJson());this._perf.endMark("defer");this._perf.end();this._isRunning=!1;this._done();return this};Mc.prototype._done=function(){this._def.resolve(this._perf);
return this};var ge=function(a){this._delegate=a;this._deferredAnim=this._currentAnim=null};ge.prototype.reset=function(){return this._resetDeferredAnim()};ge.prototype.run=function(a){a.isInterrupt()&&(this._resetDeferredAnim(),this._resetCurrentAnim());null!=this._currentAnim&&this._currentAnim.isRunning()?this._defer(a):this._run(a);return this};ge.prototype._run=function(a){var b=this;this._currentAnim=a;this._delegate.runAnimation(a);a.getPromise().then(function(){b._currentAnim=null;if(b._deferredAnim)return b._run(b._deferredAnim),
b._deferredAnim=null});return this};ge.prototype._defer=function(a){var b=this._deferredAnim?this._deferredAnim.getOptions().duration:0,c=a.getOptions();c.duration=Math.max(c.duration,b);this._resetDeferredAnim();this._delegate.deferAnimation(a);this._deferredAnim=a;return this};ge.prototype._resetCurrentAnim=function(){if(!this._currentAnim)return this;this._delegate.cancelAnimation(this._currentAnim);this._currentAnim=null;return this};ge.prototype._resetDeferredAnim=function(){if(!this._deferredAnim)return this;
this._delegate.cancelAnimation(this._deferredAnim);this._deferredAnim=null;return this};var ia=function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];this._actors=a};ia.prototype.trigger=function(a){return this._delegate(a)};ia.prototype._delegate=function(a){for(var b=0,c=this._actors.length;b<c;++b)a=this._actors[b](a);return a};var N=function(a,b){this._actions=a;this._type=b};N.prototype.addAction=function(a){this._actions.push(a);return this};N.prototype.onMouseUp=function(a){return this._delegate("onMouseUp",
a)};N.prototype.onMouseDown=function(a){return this._delegate("onMouseDown",a)};N.prototype.onMouseClick=function(a){return this._delegate("onMouseClick",a)};N.prototype.onMouseMove=function(a){return this._delegate("onMouseMove",a)};N.prototype.onMouseLeave=function(a){return this._delegate("onMouseLeave",a)};N.prototype.onMouseEnterShape=function(a){return this._delegate("onMouseEnterShape",a)};N.prototype.onMouseLeaveShape=function(a){return this._delegate("onMouseLeaveShape",a)};N.prototype.onKeyDown=
function(a){return this._delegate("onKeyDown",a)};N.prototype.onKeyUp=function(a){return this._delegate("onKeyUp",a)};N.prototype.onScroll=function(a){return this._delegate("onScroll",a)};N.prototype.onSelect=function(a){return this._delegate("onSelect",a)};N.prototype._delegate=function(a,b){for(var c=b,f=0;f<this._actions.length;++f)var d=this._actions[f],c=d[a].call(d,r.extend({},b,{states:c.states||[]}));return c};var ab=function(a){this._enterActor=a.enter;this._updateActor=a.update;this._leaveActor=
a.leave};ab.prototype.onMouseUp=function(a){return a};ab.prototype.onMouseDown=function(a){return a};ab.prototype.onMouseClick=function(a){return a};ab.prototype.onMouseMove=function(a){return a};ab.prototype.onMouseLeave=function(a){return a};ab.prototype.onMouseEnterShape=function(a){return a};ab.prototype.onMouseLeaveShape=function(a){return a};ab.prototype.onKeyDown=function(a){return a};ab.prototype.onKeyUp=function(a){return a};ab.prototype.onScroll=function(a){return a};ab.prototype.onSelect=
function(a){return a};var bc=function(a){function b(c){a.call(this,c)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.onMouseDown=function(a){this._startPos=a.pointerPosition;return a};b.prototype.onMouseUp=function(a){var b=a.pointerPosition;if(b&&this._startPos){var d=this._startPos,g=d[1],k=b[1];if(d[0]===b[0]&&g===k&&this._updateActor)return this._updateActor.trigger(a)}this._startPos=null;return a};return b}(ab),he=function(a){var b=a.initial,
c=a.events;this.states=a.states;this.events=c;null==this.events&&(this.events={});null==this.states&&(this.states={});this._currentState=b};he.initClass=function(){this.prototype._currentState=null};he.prototype.transition=function(a,b,c){if("function"===typeof this.states[this._currentState].onLeave)this.states[this._currentState].onLeave(a,b,c);var f=this._currentState;this._currentState=a;return"function"===typeof this.states[a].onEnter?this.states[a].onEnter(f,b,c):void 0};he.prototype.onEvent=
function(a,b){var c=this.states[this._currentState].events[a];if(c)return null!=this.events[a]&&null!=this.events[a].beforeTransition&&this.events[a].beforeTransition(b),c=this.transition(c,a,b),null!=this.events[a]&&null!=this.events[a].afterTransition&&this.events[a].afterTransition(b),c};he.prototype.getState=function(){return this._currentState};he.initClass();var ri=function(a){function b(c){a.call(this,c);this._setupState();this._trace=[]}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);
b.prototype.constructor=b;b.prototype.onMouseDown=function(a){return a.pointerPosition?this._stateMachine.onEvent("pointerDown",a)||a:a};b.prototype.onMouseUp=function(a){return this._stateMachine.onEvent("pointerUp",a)||a};b.prototype.onMouseMove=function(a){return a.pointerPosition?this._stateMachine.onEvent("pointerMove",a)||a:a};b.prototype.onMouseLeave=function(a){return this._reset("","onMouseLeave",a)};b.prototype._anchor=function(a,b,d){if(a=d.pointerPosition)this._dragStart=a;return d};b.prototype._reset=
function(a,b,d){this._dragStart=null;this._trace=[];return this._leaveActor?this._leaveActor.trigger(d):d};b.prototype._update=function(a,b,d){a=d.pointerPosition;b=this._dragStart;if(a&&b){this._trace.push(a);if(1===this._trace.length&&this._enterActor)return this._enterActor.trigger(r.extend({},d,{pointerTrace:[this._dragStart].concat(this._trace)}));if(this._updateActor)return this._updateActor.trigger(r.extend({},d,{pointerTrace:[this._dragStart].concat(this._trace)}))}return d};b.prototype._setupState=
function(){var a,b,d,g;this._stateMachine=new he({initial:"inactive",states:(g={},g.inactive={onEnter:this._reset.bind(this),events:(a={},a.pointerDown="dragstart",a)},g.dragstart={onEnter:this._anchor.bind(this),events:(b={},b.pointerUp="inactive",b.pointerMove="dragselecting",b)},g.dragselecting={onEnter:this._update.bind(this),events:(d={},d.pointerUp="inactive",d.pointerMove="dragselecting",d)},g)})};return b}(ab),Zv=function(a){function b(c){a.call(this,c)}a&&(b.__proto__=a);b.prototype=Object.create(a&&
a.prototype);b.prototype.constructor=b;b.prototype.onMouseEnterShape=function(a){return this._enterActor?this._enterActor.trigger(a):a};b.prototype.onMouseLeaveShape=function(a){return this._leaveActor?this._leaveActor.trigger(a):a};return b}(ab),wp=function(a){function b(c){a.call(this,c)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.onMouseMove=function(a){return this._updateActor?this._updateActor.trigger(a):a};return b}(ab),Bg=function(a){function b(c){a.call(this,
c)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.onSelect=function(a){return this._updateActor?this._updateActor.trigger(a):a};return b}(ab),Yk=function(a){function b(c){a.call(this,c)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.onKeyDown=function(a){return this._updateActor?this._updateActor.trigger(a):a};return b}(ab),xp=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);
b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.onKeyDown=function(a){var b=a.activeKeys;return b&&0<=b.indexOf(p.KEYBOARD_KEY.TAB)&&this._updateActor?this._updateActor.trigger(a):a};return b}(Yk),$v=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.onKeyDown=function(a){var b=a.activeKeys;return b&&b.includes(p.KEYBOARD_KEY.SPACE)&&this._updateActor?this._updateActor.trigger(a):
a};return b}(Yk),aw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.onKeyDown=function(a){var b=a.activeKeys;return b&&b.includes(p.KEYBOARD_KEY.ESCAPE)&&this._updateActor?this._updateActor.trigger(a):a};return b}(Yk),Nc=function(a){this._sceneInteractionManagerDelegate=a},bw=function(a){function b(c){a.call(this,c);this.type="annotation";this._annotationMap={};this._setScene(c.getScene())}a&&(b.__proto__=
a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.reset=function(){var a=this;Object.keys(this._annotationMap).forEach(function(b){a._annotationMap[b].remove()})};b.prototype._setScene=function(a){if(!a)return this;this._scene=a;this._keyTransform=a.get("keyTransform");this._keyFct=a.get("selectionKeyFct");this._dataFormatter=this._scene.get("dataFormatter");this._theme=this._scene.get("config").theme;return this};b.prototype._setAnnotation=function(a){void 0===a&&
(a={});if(this._scene&&a.row){var b=a.row,d=a.measure;void 0===d&&(d="");a=a.properties;void 0===a&&(a={});var b=this._transformRow(b),g=this._keyFct(b||{}),g=this._scene.find({key:g}),g=this._findShape(g,d),b=this._getAnnotationKey({row:b,measure:d});if(g&&g.get("data")){if(!this._annotationMap[b]){var k=this._sceneInteractionManagerDelegate.getAnnotation();if(!k)return;this._annotationMap[b]=k.setPadding(this._sceneInteractionManagerDelegate.getPadding())}var m=g.getAnnotationInfo(),k=m.positions,
m=m.shouldUpdate,n=(this._scene.getChildByKey("content")||this._scene.getChildByKey("plot")||g.getParent().getCell()).getModelProps(),q=n.tx,s=n.ty,p=n.w,n=n.h,r=Oa.getRowWithoutInternalValue(g.get("data").row),t={column:a.column};ac.hydrateConfigSection(t,this._dataFormatter.getRowsMetadata());this._annotationMap[b].setViewPort({x:q,y:s,w:p,h:n}).setData({row:r,measure:d}).setDefaultVisibility(a.defaultShow).setShouldUpdate(m).setPositions(k).setBackgroundColor(a.backgroundColor).setBorderColor(a.borderColor).setContent(t.column,
a.text,this._theme,this._dataFormatter).setShapeBox(g.getTranslatedBox()).setIsBlinking(a.isBlinking).positionAndShow()}else this._annotationMap[b]&&(this._annotationMap[b].remove(),delete this._annotationMap[b])}};b.prototype.setAnnotations=function(a){var b=this;void 0===a&&(a=[]);if(this._scene){var d={};a.forEach(function(a){if(b._scene&&a.row){var c=b._getAnnotationKey(a);null!=c&&(b._setAnnotation(a),b._annotationMap[c]&&(d[c]=b._annotationMap[c],delete b._annotationMap[c]))}});r.keys(this._annotationMap).forEach(function(a){return b._annotationMap[a].remove()});
this._annotationMap=d}};b.prototype.getAnnotations=function(){var a=this,b=[];r.keys(this._annotationMap).forEach(function(d){return b.push(a._annotationMap[d].getInfo())});return b};b.prototype.update=function(a){var b=this;r.keys(this._annotationMap).forEach(function(d){d=b._annotationMap[d];var g=d.getData(),k=g.row,g=g.measure;void 0===g&&(g="");k=b._transformRow(k);k=b._scene.find({key:b._keyFct(k||{})});if(k=b._findShape(k,g))if(g=k.getTranslatedBox(),!d.hasSetPosition()||d.shouldUpdate()&&
!a)d.setPositions(k.getAnnotationInfo().positions).setShapeBox(g).positionAndShow();else if(a)d.onScroll(g)})};b.prototype.clickUpdate=function(a){this.update(!1);return a};b.prototype._findShape=function(a,b){void 0===a&&(a=[]);if(!a.length)return null;var d=a[0];b&&(d=r.find(a,function(a){return a.get("data")&&a.get("data").column===b})||a[0]);return"ShapeGroup"===d.getType()?this._getAnnotationShapeFromShapeGroup(d,b):d};b.prototype._transformRow=function(a){return this._keyTransform?this._keyTransform(r.clone(a)):
a};b.prototype._getAnnotationKey=function(a){var b=a.row;a=a.measure;void 0===a&&(a="");b=this._transformRow(b);return this._keyFct&&this._keyFct(b||{})+a};b.prototype._getAnnotationShapeFromShapeGroup=function(a,b){void 0===b&&(b="");var d;if(a.geometry){var g=-Infinity;a.getChildren().forEach(function(a){var b=Math.abs(Zc.area(a.get("points")));if(b>g)return g=b,d=a})}return d||a.getChildByKey(a.get("annotateChildKeys")[b])};return b}(Nc),yp=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=
a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.updateWithTrace=function(a){var b=a.pointerTrace;if(b&&2<=b.length){var d=b[0],g=d[0],k=d[1],d=b[b.length-1],b=d[0],m=d[1];if(d=this._getBrushLayerAt(g,k))return k=d.toNormalizedPosition.apply(d,d.toLocalPosition(g,k)),g=k[0],k=k[1],b=d.toNormalizedPosition.apply(d,d.toLocalPosition(b,m)),d.brushSelect(g,k,b[0]-g+1,b[1]-k+1),r.extend({},a,{focusedShapes:this._findInterstingShapes(this._getShapesInBrushLayer(d)),states:(a.states||
[]).concat(p.INTERACTION_DELEGATE_TYPE.BRUSH)})}return a};b.prototype.reset=function(a){this._reset();return a};b.prototype._getBrushLayers=function(){return this._sceneInteractionManagerDelegate.getInteractionLayers(p.INTERACTION_DELEGATE_TYPE.BRUSH)};b.prototype._getSelectionLayers=function(){return this._sceneInteractionManagerDelegate.getInteractionLayers(p.INTERACTION_DELEGATE_TYPE.SELECTION)};b.prototype._reset=function(){this._resetBrush();this._shapesInArea={}};b.prototype._getBrushLayerAt=
function(a,b){return r.find(this._getBrushLayers(),function(d){var g=d.getParent(),k=g?g.translation():[0,0],g=k[0],k=k[1],m=d.translation();return d.isUnderCursor(a-g-m[0],b-k-m[1])})};b.prototype._resetBrush=function(){this._getBrushLayers().forEach(function(a){a.removeBrush()})};b.prototype._getShapesInBrushLayer=function(a){var b=a.getBrushArea(),d=this._getShapeContainers(a);if(b){var g=b.x1,k=b.y1,m=a.toTransformedPosition(b.x0,b.y0),b=m[0],m=m[1];a=a.toTransformedPosition(g,k);return this._findShapesInAreaFromLayers(d,
b,m,a[0]-b+1,a[1]-m+1).filter(function(a){return a.get("canSelect")})}return[]};b.prototype._getShapeContainers=function(a){var b=x.setFromValues(a.get("shapeContainerKeys"));return this._getSelectionLayers().filter(function(a){return null!=b[a.get("key")]})};b.prototype._findShapesInAreaFromLayers=function(a,b,d,g,k){return r.flatten(a.map(function(a){return a.findShapesInArea(b,d,g,k)}))};b.prototype._findInterstingShapes=function(a){var b=this,d=[];this._shapesInArea=this._shapesInArea||{};a.length?
(a=a.reduce(function(a,b){var c=b.get("key");a[c]=b;return a},{}),d=x.notIntersect(this._shapesInArea,a),d.forEach(function(a){var c=a.get("key");b._shapesInArea[c]?delete b._shapesInArea[c]:b._shapesInArea[c]=a})):(d=Object.keys(this._shapesInArea).map(function(a){return b._shapesInArea[a]}),this._shapesInArea={});return d};return b}(Nc),cw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.center=function(a){var b=
r.first(a.focusedShapes);if(b){var d=b.getInteractionEntity();d.get("canHover")&&d===b&&this._centerShapeIfPossible(b)}return a};b.prototype._getCenterOffset1D=function(a,b,d,g,k){d=d+0.5*g-0.5*a;return 0>d?k?Math.min(0,Math.max(a-b,d)):0:k?0:Math.max(0,Math.min(b-a,d))};b.prototype._centerShapeIfPossible=function(a){var b=a.getParent(),d=b&&b.getParent(),g=d&&d.getParent();if(g&&d&&b){var k=d.get(),m=k.w,n=k.h,q=k.scrollX,k=k.scrollY,s=g.get("transforms");if(q||k){var p=a.boundingBox();if(p){var r=
d.boundingBox(),d=r.w,r=r.h,t=p.clone().offset(b.get("x"),b.get("y")),b=t.x,p=t.y,w=t.w,t=t.h,m=[!q?0:this._getCenterOffset1D(m,d,b,w,s&&s.flipX),!k?0:this._getCenterOffset1D(n,r,p,t,s&&s.flipY)];g.set({scrollOffset:m})}}}return a};return b}(Nc),dw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.update=function(a){var b=a.cursorType,d=r.first(a.focusedShapes);if(b)this._sceneInteractionManagerDelegate.onCursorChange(b);
else if(d){var g,b=this._sceneInteractionManagerDelegate.getScene(),k=d.get("cursorType"),d=k!==p.CURSOR_TYPE.DEFAULT?k:this._isActionable(d)?null!=(g=b&&b.get("config").dataCursor)?g:p.CURSOR_TYPE.POINTER:p.CURSOR_TYPE.DEFAULT;this._sceneInteractionManagerDelegate.onCursorChange(d||p.CURSOR_TYPE.DEFAULT)}return a};b.prototype.reset=function(a){this._sceneInteractionManagerDelegate.onCursorChange(p.CURSOR_TYPE.DEFAULT);return a};b.prototype._isActionable=function(a){var b=this._sceneInteractionManagerDelegate.getScene(),
d=b&&null!=b.get("config").dataCursor;return!(null!=a&&b&&b.get("selectMode")===p.SELECTMODE.NONE&&!d)&&a?(a=a.getInteractionEntity(),b=a.getParent(),a.get("canSelect")&&b&&b.get("canSelect")||d&&null!=a.get("data")):!1};return b}(Nc),zp=p.INTERACTION_DELEGATE_TYPE,ew=function(a){function b(b){a.call(this,b);this._isCrosshairVisible=!1}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.update=function(a){var b=a.focusedShapes&&a.focusedShapes[0],b=(b?
b.getParent()?(d=b.getParent()).toScenePosition.apply(d,b.boundingBox().getCenter()):b.boundingBox().getCenter():void 0)||a.pointerPosition||[],d=b[0],b=b[1];if(null!=d&&null!=b&&-1===a.states.indexOf(zp.BRUSH)){var g=this._getLayers();(g=this._findActiveLayer(g,d,b))?(this._isCrosshairVisible=!0,this._onActiveLayerCrosshairMove(g,d,b)):this._removeAllCrosshair()}return a;var d};b.prototype.reset=function(a){this._removeAllCrosshair();return a};b.prototype._getLayers=function(){return this._sceneInteractionManagerDelegate.getInteractionLayers(zp.DISCRETE_CROSSHAIR)};
b.prototype._onActiveLayerCrosshairMove=function(a,b,d){a=a.toNormalizedPosition.apply(a,a.toLocalPosition(b,d))[1];return this._moveAllCrosshairTo(this._getLayers(),a)};b.prototype._removeAllCrosshair=function(){var a=this;return this._isCrosshairVisible?(this._getLayers().forEach(function(b){a._getCrosshair(b).set({opacity:0});b.notifyShapeChanged()}),this._isCrosshairVisible=!1,!0):!1};b.prototype._getCrosshair=function(a){return a.getChildren()[0]};b.prototype._isInLayer=function(a,b,d){return 0<=
b&&b<a.get("w")&&0<=d&&d<a.get("h")};b.prototype._findActiveLayer=function(a,b,d){var g=this;return U.find(a,function(a){var c=a.toNormalizedPosition.apply(a,a.toLocalPosition(b,d));return g._isInLayer(a,c[0],c[1])})};b.prototype._boundingIntervalsToSegments=function(a){a=a.map(function(a){return a[0]<a[1]?a:[a[1],a[0]]});a=this._mergeIntervals(a.sort(function(a,b){return a[0]-b[0]}));for(var b=[],d=0,g=0;g<a.length;++g){var k=a[g],m=k[1];b.push([d,k[0]]);d=m}return b};b.prototype._boundingBoxToLocalIntervals=
function(a,b,d){void 0===d&&(d=!1);var g=d?0:1;return this._boundingIntervalsToSegments(!b.length?[[0,0]]:b.map(function(b){var f=b.getParent();b=b.boundingBox().toVertices().map(function(a){var b=a[0];a=a[1];return f&&f.toScenePosition(b,a)}).map(function(b){return a.toNormalizedPosition.apply(a,a.toLocalPosition(b[0],b[1]))});return b[0][g]!==b[1][g]?[b[0][g],b[1][g]]:[b[0][g],b[2][g]]}))};b.prototype._mergeIntervals=function(a){if(0===a.length)return[];var b=a[a.length-1],d=b[0],b=b[1];a=this._mergeIntervals(a.slice(0,
a.length-1));if(a.length){var g=a[a.length-1][1];g>=d?g<b&&(a[a.length-1][1]=b):a.push([d,b])}else return[[d,b]];return a};b.prototype._moveAllCrosshairTo=function(a,b){var d=this,g=!1;a.forEach(function(a){var c=d._getCrosshair(a),n=c.get("formatter"),q=c.get("scale");n&&q&&(c.set({y:b,opacity:1,text:n(q.invert(b))}),a.notifyShapeChanged(),g=!0)});return g};return b}(Nc),hb=function(){this._items={};this._cellCtx={};this._isResize=!1;this._legendSorter=null};hb.prototype.remove=function(){this._items=
{};this._cellCtx={};return this};hb.prototype.setIsResize=function(a){this._isResize=a};hb.prototype.isResize=function(){return this._isResize};hb.prototype.setLegendSorter=function(a){this._legendSorter=a};hb.prototype.getLegendSorter=function(){return this._legendSorter};hb.prototype.setItem=function(a,b){this._items[a]=b;return this};hb.prototype.getItem=function(a){return this._items[a]};hb.prototype.getItems=function(){return this._items};hb.prototype.removeItem=function(a){delete this._items[a];
return this};hb.prototype.getCellKeys=function(){return Object.keys(this._cellCtx)};hb.prototype.setCellContext=function(a,b){this._cellCtx[a]=b;return this};hb.prototype.removeCellContext=function(a){delete this._cellCtx[a];return this};hb.prototype.getCellContext=function(a){return this._cellCtx[a]};hb.prototype.forEachCell=function(a){var b=this;this.getCellKeys().forEach(function(c){a(c,b.getCellContext(c))});return this};var ad=function(){};ad.prototype.render=function(a,b,c,f){};ad.prototype.getCellRendererConfig=
function(){return{display:!0,createLayer:!0,adjustRowToFit:!1,adjustColumnToFit:!1,offsetX:0,offsetY:0}};ad.prototype._applyOffsets=function(a,b,c){var f=c.offsetX;c=c.offsetY;if(a=a.getChildByKey(b))a.offsetX(f),a.offsetY(c)};var bd={applyTransforms:function(a,b){b&&b.flipY&&a.flipY()},radius:function(a){return Math.min(a.get("w")/2,a.get("h")/2)-1},getLayerKey:function(a){return a.key+"-layer"},newLayer:function(a){return new Ga({key:this.getLayerKey(a),cell:a,staggerAnim:!1})},cellMap:function(a){var b=
{};a.getCells().forEach(function(a){b[x.camelCase(a.key)]=a});return b},toShapeKeys:function(a){if("["===a[0]&&"]"===a[a.length-1])try{return JSON.parse(a)}catch(b){return[a]}else return[a]}},Fs=zd.getInstance(),vh=td.getInstance().getDefaultTheme(),pc=p.ICON.SIZE,Uj=p.ICON.TEXT_PADDING,Cg={xNumbers:en,yNumbers:Cc.rotateBuilderFct(en),xLabels:Cc.rotateBuilderFct(hn),yLabels:hn,yTime:kn,xTime:Cc.rotateBuilderFct(kn),yTitle:fn,xTitle:Cc.rotateBuilderFct(fn)},$k={adjustLayoutForAxis:function(a,b,c,f){!b.showTitle&&
f&&("x"===a?f.adjustRowToFit():f.adjustColumnToFit());!b.showAxis&&c&&("x"===a?c.adjustRowToFit():c.adjustColumnToFit())},adjustLayout:function(a,b){var c=ac.getXAxisDefinition(b);c&&this.adjustLayoutForAxis("x",c,a.cellByKey("axis-x"),a.cellByKey("axis-x-title"));(c=ac.getYAxisDefinition(b))&&this.adjustLayoutForAxis("y",c,a.cellByKey("axis-y"),a.cellByKey("axis-y-title"))},getTitleCellRendererConfig:function(a,b,c,f){b={showTitle:a.showMeasureTitle,title:b,column:[c],titleMaxLines:f||[1]};ac.addSortingInfoToAxis(b,
a.sorting,a);return{axis:b,isDimension:!1,cellRenderer:new Zk("x")}},adjustXTitleHeightToFit:function(a){var b=a.boundingBox();if(b&&a.get("h")!==b.h){var c=a.get("h")-b.h;a.getChildren().forEach(function(a){a.set({y:a.get("y")-c})})}a.adjustRowToFit()},adjustYTitleWidthToFit:function(a){a.adjustColumnToFit()}},Zk=function(a){function b(b){a.call(this);this.type=b}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.render=function(a,b,d,g){d=r.defaults(d,
this.getCellRendererConfig());var k=d.axis,m=d.size,n=d.isDimension,q=d.titleColor,s=d.normalize,p=d.key,A=d.titleOffset,t=g.scene;g=!!t.get("transforms").rotate;var w=!!t.get("transforms").flipX,t=!!t.get("transforms").flipY;if(k.showTitle){var z=k.title;q||(q=n?a.config.theme.getDimensionAxisTitleColor():a.config.theme.getMeasureAxisTitleColor());var v="x"===this.type?"xTitle":"yTitle",p=p||bd.getLayerKey(b);Cg[v]({cell:b,key:p,titles:z,titleColor:q,normalize:s,size:m,isDimension:n,axis:k,theme:a.config.theme,
titleOffset:A});this._applyOffsets(b,p,d);if(null!=d.adjustToFit?d.adjustToFit:1)"x"===this.type?($k.adjustXTitleHeightToFit(b),(g&&!w||!g&&!t)&&b.flipY()):($k.adjustYTitleWidthToFit(b),(g&&!t||!g&&w)&&b.flipX())}};return b}(ad),fw=function(a){function b(b){a.call(this);this.cellMethod=b}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.render=function(a,b,d,g){d=r.defaults(d,this.getCellRendererConfig());d.adjustRowToFit&&b.adjustRowToFit();d.adjustColumnToFit&&
b.adjustColumnToFit();if(d.display)return g.layer=d.createLayer&&bd.newLayer(b),g.cell=b,this.cellMethod.call(a,g)};return b}(ad),gw=function(a){function b(b){a.call(this);this.type=b}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.render=function(a,b,d,g){d=r.defaults(d,this.getCellRendererConfig());g=d.axis;var k=d.gridLineLength,m=d.drawAxisLine,n=d.drawGridLines,q=d.normalize,s=d.key,u=d.scale,s=s||bd.getLayerKey(b),u=r.isFunction(u)?u():u;Cg["x"===
this.type?"xNumbers":"yNumbers"]({key:s,cell:b,scale:u,gridLineLength:k,drawGridLines:n,drawAxisLine:m,drawAxis:g.showAxis,format:q?p.FORMAT.PERCENT.AXIS:g.format,theme:a.config.theme});this._applyOffsets(b,s,d)};return b}(ad),hw=zd.getInstance(),iw=function(a){function b(b){a.call(this);this.type=b}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.render=function(a,b,d,g){d=r.defaults(d,this.getCellRendererConfig());var k=d.layout,m=d.icon,n=d.numColumns,
q=d.rows,s=d.showSeparationLines,u=d.floating,A=d.overflowForSlanted,t=d.resizeCell,w=d.scale,z=d.showCrosshair;d=Cg["x"===this.type?"xLabels":"yLabels"]({key:d.key||bd.getLayerKey(b),cell:b,layout:k,numColumns:n,rows:q,floating:u,overflowForSlanted:A,showSeparationLines:s,icon:m,theme:a.config.theme});t?"x"===this.type?b.adjustRowToFit():b.adjustColumnToFit():d&&d.offsetX(b.get("w")-d.boundingBox().w);if(z){k=k===p.AXIS.LABELS.LAYOUT.HIDDEN;t=bd.cellMap(b.getScene()).plot;z=w.range();d=a.config.theme;
var v=Xc.uniqueColumns(q.getFields()),q=ac.getColumns(a.config,"trellis").length,y=0<q?q:0,K=y+v.length;t&&b.append((new Te({x:b.get("w")+(k?0:p.PADDING),key:"crosshair-layer",decorationType:p.DECORATION_LAYER_TYPE.DISCRETE_CROSSHAIR,w:t.get("w"),h:z[z.length-1]})).append(new al({key:"crosshair",stroke:d.getCrosshairStrokeColor(),fill:d.getCrosshairFillColor(),length:t.get("w"),labelWidth:b.get("w"),textHAlign:k?"left":"right",isChartRotated:g.config.transforms.rotate,isTrellis:a.isTrellis(),scale:w,
formatter:function(a){return bd.toShapeKeys(a).slice(y,K).map(function(a,b){return hw.formatColumnValue(a,v[b])}).join("/")}})))}};return b}(ad),jw=function(a){function b(b){a.call(this);this.type=b}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.render=function(a,b,d,g){d=r.defaults(d,this.getCellRendererConfig());var k=d.key,m=d.drawAxis,n=d.drawAxisLine,q=d.granularity,s=d.dataFormat,u=d.fiscalGranularity,A=d.scale,t=d.formats,w=d.isDiscrete,z=
d.firstDayOfWeek,v=d.formatter,y=d.showCrosshair,k=k||bd.getLayerKey(b),A=r.isFunction(A)?A():A;Cg["x"===this.type?"xTime":"yTime"]({key:k,cell:b,scale:A,drawAxis:m,granularity:q,dataFormat:s,fiscalGranularity:u,drawAxisLine:n,showMeasure:!0,formats:t,isDiscrete:w,firstDayOfWeek:z,theme:a.config.theme});this._applyOffsets(b,k,d);y&&(d=bd.cellMap(b.getScene()).plot,k=a.config.theme,d&&v&&b.append((new Te({x:b.get("w"),key:"crosshair-layer",decorationType:p.DECORATION_LAYER_TYPE.TIME_CROSSHAIR,w:d.get("w"),
h:b.get("h")})).append(new al({key:"crosshair",stroke:k.getCrosshairStrokeColor(),fill:k.getCrosshairFillColor(),length:d.get("w"),labelWidth:b.get("w"),textHAlign:m?"right":"left",isChartRotated:g.config.transforms.rotate,isDiscrete:w,isTrellis:a.isTrellis(),formatter:v,scale:A,dataGranularity:q,firstDayOfWeek:z,fiscalGranularity:u}))))};return b}(ad),kw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(ad),
si=function(){};si.get=function(){return new si};si.prototype.getCellRenderer=function(a,b,c){var f=c.type;c=c.orientation;b=x.camelCase(b.key);a=a[b+"Cell"];return f===p.CELL_RENDERER_TYPE.TITLE?new Zk(c):f===p.CELL_RENDERER_TYPE.TIME?new jw(c):f===p.CELL_RENDERER_TYPE.DIMENSION?new iw(c):f===p.CELL_RENDERER_TYPE.MEASURE?new gw(c):a?new fw(a):new kw};var cc=function(a){var b=a.field,c=a.theme,f=a.legendSwatchType,d=a.columnDataType;this._type=a.type;this._field=b;this._theme=c||td.getInstance().getDefaultTheme();
this._legendSwatchType=f||p.MARK_TYPE.BAR;this._columnDataType=d};cc.prototype.getLegendSwatchType=function(){return this._legendSwatchType};cc.prototype.isConstant=function(){return!1};cc.prototype.setField=function(a){this._field=a};cc.prototype.hasField=function(){return void 0!==this._field};cc.prototype.getField=function(){return this._field};cc.prototype.getColumn=function(){return this._field&&this._field.getName()};cc.prototype.getType=function(){return this._type};cc.prototype.getColumnDataType=
function(){return this._columnDataType};cc.prototype._getColorsForDomainFromPalette=function(a,b,c){var f=this;void 0===c&&(c=!1);if(!a)return b;var d=this._field;if(a.length){b=a.map(function(d,g){return ac.getPaletteColor(f._theme,g,a.length,b,c)});if(d=d&&d.getValueColors())for(var g in d)d[g]&&("null"===g&&(!a.includes(g)&&a.includes(null))&&(g=null),b[a.indexOf(g)]=d[g]);return b}return[]};var Ap={correctBreakpoints:function(a,b,c,f){var d;Array.isArray(b)?(d=r.min(b),b=r.max(b)):d=b;f=!1!==
f;a=[].concat(a);var g=a.every(function(b,c){return 0===c||a[c-1]>b});c&&(a.push(g?-Infinity:Infinity),a.unshift(g?Infinity:-Infinity));if(f&&(g&&d>a[0]||!g&&d<a[0]))a[0]=d;c=[a[0]];d=a.length-1;var k;for(k=1;k<a.length;k++){var m=a[k],n=c[k-1];g?c.push(m>=n?n-1:m):c.push(m<=n?n+1:m)}if(f&&(g&&b<c[d]||!g&&b>c[d]))c[d]=b;return c},getBandDataOfValue:function(a,b,c){var f,d=1<b.length&&b[0]>b[1];for(f=0;f<b.length-1;f++)if(!d&&c>=b[f]&&c<b[f+1]||d&&c<=b[f]&&c>b[f+1])return{band:a[f],min:b[f],max:b[f+
1]};return{band:a[a.length-1],min:b[b.length-2],max:b[b.length-1]}},formatBandLabel:function(a,b,c,f,d){void 0===f&&(f=!0);void 0===d&&(d=!0);for(var g=c.length-1,k=1;k<c.length;k++)if(a<c[k]){g=k;break}a=b[g-1];b=c[g-1];g=c[g];c=[];d&&c.push(a.label&&a.label+" ");f&&(-Infinity===b?c.push("\x3c "+Ya(null,!0)(g)):Infinity===b?c.push("\u2265 "+Ya(null,!0)(g)):Infinity===g?c.push("\u2265 "+Ya(null,!0)(b)):-Infinity===g?c.push("\x3c "+Ya(null,!0)(b)):(f=W.getLabel("@salesforce/charts","range",[Ya(null,
!0)(b),Ya(null,!0)(g)]),c.push(d?"("+f+")":f)));return c.join("")},cleanupRanges:function(a,b){r.defaults(a,b);if(2>a.breakpoints.length||1>a.bands.length||a.breakpoints.length!==a.bands.length+1)a.breakpoints=b.breakpoints,a.bands=b.bands;a.breakpoints.sort(function(a,b){return a-b})},estimateBreakpoints:function(a,b){void 0===b&&(b=1);var c=a[0],f=a[1],d=[];c===f?(c=0>c?Math.floor(4*c):0,f=0>f?0:Math.ceil(1.2*f)):(c=0>c?Ja.roundUp(c):0,f=0<f?Ja.roundUp(f):0);d.push(c);if(0<b)for(var g=(f-c)/(b+
1),k=1;k<=b;k++)d.push(c+g*k);d.push(f);return d}},lw=function(a){function b(b){var f=b.numBins,d=b.palette,g=b.breakpoints,k=b.bands,m=b.rows,n=b.binsColumn;a.call(this,{type:p.CHART_LAYOUT.COLOR_TYPE.BINS,field:b.field,theme:b.theme,legendSwatchType:b.legendSwatchType});this._numBins=f;this._palette=d;this._setBreakpoints(g);this._bands=k;this._rows=m||[];this._binsColumn=n}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getBinsColumns=function(){return this._binsColumn};
b.prototype.getDomain=function(){return this.getBinsInfo().domain};b.prototype.getUnsortedDomain=function(){return this.getDomain()};b.prototype.getLabels=function(){return this.getBinsInfo().labels};b.prototype.getScale=function(){var a=this,b=this.getBinsInfo(),d=b.colors,g=b.domain,k=ha.ordinal().domain(g).range(d);return{scale:function(d){return k.scale(a.getBinIndex(d,b))},domain:function(){return g},range:function(){return d}}};b.prototype.getBins=function(){return this.getBinsInfo().bins};
b.prototype.getBinsInfo=function(){this._binsInfo||(this._binsInfo=this._computeBinsInfo());return this._binsInfo};b.prototype._computeBinsInfo=function(){var a,b,d,g,k=this._numBins,m=this._breakpoints||[],n=this._bands||[],q=this._field.getFormat();b=this.getColumn();d=Oa.rows2cols(this._rows);var s=Ya(q,!0),q=void 0;if(k){m=0;a={};x.uniq(d[b]).sort(function(a,b){return a-b}).forEach(function(b){var f;return null!=a[f=s(b)]?a[f]:a[f]=b});var n=r.values(a),k=Math.min(n.length,k),p=Math.floor(n.length/
k),A=n.length-p*k,t=0,w=p;A&&(w++,A--);for(q=[];m<k&&t<n.length;)d=0===m?-Infinity:n[t],b=m===k-1?Infinity:n[w]||n[t],t=w,w=t+p,A&&(w++,A--),m++,q.push({min:d,max:b})}else g=this._sanitizeBins(m,n,this._theme),q=g.bins,g=g.colors;var z=[],v=[];q.forEach(function(a,b){var c=a.min,f=a.max,d=a.label,d=d?d:-Infinity===c?"\x3c "+s(f):Infinity===f?"\u2265 "+s(c):(c=s(c),f=s(f),c===f?c:c+"-"+f);z.push(d);v.push(b)});Fb.isRTL()&&(z=this._convertRTL(z));g||(g=this._getColorsForDomainFromPalette(v,this._palette));
return{bins:q,colors:g,labels:z,domain:v,formattedLabels:a,formatter:s}};b.prototype._convertRTL=function(a){return a.map(function(a){return"\x3c"===a[0]||"\u2265"===a[0]?a.slice(2)+" "+a[0]:a})};b.prototype._sanitizeBins=function(a,b,d){for(var g=[],k=[],m=0,n=a.length-1;m<n;)k.push({min:a[m],max:a[m+1],label:b[m]&&b[m].label}),g.push(b[m]&&b[m].color||ac.getPaletteColor(d,m,n)),m++;return{bins:k,colors:g}};b.prototype.getBinIndex=function(a,b){var d=b.bins,g=b.formattedLabels,k=b.formatter,k=k(a);
g&&g[k]&&(a=g&&g[k]);for(g=0;g<d.length;g++){var m=d[g],k=m.min,m=m.max;if(k<=a&&m>a||k===a&&m===a)return g}};b.prototype._setBreakpoints=function(a){void 0===a&&(a=[]);a=r.filter(a.map(function(a){return 1*a}),function(a){return null!=a});var b=Ap.correctBreakpoints(a.sort(function(a,b){return a-b}),[],!0,!1);1===a.length&&b.sort(function(a,b){return a-b});this._breakpoints=b;return this};return b}(cc),mw=zd.getInstance(),nw=function(a){function b(b){var f=b.sortColor,d=b.domain,g=b.palette,k=b.respectPaletteColorOrder,
m=b.applyTheme;a.call(this,{type:p.CHART_LAYOUT.COLOR_TYPE.CATEGORICAL,field:b.field,theme:b.theme,legendSwatchType:b.legendSwatchType,columnDataType:b.columnDataType});d&&(d=d.map(function(a){return null!=a?a+"":a}));this._sortColor=null!=f?f:!0;this._unsortedDomain=this._domain=d;this._palette=g;this._respectPaletteColorOrder=null!=k?k:!1;this._applyTheme=null!=m?m:!0}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.shouldSortColor=function(){return this._sortColor};
b.prototype.getDomain=function(){return this._domain&&this.shouldSortColor()?this._domain.slice().sort():this._domain};b.prototype.getUnsortedDomain=function(){return this._unsortedDomain};b.prototype.getColors=function(){return this._getColorsForDomainFromPalette(this.getDomain(),this._palette,this._respectPaletteColorOrder)};b.prototype.getLabels=function(){var a=this,b=this.getDomain();return this.hasField()&&b?b.map(function(b){return mw.formatColumnValue(b,a._field)}):b};b.prototype.getScale=
function(){var a=this.getDomain();if(a){var b=[];if(this._applyTheme)return b=this._getColorsForDomainFromPalette(a,this._palette,!1),ha.ordinal().domain(a).range(b);var d=this._field;if(d=d&&d.getValueColors())for(var g in d)d[g]&&("null"===g&&(!a.includes(g)&&a.includes(null))&&(g=null),b[a.indexOf(g)]=d[g]);return ha.ordinal().domain(a).range(function(a,c){return b[c]})}};return b}(cc),ie=function(a){void 0===a&&(a={});a=a.value;this._type=p.CHART_LAYOUT.CONSTANT;this._value=a};ie.prototype.setValue=
function(a){this._value=a;return this};ie.prototype.isConstant=function(){return!0};ie.prototype.getType=function(){return this._type};ie.prototype.getValue=function(){return this._value};ie.prototype.getScale=function(){return ha.constant().range(this.getValue())};var ow=function(a){function b(b){var f=b.domain,d=b.gradient;a.call(this,{type:p.CHART_LAYOUT.COLOR_TYPE.GRADIENT,field:b.field,theme:b.theme,legendSwatchType:b.legendSwatchType});this._unsortedDomain=this._domain=f;this._gradient=d}a&&
(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getDomain=function(){return this._domain};b.prototype.getUnsortedDomain=function(){return this._unsortedDomain};b.prototype.getGradient=function(){return this._gradient?this._gradient:this._theme.getPrimaryGradientColors()};b.prototype.getScale=function(){var a=this.getDomain();if(a){var b=this.getGradient();return ha.gradient().domain(a).range(b)}};return b}(cc),Bp=function(){};Bp.prototype.make=function(a,
b){switch(a){case p.CHART_LAYOUT.COLOR_TYPE.CATEGORICAL:return new nw(b);case p.CHART_LAYOUT.COLOR_TYPE.GRADIENT:return new ow(b);case p.CHART_LAYOUT.COLOR_TYPE.BINS:return new lw(b);case p.CHART_LAYOUT.CONSTANT:return new ie(b);default:throw Error("invalid colorLayout type "+a);}};var Cp=pa(Bp),pw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.setRelativeSize=function(a){null!=a&&(this._relativeSize=
a);return this};b.prototype.setRatio=function(a){null!=a&&(this._ratio=a);return this};b.prototype.getRelativeSize=function(){return this._relativeSize};b.prototype.getRatio=function(){return this._ratio};b.prototype.getValue=function(){return null!=this._ratio&&null!=this._relativeSize?this._relativeSize*this._ratio/100:this._value};return b}(ie),ob=function(){this._type=p.CHART_LAYOUT.RADIUS_TYPE.SQRT;this._radius=p.MARK.POINT.MAX_RADIUS};ob.prototype.setField=function(a){this._field=a;return this};
ob.prototype.isConstant=function(){return!1};ob.prototype.hasField=function(){return void 0!==this._field};ob.prototype.getField=function(){return this._field};ob.prototype.getColumn=function(){return this._field&&this._field.getName()};ob.prototype.setMaxValue=function(a){null!=a&&(this._value=a);return this};ob.prototype.setMaxRadius=function(a){null!=a&&(this._radius=a);return this};ob.prototype.setRatio=function(a){null!=a&&(this._ratio=a);return this};ob.prototype.setRelativeSize=function(a){null!=
a&&(this._relativeSize=a);return this};ob.prototype.getRelativeSize=function(){return this._relativeSize};ob.prototype.getRatio=function(){return this._ratio};ob.prototype.getMaxRadius=function(){return null!=this._ratio&&null!=this._relativeSize?this._relativeSize*this._ratio/100:this._radius};ob.prototype.getMaxValue=function(){return this._value};ob.prototype.getScale=function(){var a=this.getMaxValue();if(null!=a){var b=ha.sqrt().domain([0,a]).range([0,this.getMaxRadius()]);return{scale:function(a){return Math.max(b.scale(Math.abs(a)),
p.MARK.POINT.MIN_RADIUS)}}}};var Dp=function(){};Dp.prototype.make=function(a){switch(a){case p.CHART_LAYOUT.RADIUS_TYPE.SQRT:return new ob;case p.CHART_LAYOUT.CONSTANT:return new pw;default:throw Error("invalid radiusLayout type "+a);}};var Ep=pa(Dp),wa=function(){this._showAxis=this._isX=!0;this._autoFitMode=p.AUTOFIT_MODE.SCROLL;this._maxBarSize=p.MARK.BAR.MAX_WIDTH;this._spacerRatio=[2,1.5];this._size=this._width=0};wa.prototype._set=function(a,b){var c=this[a];void 0!==b&&b!==c&&(this[a]=b,this._recomputeLayout());
return this};wa.prototype.isX=function(){return this._isX};wa.prototype.setIsX=function(a){return this._set("_isX",a)};wa.prototype.setSize=function(a){return this._set("_size",a)};wa.prototype.setWidth=function(a){return this._set("_width",a)};wa.prototype.setAutoFitMode=function(a){return this._set("_autoFitMode",a)};wa.prototype.setMinSpacer=function(a){return this._set("_minSpacer",a)};wa.prototype.setSpacerRatio=function(a){return!a?this:this._set("_spacerRatio",a)};wa.prototype.setMaxBarSize=
function(a){return this._set("_maxBarSize",a)};wa.prototype.setShowAxis=function(a){return this._set("_showAxis",a)};wa.prototype.showAxis=function(){return this._showAxis};wa.prototype.setPlotOptions=function(a){r.defaults(a,{barSize:p.MARK.BAR.SIZE,barSpacer:p.MARK.BAR.SPACER,labelSize:p.MARK.LINE.LABEL_SIZE,pointRadius:p.MARK.LINE.POINT_RADIUS,marks:[],isAxisModeMulti:!1});this._plotOptions=a;return this._recomputeLayout()};wa.prototype._recomputeLayout=function(){this._layoutInfo=void 0;return this};
wa.prototype._getNumMarks=function(a,b,c){a=x.countBy(a)[b]||0;b===p.MARK_TYPE.BAR&&(1<a&&c)&&(a=1);return a};wa.prototype._computePlotOffsets=function(a,b,c,f,d,g){var k=0;return a.map(function(a){return a===p.MARK_TYPE.BAR?b||g?-c/2:k++*(f+d)-c/2:0})};wa.prototype._computeFirstSpacer=function(a,b){var c=b?b:Ja.interpolate([p.MARK.BAR.SIZE+1,1/p.MARK.BAR.SIZE],[40,0.2])(a,!0)*a;return 0.15>c?0:1>c?1:c};wa.prototype._computeSpacers=function(a,b){var c=Math.max(a*this._spacerRatio[0],2,2*b/5);return[a,
c,c*this._spacerRatio[1]]};var mn=100,Gs=1E4,qw=[0,100],rw=12,sw=function(a){function b(){a.call(this);this._scaleType=p.SCALE.LINEAR;this._referenceLineMargin=rw;this._format=["###,##",1];this._showZero=!0;this._axisMargin=[0,0];this._plots=[];this._hasHorizontalTicks=this._hasNiceTicks=this._isX=!0;this._step=0;this._adjustMin=this._isNormalized=!1}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.setStep=function(a){this._step=a;return this};b.prototype.getStep=
function(a){return this._step};b.prototype.setAdjustMin=function(a){this._adjustMin=a;return this};b.prototype._getAdjustMin=function(){return this._adjustMin};b.prototype.setIsNormalized=function(a){this._isNormalized=a;return this};b.prototype.isNormalized=function(){return this._isNormalized};b.prototype.setHasNiceTicks=function(a){void 0===a&&(a=!0);a||this.setStep(0);this._hasNiceTicks=a;return this};b.prototype.hasNiceTicks=function(){return this._hasNiceTicks};b.prototype.setHasHorizontalTicks=
function(a){void 0===a&&(a=!0);this._hasHorizontalTicks=a;return this};b.prototype.hasHorizontalTicks=function(){return this._hasHorizontalTicks};b.prototype.setFormat=function(a){a&&(this._format=a);return this};b.prototype.getFormat=function(){return this._format};b.prototype.getFormatMultiplier=function(){return this._format&&Math.abs(this._format[1])||1};b.prototype.setShowZero=function(a){this._showZero=a;return this};b.prototype.showZero=function(){return!!this._showZero};b.prototype.setCustomDomain=
function(a){if(a&&2===a.length&&(void 0!==a[0]||void 0!==a[1]))this._customDomain=a;return this};b.prototype.hasCustomDomain=function(){return!!this._customDomain};b.prototype.setDataDomain=function(a){a&&(this._dataDomain=a);return this};b.prototype.setDataMargin=function(a){a&&(this._dataMargin=a);return this};b.prototype.setAxisDomain=function(a){a&&(this._axisDomain=a);return this};b.prototype.setAxisMargin=function(a){a&&(this._axisMargin=a);return this};b.prototype.setSize=function(a){this._size=
a;return this};b.prototype.setReferenceLines=function(a){this._referenceLines=a;return this};b.prototype.getReferenceLines=function(){return this._referenceLines};b.prototype.setScaleType=function(a){this._scaleType=a;return this};b.prototype.getScaleType=function(){return this._scaleType};b.prototype.setReferenceLineMargin=function(a){this._referenceLineMargin=a;return this};b.prototype.hasReferenceLines=function(){return this._referenceLines&&this._referenceLines.length};b.prototype.addPlot=function(a){this._plots=
this._plots.concat(a);return this};b.prototype.resetPlot=function(){this._plots=[];return this};b.prototype.getAxisDomainInfo=function(){return this._getAxisDomainInfo()};b.prototype._getNicedDomainInfo=function(a,b){var d=0,g=a;if(b[0]+b[1]<this._size/2&&this.hasNiceTicks()&&!this.hasCustomDomain()){var k=p.AXIS.NUM.TICKMARK,m=k.HORI_DISTANCE,n=k.VERTI_DISTANCE,k=k.MIN_DISTANCE,m=this.hasHorizontalTicks()?m:n,q=n=Math.round(this._size/m);this.isNormalized()&&(g=[Math.max(a[0],-100),Math.min(a[1],
100)]);for(var s;(!d||s.scale(s.domain()[0]+d)-s.scale(s.domain()[0])>m)&&1E3>n;)s=ha.linear().domain(g).range([0,this._size]).nice(n++),d=s.step();for(;s.scale(s.domain()[0]+d)-s.scale(s.domain()[0])<k&&n>=q;)s=ha.linear().domain(g).range([0,this._size]).nice(n--),d=s.step();b=Cb.adjustMargin(a,b,s);a=s.domain()}return{domain:a,margin:b,step:d}};b.prototype._getAxisDomainInfo=function(a,b,d){void 0===d&&(d=!0);if(this._axisDomain&&this._axisMargin)return{domain:this._axisDomain,margin:this._axisMargin,
step:this.getStep()};if(!a||!b)b=this._getDataDomainMargin(),a=b.domain,b=b.margin;var g;a&&(g=this.getFormatMultiplier(),g=[a[0]*g,a[1]*g]);var k=a="data";if(this.hasReferenceLines()){var m=Ja.getMinMax(r.map(this._referenceLines,"value"));g||(g=m,k=a="refline");m[0]<g[0]&&(g[0]=m[0],a="refline");m[1]>g[1]&&(g[1]=m[1],k="refline")}this._customDomain&&(k=ln(this._customDomain,g,a,k),g=k.domain,a=k.lowBound,k=k.highBound);g?g[0]===g[1]&&(g=Cb.adjustDomain(g),k=a=void 0):g=qw;b=[this._getMarginByBoundType(a,
g[0],b[0]),this._getMarginByBoundType(k,g[1],b[1])];a=this.getStep();d&&(d=this._getNicedDomainInfo(g,b),g=d.domain,b=d.margin,a=d.step);return{domain:g,margin:b,step:a}};b.prototype._getDataDomainMargin=function(){var a=this.showZero();if(this._dataDomain&&this._dataMargin){var b=this._dataDomain;a&&(b=[Math.min(0,b[0]),Math.max(0,b[1])]);return{domain:b,margin:this._dataMargin}}var d=this.isX(),g=d?function(a){return[a.x,a.x+a.w]}:function(a){return[a.y,a.y+a.h]},k=this._plots;if(b=k.length?g(Zh.domainBox(k)):
void 0)a&&(b=[Math.min(0,b[0]),Math.max(0,b[1])]);else return b=a?[0,0]:void 0,{domain:b,margin:[0,0]};for(var m=this._getScale(b,[0,0],!1),a={scale:function(a){return m.invert(a)}},n=0;n<k.length;n++)k[n].applyScales(d?{x:m}:{y:m});g=g(Zh.boundingBox(k));for(n=0;n<k.length;n++)k[n].applyScales(d?{x:a}:{y:a});d=[m.scale(b[0]),m.scale(b[1])];d=[Math.max(d[0]-g[0],0),Math.max(g[1]-d[1],0)];d[0]=0.01>d[0]?0:d[0];d[1]=0.01>d[1]?0:d[1];d[1]&&(d[1]+=1.5);d[0]&&(d[0]+=1.5);return{domain:b,margin:d}};b.prototype._getMarginByBoundType=
function(a,b,d){switch(a){case "refline":return Math.max(this._referenceLineMargin,d);case "data":return d;default:return 0}};b.prototype._getScale=function(a,b,d){void 0===d&&(d=!0);var g=(ha[this._scaleType]||ha.linear)();d=this._getAxisDomainInfo(a,b,d);a=d.domain;b=d.margin;d=d.step;if(a){var k=this.getFormatMultiplier();1!==k&&(a=[a[0]/k,a[1]/k],d/=k);k=this._getAdjustMin();return g.domain(a).range([k?0:b[0],this._size-b[1]]).adjustRange([k?-b[0]:0,this._size]).step(d)}};b.prototype.settleAxisDomainInfo=
function(){var a=this.getAxisDomainInfo(),b=a.margin,d=a.step;this.setAxisDomain(a.domain).setAxisMargin(b).setStep(d);return this};b.prototype.getScale=function(){return this._getScale()};return b}(wa),tw=function(a){function b(){a.call(this);this._granularity=p.TIME_GRANULARITY.MONTH;this._isDiscrete=!1}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.setFormats=function(a){this._formats=a;return this};b.prototype.getFormats=function(){return this._formats};
b.prototype.setGranularity=function(a){return this._set("_granularity",a)};b.prototype.getGranularity=function(){return this._granularity};b.prototype.setDataGranularity=function(a){return this._set("_dataGranularity",a)};b.prototype.getDataGranularity=function(){return this._dataGranularity};b.prototype.setFirstDayOfWeek=function(a){return this._set("_firstDayOfWeek",a)};b.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek};b.prototype.setDataFormat=function(a){return this._set("_dataFormat",
a)};b.prototype.getDataFormat=function(){return this._dataFormat};b.prototype.setFiscalGranularity=function(a){return this._set("_fiscalGranularity",a)};b.prototype.getFiscalGranularity=function(){return this._fiscalGranularity};b.prototype.setIsDiscrete=function(a){return this._set("_isDiscrete",a)};b.prototype.isDiscrete=function(){return this._isDiscrete};b.prototype.setDomain=function(a){return this._set("_domain",a)};b.prototype.getDomain=function(){return this._domain};b.prototype.setCustomDomain=
function(a){this._customDomain=a;return this};b.prototype.getCustomDomain=function(){return this._customDomain};b.prototype.hasCustomDomain=function(){return!!this._customDomain};b.prototype.needsScroll=function(){if(!this._size)return!1;var a=this.getLayoutInfo();return void 0!==a&&a.plot.plotSize>this._size+0.1};b.prototype.getLayoutInfo=function(){this._layoutInfo||this._computeLayoutInfo();return this._layoutInfo};b.prototype._computeLayoutInfo=function(){var a=this._plotOptions,b=a.barSize,d=
a.barSpacer,g=a.labelSize,k=a.pointRadius,m=a.marks,n=a.isAxisModeMulti,q=a.stack,s=this._autoFitMode,u=this._minSpacer,r=this._size,a=this._dataGranularity,t=this._firstDayOfWeek,w=this._domain,z=q?1:this._getNumMarks(m,p.MARK_TYPE.BAR,n),v=this._getNumMarks(m,p.MARK_TYPE.LINE,n),s=s===p.AUTOFIT_MODE.FIT,y,K,B,T,X,x=0;this._customDomain&&(w=ln(this._customDomain,w,p.BOUND_TYPE.DATA,p.BOUND_TYPE.DATA).domain);w&&void 0!==w[0]?(y=w[0],K=w[1],B=ra.diff(y,K,a,t)+1):(y=K=ra.getConstantEpoch(),B=1);if(s){T=
r/B;X=T/2;if(v&&1<B&&(!z||X<k))X=Math.min(k,r/2),T=(r-2*k)/(B-1);z&&(b=this._computeFirstSpacer(T,u),1===z&&"month"===a&&(b=Math.max(b,0.45*T)),x=Math.min(T-b,this._maxBarSize),1<z?(d=12>x/z?0:1,b=(x-d*(z-1))/z):b=x);k=r}else 1===z&&"month"===a&&(d=Math.max(d,0.45*b)),z?(x=z*(b+d)-d,k=1===z?d:this._computeSpacers(d,x)[1],k=B*(x+k)-k,X=x/2):(k=B*g,X=g/2);1===B?(s&&!this.isDiscrete()?(y=ra.offset(y,-2,a,t).valueOf(),K=ra.offset(K,2,a,t).valueOf()):(y--,K++),s=ha.linear().domain([y,K]).range([0,k])):
s=ha.linear().domain([y,K]).range([X,k-X]).adjustRange([0,k]);d=this._computePlotOffsets(m,n,x,b,d,q);m=v?ra.getCategories(s,a,t,w):void 0;this._layoutInfo={plot:{barSize:b,plotSize:k,offsets:d,labelSize:T||g},categories:m,scale:s}};b.prototype.getScale=function(){this._layoutInfo||this._computeLayoutInfo();return this._layoutInfo&&this._layoutInfo.scale};return b}(wa),uw=zd.getInstance(),vw=p.MARK_TYPE,dc,ww=function(a){function b(){a.call(this);this._hasSeries=this._hasIcon=!1}a&&(b.__proto__=a);
b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.hasHierarchy=function(){return!this._rows?!1:this._rows.hasHierarchy()};b.prototype.setHasIcon=function(a){return this._set("_hasIcon",a)};b.prototype.setRows=function(a){return this._set("_rows",a)};b.prototype.getRows=function(){return this._rows};b.prototype.setLabelsDepth=function(a){return this._set("_labelsDepth",a)};b.prototype.getLabelsDepth=function(){return this._labelsDepth};b.prototype.setHasSeries=function(a){return this._set("_hasSeries",
a)};b.prototype.needsScroll=function(){return!this._rows||!this._size?!1:this._rows.getLayout().h>this._size+0.1};b.prototype.getLayoutInfo=function(){this._layoutInfo||this._computeLayoutInfo();return this._layoutInfo};b.prototype.setRowsLayout=function(a,b){this._rows&&(this._rowHeight=a,this._rowSpacers=b,this._rows.setLayout({rowHeight:a,spacers:b}));return this._recomputeLayout()};b.prototype.setLabelLayout=function(a){a===p.AXIS.LABELS.LAYOUT.VERTICAL&&(a=p.AXIS.LABELS.LAYOUT.NORMAL);return this._set("_labelLayout",
a)};b.prototype.getLabelLayout=function(){return this._labelLayout};b.prototype._computeLayoutInfo=function(){this._rows&&(this._layoutInfo={plot:this._computePlotLayoutInfo(),axis:this._computeAxisLayoutInfo(),scale:this._rows.getScale(),categories:this._rows.getCategories()})};b.prototype._getLabelHeight=function(){if(!dc){var a=Da.getDelegate().getRealFontSize(p.AXIS.LABELS.TEXT.SIZE);dc={WIDE:a+2*p.AXIS.LABELS.PADDING.WIDE,SMALL:a+2*p.AXIS.LABELS.PADDING.SMALL,WITH_ICON:p.ICON.SIZE}}return dc};
b.prototype._computePlotLayoutInfo=function(){var a=this;if(this._plotOptions){var b=this._rows;if(b){dc=this._getLabelHeight();var d=0,g=[],k=0,m=this._plotOptions,n=m.barSize,q=m.barSpacer,s=m.labelSize,u=m.marks,r=m.isAxisModeMulti,m=m.stack,t=this._autoFitMode,w=this._minSpacer,z=this._hasIcon,v=this._size,y=t===p.AUTOFIT_MODE.KEEP_LABELS,K=z?dc.WITH_ICON+1:dc.SMALL,B=m?1:this._getNumMarks(u,vw.BAR,r),T=function(){var b=a._computeFirstSpacer(K,w)+1;g=a._computeSpacers(b,K-b);k=n=d=K-b};if(t!==
p.AUTOFIT_MODE.SCROLL)if(B){q=v/b.numBaseRows();if(y&&q<K)z?T():(d=K,g=this._computeSpacers(1,d));else{s=this._computeFirstSpacer(q,w);g=this._computeSpacers(s,q-s);d=Math.max(q-s,1);y=y?dc.SMALL/d:0;b.setLayout({rowHeight:d,spacers:g});var q=b.getLayout().h,X=Math.max(v/q,y),d=d*X,g=g.map(function(a){return a*X})}k=Math.min(d,this._maxBarSize);1<B?(q=12>k/B?0:1,n=(k-q*(B-1))/B):(n=k,g[0]||(n+=1),q=0)}else d=v/b.numBaseRows(),t===p.AUTOFIT_MODE.KEEP_LABELS&&(d=Math.max(d,K)),g=[0,0,0];else switch(g=
this._computeSpacers(q,n),k=B*n+(B-1)*q,B){case 0:d=s;g=[0];break;case 1:z?T():d=n;break;default:d=k,g.shift()}b.setLayout({rowHeight:d,spacers:g});u=this._computePlotOffsets(u,r,k,n,q,m);return{barSize:n,offsets:u,labelSize:d,plotSize:b.getLayout().h}}}};b.prototype._computeAxisLayoutInfo=function(){if(this._rows){dc=this._getLabelHeight();var a=Da.getDelegate(),b,d=this._showAxis,g=Math.PI/4,k=this._width,m=this._hasIcon,n=this._rows;if(n){var q=p.AXIS.LABELS.LAYOUT;b=q.NORMAL;var s=q.ORTHOGONAL,
u=q.SLANTED,q=q.HIDDEN,A=p.AXIS.LABELS.PADDING,t=n.getFields().length;if(!d||!t)return{layout:q,numColumns:this._getNumColumns(0)};var d=n.getRowHeight(),w=n.hasHierarchy(),z=Math.floor(k/dc.WIDE),k=Math.floor(k/(m?p.AXIS.LABELS.MIN_COLUMN_SIZE+p.ICON.SIZE+p.ICON.TEXT_PADDING:p.AXIS.LABELS.MIN_COLUMN_SIZE)),v=function(b,f){return a.getTextWidth(uw.formatColumnValue(b,f),p.AXIS.LABELS.TEXT.SIZE)+1+2*A.SMALL},m=function(a,b){return dc.SMALL},y=function(a,b){var c=n.numColumns(),f=x.range(0,c).map(function(a){return a<
b});n.traverse(function(b,c,d,g){d=d.index;if(f[d]&&a(b,c)>g.layout.h+0.1)return f[d]=!1});var d=f.indexOf(!1),d=0>d?c:d,c=r.last(f),g=f.lastIndexOf(!0)+1;return{isLastFit:c,max:d,grainest:g}};if(this.isX()){z=y(v,z);m=y(m,k);y={layout:q,numColumns:this._getNumColumns(0)};if(this._labelLayout){switch(this._labelLayout){case s:if(z.grainest)return{layout:s,numColumns:this._getNumColumns(z.grainest)};break;default:if(m.grainest)return{layout:this._labelLayout,numColumns:this._getNumColumns(m.grainest)}}return y}if(1<
t)return w&&z.isLastFit||!w&&z.max===t?{layout:s,numColumns:this._getNumColumns(t)}:m.max===t?{layout:b,numColumns:this._getNumColumns(t)}:0<m.grainest||0<z.grainest?z.grainest>=m.grainest?{layout:s,numColumns:this._getNumColumns(z.grainest)}:{layout:b,numColumns:this._getNumColumns(m.grainest)}:y;b=z.max?s:k&&d>=dc.SMALL?d>dc.SMALL/Math.cos(g)&&!this.needsScroll()?u:b:q;return{layout:b,numColumns:this._getNumColumns(b===q?0:1)}}g=y(m,k).max;return{layout:0<g?b:q,numColumns:this._getNumColumns(g)}}}};
b.prototype.getScale=function(a){return void 0===a?(this._layoutInfo||this._computeLayoutInfo(),this._layoutInfo&&this._layoutInfo.scale):this._rows&&this._rows.getScale(a)};b.prototype.getCategories=function(a){return void 0===a?(this._layoutInfo||this._computeLayoutInfo(),this._layoutInfo&&this._layoutInfo.categories):this._rows&&this._rows.getCategories(a)};b.prototype._getNumColumns=function(a){return null!=this._labelsDepth?Math.min(a,this._labelsDepth):a};return b}(wa),Fp=function(){};Fp.prototype.make=
function(a){switch(a){case p.CHART_LAYOUT.AXIS_TYPE.NUMERIC:return new sw;case p.CHART_LAYOUT.AXIS_TYPE.TIME:return new tw;case p.CHART_LAYOUT.AXIS_TYPE.CATEGORICAL:return new ww;default:throw Error("invalid radiusLayout type "+a);}};var Gp=pa(Fp),Oc=function(a){var b=this;this._type=a.type;this._normalize=!!a.normalize;this._measureColumns=a.measureColumns;this._columnMap={};this._internalStartColumnMap={};this._normalizedColumnMap={};this._measureColumns.forEach(function(a){var f=a.getName();if(b._columnMap[f])throw Error("column with "+
f+" already exist");b._columnMap[f]=a;b._internalStartColumnMap[f]=(new li(b._getInternalStartColumnName(f))).setInternalOnly(!0)});this.isNormalize()&&this._measureColumns.forEach(function(a){a=a.getName();var f=b._getInternalNormalizeColumnName(a);b._normalizedColumnMap[a]=(new li(f)).setInternalColumnName(f).setInternalOnly(!0)})};Oc.prototype.isNormalize=function(){return this._normalize};Oc.prototype.getRowsTransform=function(){};Oc.prototype.getStartColumn=function(a){return this._internalStartColumnMap[a]};
Oc.prototype.getNormalizedColumn=function(a){return this._normalizedColumnMap[a]};Oc.prototype.getColumn=function(a){return this._columnMap[a]};Oc.prototype._getInternalStartColumnName=function(a){return a+"_$s"};Oc.prototype._getInternalNormalizeColumnName=function(a){return a+"_$n"};Oc.prototype._normalizeRows=function(a,b,c){var f=b.getName(),d=this._internalStartColumnMap[f].getName(),g=this._normalizedColumnMap[f].getName(),k=c?100/c:0;a.forEach(function(a){var b=Oa.getRowInternalField(a,d);
Oa.setRowInternalField(a,d,b*k);Oa.setRowInternalField(a,g,a[f]*k)})};var xw=function(a){function b(b){a.call(this,{type:p.CHART_LAYOUT.STACK_TYPE.BY_MEASURE,measureColumns:b.measureColumns})}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getRowsTransform=function(){var a=this,b=this._internalStartColumnMap;return function(d){var g=0,k=0;a._measureColumns.forEach(function(a,c){var q=a.getName(),s=d[q],q=b[q].getName();0<=s?(Oa.setRowInternalField(d,
q,g),g+=s):(Oa.setRowInternalField(d,q,k),k+=s)});return d}};return b}(Oc),Dg=p.SORT,yw=function(a){function b(b){var f=b.stackColumn,d=b.trellisColumns,g=b.tabularRows;a.call(this,{type:p.CHART_LAYOUT.STACK_TYPE.BY_MEASURE,normalize:b.normalize,measureColumns:b.measureColumns});b=b.stackOrder||{};this._tabularRows=g;this._stackOrder=r.defaults(b,{type:Dg.ROWS,order:Dg.ORDER.ASC});this._stackColumn=f;this._trellisColumns=d&&d.length?d:void 0;this._isTrellised()&&(this._trellisValueFct=this._getTrellisValueFct(this._trellisColumns));
this._transformRows(g,b,f)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._isTrellised=function(){return!!this._trellisColumns};b.prototype._getTrellisValueFct=function(a){return sa.getValueFct({field:a})};b.prototype._getSortFct=function(a,b){var d=b.type,g=b.order,k=sa.getValueFct({field:a});return d===Dg.TYPE.ROWS?this._getSortByRowsFct(g):this._getSortByValueFct(k,g)};b.prototype._getSortByRowsFct=function(a){return function(b){return a===Dg.ORDER.DESC?
b.slice().reverse():b}};b.prototype._getSortByValueFct=function(a,b){return function(d){d=r.sortBy(d,function(b){return a(b)});b===Dg.ORDER.DESC&&d.reverse();return d}};b.prototype._splitRowsByTrellis=function(a){var b=this._trellisValueFct,d={};a.forEach(function(a){var c=b(a);d[c]||(d[c]=[]);d[c].push(a)});return r.values(d)};b.prototype._getStackRowsFct=function(a,b,d){var g=this;return function(k){var m=a.getName(),n=b[m].getName(),q=0,s=0;k.forEach(function(a){var b=a[m];0<=b?(Oa.setRowInternalField(a,
n,q),q+=b):0>b&&(Oa.setRowInternalField(a,n,s),s+=b)});d&&g._normalizeRows(k,a,q-s)}};b.prototype._transformRows=function(a,b,d){var g=this,k=this._getSortFct(d,b),m=this._measureColumns.map(function(a){return g._getStackRowsFct(a,g._internalStartColumnMap,g.isNormalize())});a.traverse(function(a,b,c,f,d,p,r){r.isLeaf()&&(a=r.getBaseRows(),b=[a],g._isTrellised()&&(b=g._splitRowsByTrellis(a)),b.forEach(function(a){a=k(a);m.forEach(function(b){return b(a)})}))})};return b}(Oc),Hp=function(){};Hp.prototype.make=
function(a,b){switch(a){case p.CHART_LAYOUT.STACK_TYPE.BY_MEASURE:return new xw(b);case p.CHART_LAYOUT.STACK_TYPE.BY_DIMENSION:return new yw(b);default:throw Error("invalid stackLayout type "+a);}};var Ip=pa(Hp),Eg=Cp.getInstance(),Jp=Ep.getInstance(),bl=Gp.getInstance(),Kp=Ip.getInstance(),ib=p.CHART_LAYOUT,cl=p.CHART_LAYOUT.COLOR_TYPE,dl=zd.getInstance(),La=function(){this._colorLayouts={};this._tooltipColumns=[];this._showPercentage=!0;this._showBinLabel=!1;this._showNullValues=!0;this._rowsMetadata=
this._customColorPickFunction=null;this._text={template:"",color:null};this._theme={}};La.prototype.setTooltipColumns=function(a){a&&(this._tooltipColumns=a);return this};La.prototype.setText=function(a){a&&a.template&&(this._text=a);return this};La.prototype.setShowPercentage=function(a){null!=a&&(this._showPercentage=a);return this};La.prototype.setShowBinLabel=function(a){null!=a&&(this._showBinLabel=a);return this};La.prototype.setShowNullValues=function(a){null!=a&&(this._showNullValues=a);return this};
La.prototype.setColorLayouts=function(a){null!=a&&(this._colorLayouts=a);return this};La.prototype.setRowsMetadata=function(a){null!=a&&(this._rowsMetadata=a);return this};La.prototype.setTheme=function(a){null!=a&&(this._theme=a);return this};La.prototype.setFormatterFunction=function(a){this._formatterFunction=a;return this};La.prototype.setDataFunction=function(a){this._dataFunction=a;return this};La.prototype.getTheme=function(){return this._theme};La.prototype.getTooltipColumns=function(){return this._tooltipColumns};
La.prototype.getRowsMetadata=function(){return this._rowsMetadata};La.prototype.hasTooltip=function(){return this._tooltipColumns.length||this._text.template};La.prototype.formatTooltip=function(a){return this.formatTooltipWithColumns(a,this._tooltipColumns)};La.prototype.formatTooltipWithColumns=function(a,b){var c=this;if(b){if(b=r.filter(b,function(a){return r.find(c._tooltipColumns,function(b){return b.getName()===a.getName()})}),!b.length)return}else b=this._tooltipColumns;return this._formatColumns(a,
b,this._text)};La.prototype.formatAnnotation=function(a,b,c){void 0===b&&(b=[]);return this._formatColumns(a,b,c)};La.prototype.setCustomColorPickFunction=function(a){this._customColorPickFunction=a;return this};La.prototype._formatColumnColor=function(a,b,c){var f=this._colorLayouts[a.getName()],d=f.getType(),g=d===cl.CONSTANT?null:f.getField(),k=d===cl.CONSTANT?a:g,m=c[k.getName()];k.isInternalOnly()&&(m=Oa.getRowInternalField(c,k.getName()));if(!(a.getType()===p.COLUMN_TYPE.MEASURE&&null==m)&&
(b.color=this._customColorPickFunction?this._customColorPickFunction(c,f,k.getName()):f.getScale().scale(m),d===cl.BINS&&this._showBinLabel&&(a=sa.getValueFct({field:g},!0)(c))))b.label+=" ("+a.label+")"};La.prototype._formatColumns=function(a,b,c){var f=this;void 0===b&&(b=[]);void 0===c&&(c={template:"",color:null});var d=this._showPercentage,g=this._rowsMetadata,k=this._formatterFunction,m=this._dataFunction,n=this._showNullValues;if(k)return k(a);m&&(a=m(a));var q=[],s;r.isEmpty(c.template)||
q.push(this._formatText(a,c));d&&(s=dl.formatPercentData(a,g));b.forEach(function(b,c){if(b&&(n||null!=a[b.getName()])){var d=b.getName(),k=a[d];b.isInternalOnly()&&(k=Oa.getRowInternalField(a,b.getName()));k=dl.formatColumn(d,k,g,s);q.push(k);f._colorLayouts[d]&&f._formatColumnColor(b,k,a)}});return q};La.prototype._formatText=function(a,b){return{label:dl.formatText(a,b.template,this._rowsMetadata),color:b.color,type:"text"}};var Lp=p.CHART_LAYOUT.COLOR_TYPE,ec=p.COLUMN_TYPE,zw={dimension:ec.DIMENSION,
color:ec.DIMENSION,measure:ec.MEASURE,trellis:ec.DIMENSION,time:ec.TIME,plot:ec.MEASURE,x:ec.MEASURE,y:ec.MEASURE,r:ec.MEASURE},el=p.COLUMN_TYPE,Mp={enrichRowsMetadata:function(a,b,c){var f=a.getColumns().map(function(a){switch(a.getType()){case el.TIME:var f=Cb.getOrdinalDomain(b,a),k=f.length;a.setCardinality(k);(0===k||1===k&&null==f[0])&&a.setIsAllNull(!0);return a;case el.MEASURE:return f=Cb.getNumericDomain(b,a),a.setDomain(f),null==f[0]&&a.setIsAllNull(!0),a;case el.DIMENSION:return Hs(a,b,
c);default:return a}});a.setColumns(f)}},Np,Aw=Np={truncateMatrix:function(a,b,c){if(a*b<=c)return null;a>c&&b>c?a=b=Math.floor(Math.sqrt(c)):a>=b?a=Math.max(Math.floor(c/b),1):b=Math.max(Math.floor(c/a),1);return[a,b]},computeDataMatrix:function(a,b){var c,f,d,g,k,m,n,q,s,p;k=a.type;m=a.column;var A=r.map(m,function(a){return a.getName()}),t=A.join("-");switch(k){case "x":case "wrap":f=m;c=A;m=function(a,b){return t+":"+a.join("-")};k=function(a,b){for(var c={},f=0;f<A.length;f++)c[A[f]]=a[f];return c};
break;case "y":q=m;n=A;m=function(a,b){return t+":"+b.join("-")};k=function(a,b){for(var c={},f=0;f<A.length;f++)c[A[f]]=b[f];return c};break;case "xy":f=m[0]?[m[0]]:[];q=m[1]?[m[1]]:[];c=r.map(f,function(a){return a.getName()});var w=c.join("-");n=r.map(q,function(a){return a.getName()});var z=n.join("-");m=w<z?function(a,b){return w+":"+a.join("-")+"*"+z+":"+b.join("-")}:function(a,b){return z+":"+b.join("-")+"*"+w+":"+a.join("-")};k=function(a,b){var f,d={};for(f=0;f<c.length;f++)d[c[f]]=a[f];
for(f=0;f<n.length;f++)d[n[f]]=b[f];return d};break;default:throw Error("invalid trellis type "+k);}for(var v=[],y={},K=[],B={},T={},x=[],C=[],L=0;L<b.length;L++){var D=b[L];d=c?c.map(function(a){return D[a]}):[];s=n?n.map(function(a){return D[a]}):[];g=d.join("-");p=s.join("-");y[g]||v.push(d);B[p]||K.push(s);y[g]=!0;B[p]=!0;x.push(g);C.push(p);d=m(d,s);null==T[d]&&(T[d]=[]);T[d].push(D)}v.length*K.length>a.maxNumCells&&(L=Np.truncateMatrix(v.length,K.length,a.maxNumCells),d=L[1],v=v.slice(0,L[0]),
K=K.slice(0,d),y={},v.forEach(function(a){g=a.join("-");y[g]=!0}),B={},K.forEach(function(a){p=a.join("-");B[p]=!0}),b=r.filter(b,function(a,b){return y[x[b]]&&B[C[b]]}));return{colHeaders:v,rowHeaders:K,data:T,colFields:f,rowFields:q,getKeyPrefix:m,getExtraData:k,rows:b}}},ti=function(a){function b(b,f){var d=this;a.call(this,{initial:"NONE",states:f,events:{select:{afterTransition:function(a){return a.map(function(a){return d.select(a)})}},selectExclusive:{afterTransition:function(a){return a.map(function(a){return d.select(a)})}},
unselect:{beforeTransition:function(a){return a.map(function(a){return d.unselect(a)})}}}});this.layer=b;this.selection=[]}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.resetAll=function(){this.selection=[];this.layer&&this.layer.getChildren().forEach(function(a){a.get("canSelect")&&a.resetSelect()})};b.prototype.unselectAll=function(){this.selection=[];this.layer&&this.layer.getChildren().forEach(function(a){a.get("canSelect")&&a.unselect()})};
b.prototype.unselect=function(a){var b=this.selection.indexOf(a);-1<b&&this.selection.splice(b,1);this.layer&&(a=this.layer.shapeByKey(a))&&a.unselect()};b.prototype.select=function(a){if(this.layer){var b=this.layer.shapeByKey(a);b&&b.select()}this.selection.push(a)};b.prototype.setSelection=function(a){a=this.sanitizeSelection(a);this.transition("NONE");if(a.length)this.onEvent("select",a)};b.prototype.sanitizeSelection=function(a,b){null==b&&(b=!1);return b&&1<a.length?[a[0]]:a};return b}(he),
Op=function(a){function b(b){var f=this;a.call(this,b,{NONE:{onEnter:function(){return f.resetAll()},onLeave:function(){return f.unselectAll()},events:{select:"SOME",selectExclusive:"SOME"}},SOME:{onEnter:function(a,b,c){if("unselect"===b&&0===f.selection.length)return c.map(function(a){return f.select(a)})},events:{unselect:"SOME",select:"SOME",selectExclusive:"SOME"}}})}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.sanitizeSelection=function(b){return a.prototype.sanitizeSelection.call(this,
b,!1)};return b}(ti),Pp=function(a){function b(b){var f=this;a.call(this,b,{NONE:{onEnter:function(){return f.resetAll()},onLeave:function(){return f.unselectAll()},events:{select:"SOME",selectExclusive:"SOME"}},SOME:{onEnter:function(a,b){if(b===p.SELECT_ACTION.UNSELECT&&0===f.selection.length)return f.transition("NONE");b===p.SELECT_ACTION.SELECT_EXCLUSIVE&&r.clone(f.selection).forEach(function(a){return f.unselect(a)})},events:{unselect:"SOME",select:"SOME",selectExclusive:"SOME",reset:"NONE"}}})}
a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.sanitizeSelection=function(b){return a.prototype.sanitizeSelection.call(this,b,!1)};return b}(ti),Qp=function(a){function b(b){var f=this;a.call(this,b,{NONE:{onEnter:function(){return f.resetAll()},onLeave:function(){return f.unselectAll()},events:{select:"FIRST",selectExclusive:"FIRST"}},FIRST:{events:{select:"ONE",selectExclusive:"ONE"}},ONE:{onEnter:function(){return f.unselect(f.selection[0])},
events:{select:"ONE",selectExclusive:"ONE"}}})}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.sanitizeSelection=function(b){return a.prototype.sanitizeSelection.call(this,b,!0)};return b}(ti),Rp=function(a){function b(b){var f=this;a.call(this,b,{NONE:{onEnter:function(){return f.resetAll()},onLeave:function(){return f.unselectAll()},events:{select:"FIRST",selectExclusive:"FIRST"}},FIRST:{events:{select:"ONE",selectExclusive:"ONE",unselect:"NONE",
reset:"NONE"}},ONE:{onEnter:function(){return f.unselect(f.selection[0])},events:{select:"ONE",selectExclusive:"ONE",unselect:"NONE",reset:"NONE"}}})}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.sanitizeSelection=function(b){return a.prototype.sanitizeSelection.call(this,b,!0)};return b}(ti),Sp=function(){};Sp.make=function(a,b){switch(a){case p.SELECTMODE.RANGE:case p.SELECTMODE.SINGLE:return new Rp(b);case p.SELECTMODE.SINGLE_REQUIRED:return new Qp(b);
case p.SELECTMODE.MULTI:return new Pp(b);case p.SELECTMODE.MULTI_REQUIRED:return new Op(b)}};var Vb=function(a){this._config=a;this._features={};this._score=0;this._scoreDetails=[]};Vb.prototype.setConfig=function(a){this._config=a;return this};Vb.prototype.getConfig=function(){return this._config};Vb.prototype.setModuleName=function(a){this._moduleName=a;return this};Vb.prototype.getModuleName=function(){return this._moduleName};Vb.prototype.setFeature=function(a,b){void 0===a&&(a="");void 0===b&&
(b={});this._features[a]=b;return this};Vb.prototype.getFeature=function(a){return this._features[a]};Vb.prototype.hasFeature=function(a){return!!this.getFeature(a)};Vb.prototype.setScore=function(a){this._score=a;return this};Vb.prototype.getScore=function(){return this._score};Vb.prototype.setScoreDetails=function(a){this._scoreDetails=a;return this};Vb.prototype.getScoreDetails=function(){return this._scoreDetails};var xb=function(){};xb.prototype.featurize=function(a){return this};xb.prototype.getScore=
function(a,b,c){a=this.getScoreDetails(a,b,c);return Ja.sum(x.zip(a)[0])};xb.prototype.getScoreDetails=function(a,b,c){return[]};xb.prototype._makeScoreDetail=function(a,b){void 0===b&&(b="");return[a,b]};xb.prototype._filterScoreDetails=function(a){return a.filter(function(a){return 0!==a[0]})};xb.prototype._areColumnsOfTypes=function(a,b){return a.every(function(a){return-1<b.indexOf(a.getType())})};xb.prototype._hasFeature=function(a,b){return!!a.getFeature(b)};xb.SCORE_DETAIL={INVALID_CONFIG:[[-Infinity,
""]]};xb.SCORES={CRITICAL:5,GREAT:2,GOOD:1,FAIR:0,BAD:-2,SEVERE:-5};var jb=p.FEATURE_NAME,Pc=p.COLUMN_TYPE,Bw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getScoreDetails=function(a,b,d){b=[];this._isCartesian(a)?b=this._scoreCartesian(a,d):a.hasFeature(jb.MULTI_METRIC)?b=this._scoreMultiMetric(a):a.hasFeature(jb.SINGLE_METRIC)&&(b=this._scoreSingleMetric(a));return this._filterScoreDetails(b)};
b.prototype._isCartesian=function(a){var b=a.hasFeature(jb.X_DIMENSION_AXIS)||a.hasFeature(jb.X_MEASURE_AXIS)||a.hasFeature(jb.X_TIME_AXIS);a=a.hasFeature(jb.Y_DIMENSION_AXIS)||a.hasFeature(jb.Y_MEASURE_AXIS)||a.hasFeature(jb.Y_TIME_AXIS);return b&&a};b.prototype._scoreCartesian=function(a,b){var d=a.getFeature(jb.X_DIMENSION_AXIS),g=a.getFeature(jb.X_MEASURE_AXIS),k=a.getFeature(jb.X_TIME_AXIS),m=a.getFeature(jb.Y_DIMENSION_AXIS),n=a.getFeature(jb.Y_MEASURE_AXIS),q=a.getFeature(jb.Y_TIME_AXIS),g=
d?[d,Pc.DIMENSION]:g?[g,Pc.MEASURE]:[k,Pc.TIME],d=g[0],g=g[1],n=m?[m,Pc.DIMENSION]:n?[n,Pc.MEASURE]:[q,Pc.TIME],m=n[0],n=n[1],q=[];q.push(this._scoreAxis(g,d,!0,b));q.push(this._scoreAxis(n,m,!1,b));q.push(this._getEffectivenessScore(d,g,m,n));q.push(this._getRedundancyScore(d,m));return q};b.prototype._scoreAxis=function(b,f,d,g){f=f.column.length;return b===Pc.DIMENSION?(b=g.maxNumColumnsXDimensionAxis,g=g.maxNumColumnsYDimensionAxis,g=d?b:g,f?1===f?d?this._makeScoreDetail(0.75*a.SCORES.GOOD,W.getLabel("@salesforce/charts",
"axisXDimOneColumn")):this._makeScoreDetail(a.SCORES.GOOD,W.getLabel("@salesforce/charts","axisYDimOneColumn")):2===f?d?this._makeScoreDetail(a.SCORES.FAIR,W.getLabel("@salesforce/charts","axisXDim2Columns")):this._makeScoreDetail(0.75*a.SCORES.GOOD,W.getLabel("@salesforce/charts","axisYDim2Columns")):f>g?this._makeScoreDetail(a.SCORES.BAD,W.getLabel("@salesforce/charts","axisDimMaxColumn",[g])):this._makeScoreDetail(a.SCORES.FAIR):this._makeScoreDetail(a.SCORES.SEVERE,W.getLabel("@salesforce/charts",
"axisDimNoColumn"))):b===Pc.MEASURE?(d=g.maxNumMeasuresCartesian,0===f?this._makeScoreDetail(a.SCORES.SEVERE,W.getLabel("@salesforce/charts","axisMeaNoColumns")):f>d?this._makeScoreDetail(a.SCORES.BAD,W.getLabel("@salesforce/charts","axisMeaMaxColumn",[d])):this._makeScoreDetail(a.SCORES.FAIR)):0===f?this._makeScoreDetail(a.SCORES.SEVERE,W.getLabel("@salesforce/charts","axisTimeNoColumn")):this._makeScoreDetail(a.SCORES.FAIR)};b.prototype._getRedundancyScore=function(b,f){var d=b&&b.column,g=f&&f.column;
return d&&g&&x.intersection(d,g).length?this._makeScoreDetail(a.SCORES.SEVERE,W.getLabel("@salesforce/charts","axisRedundancy")):this._makeScoreDetail(a.SCORES.FAIR)};b.prototype._getEffectivenessScore=function(b,f,d,g){return f===g&&f===Pc.MEASURE?this._makeScoreDetail(a.SCORES.GREAT,W.getLabel("@salesforce/charts","axisMvM")):f===g&&f===Pc.DIMENSION?this._makeScoreDetail(a.SCORES.GOOD,W.getLabel("@salesforce/charts","axisDvD")):this._makeScoreDetail(a.SCORES.FAIR)};b.prototype._scoreMultiMetric=
function(b){b=b.getFeature(jb.MULTI_METRIC);return 3<b.column.length?[this._makeScoreDetail(a.SCORES.GREAT,W.getLabel("@salesforce/charts","axisMultiMetricManyMeasure",[3]))]:3===b.column.length?[this._makeScoreDetail(a.SCORES.GOOD,W.getLabel("@salesforce/charts","axisMultiMetricManyMeasure",[2]))]:[this._makeScoreDetail(a.SCORES.SEVERE,W.getLabel("@salesforce/charts","axisMvDMultiMetric",[2]))]};b.prototype._scoreSingleMetric=function(b){return 1===b.getFeature(jb.SINGLE_METRIC).column.length?[this._makeScoreDetail(0.5*
a.SCORES.GOOD,W.getLabel("@salesforce/charts","axisSingleMetricSingleMeasure"))]:[this._makeScoreDetail(a.SCORES.SEVERE,W.getLabel("@salesforce/charts","axisSingleMetricFewMeasure"))]};return b}(xb),ui=p.COLUMN_TYPE,vi=p.CHART_LAYOUT.COLOR_TYPE,Tp=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.featurize=function(a){var b=a.getConfig().color;if(b&&b.column){var d=b.column,g;switch(b.type){case vi.CATEGORICAL:g=
p.FEATURE_NAME.CATEGORICAL_COLOR;break;case vi.GRADIENT:g=p.FEATURE_NAME.GRADIENT_COLOR;break;case vi.BINS:g=p.FEATURE_NAME.BIN_COLOR;break;case vi.CONSTANT:g=p.FEATURE_NAME.BIN_COLOR}a.setFeature(g,{column:d})}return this};b.prototype.getScoreDetails=function(b,f,d){d=d.maxCardinalityCategoricalColor;var g=b.getFeature(p.FEATURE_NAME.CATEGORICAL_COLOR),k=b.getFeature(p.FEATURE_NAME.GRADIENT_COLOR);b=[];if(g){g=f.getColumns(g.column);if(!this._areColumnsOfTypes(g,[ui.DIMENSION,ui.TIME,ui.GEO]))return a.SCORE_DETAIL.INVALID_CONFIG;
var m=g[0]&&g[0].getCardinality();g.length?m>d?b.push(this._makeScoreDetail(a.SCORES.SEVERE,W.getLabel("@salesforce/charts","colorHighCardinality"))):b.push(this._makeScoreDetail(a.SCORES.GOOD,W.getLabel("@salesforce/charts","colorLowCardinality"))):b.push(this._makeScoreDetail(a.SCORES.FAIR))}return k&&(f=f.getColumns(k.column),!this._areColumnsOfTypes(f,[ui.MEASURE]))?a.SCORE_DETAIL.INVALID_CONFIG:this._filterScoreDetails(b)};return b}(xb),Fg=p.FEATURE_NAME,wi=p.COLUMN_TYPE,Cw=function(a){function b(){a.apply(this,
arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getScoreDetails=function(b,f,d){var g=f.getColumnsByType(wi.TIME),k=f.getColumnsByType(wi.GEO),m=[];if(k.length){var n=b.getFeature(Fg.GEO_DATA);n&&-1<r.map(k,function(a){return a.getName()}).indexOf(n.column[0])&&m.push(this._makeScoreDetail(a.SCORES.CRITICAL,W.getLabel("@salesforce/charts","contextGeo")))}g.length&&(k=b.getFeature(Fg.X_TIME_AXIS),n=b.getFeature(Fg.Y_TIME_AXIS),(k=k||n)&&
-1<r.map(g,function(a){return a.getName()}).indexOf(k.column[0])&&m.push(this._makeScoreDetail(a.SCORES.CRITICAL,W.getLabel("@salesforce/charts","contextTime"))));if(g=b.getFeature(Fg.LAT_LNG))if(g=f.getColumns(g.column),2===g.length&&this._areColumnsOfTypes(g,[wi.MEASURE])&&this._isInRange(g[0].getDomain(),[-90,90])&&this._isInRange(g[1].getDomain(),[-180,180]))m.push(this._makeScoreDetail(a.SCORES.CRITICAL,W.getLabel("@salesforce/charts","contextLatlng")));else return a.SCORE_DETAIL.INVALID_CONFIG;
if(b=b.getFeature(Fg.FLOW_DIAGRAM)){f=f.getColumns(b.column);if(!this._areColumnsOfTypes(f,[wi.DIMENSION]))return a.SCORE_DETAIL.INVALID_CONFIG;var q=d.maxCardinalityFlowDiagram;f.map(function(a){return a.getCardinality()}).some(function(a){return a>q})?m.push(this._makeScoreDetail(a.SCORES.BAD,W.getLabel("@salesforce/charts","contextFlowHighCard"))):m.push(this._makeScoreDetail(a.SCORES.GREAT,W.getLabel("@salesforce/charts","contextFlowLowCard")))}return m};b.prototype._isInRange=function(a,b){return a[0]>=
b[0]&&a[1]<=b[1]};return b}(xb),fl=p.COLUMN_TYPE,Dw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.featurize=function(a){var b=a.getConfig().trellis;b&&b.column.length&&a.setFeature(p.SCORER_TYPE.TRELLIS,{type:b.type,column:b.column});return this};b.prototype.getScoreDetails=function(b,f,d){d=d.maxCardinalityTrellis;b=b.getFeature(p.SCORER_TYPE.TRELLIS);if(!b)return[];f=f.getColumns(b.column);if(!this._areColumnsOfTypes(f,
[fl.DIMENSION,fl.TIME,fl.GEO]))return a.SCORE_DETAIL.INVALID_CONFIG;f=f.map(function(a){return a.getCardinality()});return f.length?2===f.length?f[0]*f[1]>d?[this._makeScoreDetail(a.SCORES.BAD,W.getLabel("@salesforce/charts","trellisHighCardinality"))]:[]:1===f.length?f[0]>d?[this._makeScoreDetail(a.SCORES.BAD,W.getLabel("@salesforce/charts","trellisHighCardinality"))]:[]:a.SCORE_DETAIL.INVALID_CONFIG:[]};return b}(xb),Ew=p.FEATURE_NAME,Fw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=
a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getScoreDetails=function(a,b,d){return(b=a.getFeature(Ew.POPULARITY))&&r.isNumber(b)&&r.isFinite(b)?(a=a.getScore(),b=Math.max(Math.min(b,1),-1),d=a+b,d=0<a?Math.max(d,0):Math.min(d,0),b=W.getLabel("@salesforce/charts",0<b?"popularChart":"unpopularChart"),[this._makeScoreDetail(d-a,b)]):[]};return b}(xb),Up=function(){};Up.prototype.getScorer=function(a){switch(a){case p.SCORER_TYPE.TRELLIS:return new Dw;case p.SCORER_TYPE.COLOR:return new Tp;
case p.SCORER_TYPE.AXIS:return new Bw;case p.SCORER_TYPE.CONTEXT:return new Cw;case p.SCORER_TYPE.POPULARITY:return new Fw;default:return new Tp}};var Gw=pa(Up),on=p.COLUMN_TYPE,pn="|",Sd={ALL:"all",FIRST:"first",PREV:"prev",LAST:-1},xh={SECTION:"section",ARRAY:"array"},Hw={useAllNonMeasure:!0,useAllMeasure:!1},Iw={maxCardinalityTrellis:20,maxNumColumnsXDimensionAxis:2,maxNumColumnsYDimensionAxis:3,maxNumMeasuresCartesian:3,maxCardinalityCategoricalColor:10,maxCardinalityFlowDiagram:10},gl=null,tc=
function(a,b,c){void 0===a&&(a={});r.defaults(a,Iw);this._didInit=!1;this._opts=a;this._moduleList=[];this._moduleGetter=b;this._geoMaps=c};tc.prototype._init=function(){return this._didInit?Promise.resolve():this._processGeoMaps()};tc.prototype._processGeoMaps=function(){var a=this,b={};this._geoMaps.forEach(function(a){var c=a.getGeoJson()&&a.getGeoJson().url;c&&!b[c]&&(b[c]=a)});var c=r.values(b);return Promise.all(c.map(function(a){return a.load()})).then(function(){a._geoMaps=c})};tc.prototype.registerChartList=
function(a){this._moduleList=a;return this};tc.prototype.recommend=function(a,b,c){var f=this;void 0===c&&(c={});return this._init().then(function(){var d;b instanceof Zb?d=b:(d=new Zb(b),Mp.enrichRowsMetadata(d,a,f._geoMaps));return Promise.all(f._moduleList.map(function(b){return f._recommendForModule(b,a,d,c)}))}).then(function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return r.flatten(a[0]).sort(function(a,b){return b.getScore()-a.getScore()}).slice(0,c.n||10)})};tc.prototype._recommendForModule=
function(a,b,c,f){var d=this;return this._getModule(a).then(function(g){var k=g.default;return k.getRecommendations&&r.isFunction(k.getRecommendations)?(g=k.getRecommendations(b,c,f),g.forEach(function(f){f.setModuleName(a);d._scoreRecommendation(f,k,b,c)}),r.filter(g,function(a){return-Infinity<a.getScore()})):[]})};tc.prototype._scoreRecommendation=function(a,b,c,f){var d=this;c=this._getScorers();b.featurize&&r.isFunction(b.featurize)&&b.featurize(a);c.forEach(function(b){var c=a.getScoreDetails(),
m=a.getScore()||0;b.featurize(a);b=b.getScoreDetails(a,f,d._opts);if(b.length)var n=x.zip.apply(x,b),m=m+Ja.sum(n[0]);a.setScoreDetails(c.concat(b)).setScore(m)})};tc.prototype._getScorers=function(){if(!gl){var a=Gw.getInstance();gl=[a.getScorer(p.SCORER_TYPE.TRELLIS),a.getScorer(p.SCORER_TYPE.COLOR),a.getScorer(p.SCORER_TYPE.AXIS),a.getScorer(p.SCORER_TYPE.CONTEXT),a.getScorer(p.SCORER_TYPE.POPULARITY)]}return gl};tc.prototype._getModule=function(a){return this._moduleGetter(a)};tc.generateRecommendations=
function(a,b,c,f){r.defaults(c,Hw);b=r.flatten(b.map(function(b){return Ks(a,b,c,f)}));return r.filter(b)};var Jw=Qd.version;Pe.setShapeGroup(Bb);var xi={VERSION:Jw,log:oa,LOC:W,Settings:Fb,IntervalSearchTree:Fa,ThemeFactory:td,layoutBuilder:{build:function(a){r.defaults(a,{selectMode:p.SELECTMODE.NONE,position:[0,0],layout:{},configLayout:{},transforms:{}});var b=a.size,c=a.position,f=a.padding,d=a.selectMode,g=a.selectionKeyFct,k=a.configLayout,m=a.transforms;f||(f={top:0,right:0,bottom:0,left:0});
a=Js({vertical:m.rotate,showTimeTitle:k.showTimeTitle,showMeasure:k.showMeasure,showMeasure1:k.showMeasure1,showMeasure2:k.showMeasure2,showMeasureTitle:k.showMeasureTitle,showMeasureTitle1:k.showMeasureTitle1,showMeasureTitle2:k.showMeasureTitle2,showDimension:k.showDimension,showDimensionTitle:k.showDimensionTitle,hasTrellisColHeaders:a.hasTrellisColHeaders,hasTrellisRowHeaders:a.hasTrellisRowHeaders,cellSizes:a.cellSizes,axisTitleMaxLines:a.axisTitleMaxLines})[a.layout];var k=a.cells,n=a.rows,
q=a.columns,s=a.scrollX,u=a.scrollY,A=a.zIndex,t=new Jc({size:b,transforms:m,padding:f,position:c,selectMode:d,selectionKeyFct:g});t.buildCells({rows:n,columns:q});k.forEach(function(a,b){a.forEach(function(a,c){a.match(p.CELL.IGNORED_PATTERN)||t.getCell(c,b).set({key:a})})});s&&s.forEach(function(a){t.cellByKey(a).set({scrollX:!0})});u&&u.forEach(function(a){t.cellByKey(a).set({scrollY:!0})});var b=function(a){A[a]&&A[a].forEach(function(b){t.cellByKey(b).set({zIndex:parseInt(a,10)})})},w;for(w in A)b(w);
return t}},SelectManagerFactory:Sp,counter:Ne,singleton:pa,ChartContext:hb,runtime:Da,renderers:{AxisTitleCellRenderer:Zk,CellRendererFactory:si},scene:{model:{Scene:Jc,Cell:yd},effects:{ShapeEffectFactory:sg,DefaultHoverShapeEffect:ci,CompositeShapeEffect:hi,DefaultSelectionShapeEffect:bi,HaloSelectionShapeEffect:ii,RadiusScalingSelectionShapeEffect:ji,HighlightHoverShapeEffect:mg}},shapes:{Arc:yg,NumberText:Ve,Text:Ea,Line:db,Path:ce,Polygon:Ge,Point:Ub,Rect:qc,Layer:Ga,ShapeGroup:Bb},geo:{GeoMap:va},
rowsMetadata:{RowsMetadata:Zb,rowsFormatter:zd.getInstance(),rowsMetadataUtils:{getRowsMetadataFromConfig:function(a){if(a){var b={};ac.traverseConfigSections(a,void 0,function(a,f){var d=a&&(a.column||a.fields);d&&d.forEach(function(d){var k=x.deepCopy(d);k.type="color"===f?a.type===Lp.GRADIENT||a.type===Lp.BINS?ec.MEASURE:ec.DIMENSION:zw[f]||ec.DIMENSION;b[d.column]=k})});return r.values(b)}},mergeRowsMetadata:function(a,b){if(!b)return a;var c={};a.forEach(function(a){c[a.column]=a});b.forEach(function(a){var b=
a.column;a.type&&(delete a.type,console.warn("can not change rowsMetadata column type for column "+b));c[b]&&x.extendDeep(c[b],a)});return r.values(c)}},richRowsMetadataUtils:Mp,Column:ua,TimeColumn:Wo,DimensionColumn:wg,MeasureColumn:li},utils:{axisUtils:Cg,Box:I,Padding:fb,configUtils:ac,constants:p,convertConfigUtils:Ok,dataUtils:x,domainUtils:Cb,envUtils:Kc,columnUtils:Xc,gridUtils:{draw:function(a){var b=a.w,c=a.h,f=a.numRows,d=a.numColumns,g=a.lineWidth,k=a.stroke,m=a.xKey;a=a.yKey;var n=new Ga({staggerAnim:!1}),
q=-(g%2)/2;a||(a="y");m||(m="x");for(var p=d*b+(d+1)*g+q,u=f*c+(f+1)*g+q,r=0;r<=f;r++){var t=r*(c+g)+g/2;(new db({layer:n,key:m+r,x0:0,x1:p,y0:t,y1:t,stroke:k,lineWidth:g})).offsetX(q).offsetY(q)}for(c=0;c<=d;c++)f=c*(b+g)+g/2,(new db({layer:n,key:a+c,x0:f,x1:f,y0:0,y1:u,stroke:k,lineWidth:g})).offsetX(q).offsetY(q);return n}},layoutUtils:$k,mathUtils:Ja,percentageUtils:$h,plotUtils:Cc,rangeUtils:Ap,referenceLineUtils:gp,rowsUtils:Oa,scales:ha,sceneUtils:bd,trellisUtils:Aw,valueFctUtils:sa},formatNumber:Ya,
time:ra,DataFormatter:La,color:{colorUtils:sh,LinearGradient:D},chartLayouts:{layoutsUtils:{getChartColorLayout:function(a,b,c,f,d,g){void 0===a&&(a={});void 0===g&&(g=!0);var k,m=a.column&&a.column[0];if(m)switch(b={field:m,theme:f,legendSwatchType:d},a.type?a.type:ib.COLOR_TYPE.CATEGORICAL){case ib.COLOR_TYPE.CATEGORICAL:c=a.domain||Cb.getOrdinalDomain(c,m);k=a.column&&a.column[0]&&a.column[0].getDataType();m=a.range?a.range.getPaletteColors(c.length):a.colors;r.extend(b,{domain:c,palette:m,applyTheme:g,
respectPaletteColorOrder:null!=a.range,sortColor:void 0!==a.sortColor?a.sortColor:!0,columnDataType:k});k=Eg.make(ib.COLOR_TYPE.CATEGORICAL,b);break;case ib.COLOR_TYPE.BINS:r.extend(b,{rows:c,palette:a.colors,numBins:a.numBins,breakpoints:a.breakpoints,bands:a.bands});k=Eg.make(ib.COLOR_TYPE.BINS,b);break;case ib.COLOR_TYPE.GRADIENT:r.extend(b,{domain:a.domain||Cb.getNumericDomain(c,m),gradient:a.range}),k=Eg.make(ib.COLOR_TYPE.GRADIENT,b)}else if(sh.isColor(a))k=Eg.make(ib.COLOR_TYPE.CONSTANT,{value:a});
else if(void 0!==b||a.range)b=a.range?a.range:b,k=Eg.make(ib.COLOR_TYPE.CONSTANT,{value:b});return k},getChartRadiusLayout:function(a,b,c,f){void 0===a&&(a={});var d=a.maxRadius,g=a.radiusRatio,k=a.domain;a=(a=a.column)&&a[0];b=Math.min(b[0]-c.left-c.right,b[1]-c.top-c.bottom);a?(k=k||Cb.getNumericDomain(f,a),f=Jp.make(ib.RADIUS_TYPE.SQRT).setField(a).setRelativeSize(b).setMaxValue(Math.max(Math.abs(k[0]),Math.abs(k[1]))).setMaxRadius(d).setRatio(g)):f=Jp.make(ib.CONSTANT).setRelativeSize(b).setValue(d).setRatio(g);
return f},updateRadiusLayout:function(a,b,c){b=[b[0]-c.left-c.right,b[1]-c.top-c.bottom];a.setRelativeSize(Math.min(b[0],b[1]))},getChartDimensionStackLayout:function(a,b,c,f,d){if(f&&f.column[0])return Kp.make(ib.STACK_TYPE.BY_DIMENSION,{measureColumns:b,trellisColumns:c,stackColumn:f.column[0],stackOrder:f.sorting,tabularRows:a,normalize:d})},getChartMeasureStackLayout:function(a){return Kp.make(ib.STACK_TYPE.BY_MEASURE,{measureColumns:a})},getChartNumericAxisLayout:function(a){if(a){var b=a.domain,
c=a.referenceLines,f=a.scale,d=a.showZero;a=a.format;return bl.make(ib.AXIS_TYPE.NUMERIC).setShowZero(d).setFormat(a).setCustomDomain(b).setScaleType(f).setReferenceLines(c)}},getChartCategoricalAxisLayout:function(a,b,c,f){if(a){var d=a.showAxis,g=a.labelsDepth;a=ac.hasIcon(a);return bl.make(ib.AXIS_TYPE.CATEGORICAL).setRows(b).setPlotOptions(c).setAutoFitMode(f).setShowAxis(d).setHasIcon(a).setLabelsDepth(g)}},getChartTimeAxisLayout:function(a,b,c,f){if(a){var d=a.formats,g=a.granularity,k=a.showAxis,
m=a.column[0];b=Cb.getNumericDomain(b,m,!0);var n=m.getGranularity();return bl.make(ib.AXIS_TYPE.TIME).setGranularity(g||n).setDataGranularity(n).setDataFormat(m.getDataFormat()).setFiscalGranularity(m.getFiscalGranularity()).setIsDiscrete(m.isDiscrete()).setFirstDayOfWeek(m.getFirstDayOfWeek()).setFormats(d).setCustomDomain(a.domain).setDomain(b).setPlotOptions(c).setShowAxis(k).setAutoFitMode(f)}},alignNumericAxisLayouts:function(a,b){void 0===b&&(b=!1);if(0!==a.length)if(1===a.length)a[0].settleAxisDomainInfo();
else{var c=[],f=[],d=[],g=[],k=[],m=a[0].getScaleType();a.forEach(function(a){var n=a.getAxisDomainInfo(),q=n.domain,p=n.margin,n=n.step;if(a.hasCustomDomain()||a.isNormalized())g.push(q),b=!1;c.push(q);f.push(p[0]);d.push(p[1]);k.push(n);b=b&&!!n&&m===a.getScaleType()});var n=!1,q,p=c;if(2>g.length){var u=Cb.alignZerosForDomain(c,b?k:void 0,1===g.length?g[0]:void 0),n=u.aligned,k=u.steps||k;n&&(p=u.domains,a.forEach(function(a,b){var g=c[b],k=a._getScale(p[b],[0,0],!1),g=Cb.adjustMargin(g,[f[b],
d[b]],k);f[b]=g[0];d[b]=g[1]}),q=[Math.max.apply(Math,f),Math.max.apply(Math,d)])}a.forEach(function(a,g){var m=c[g],u=p[g],m=b||m[0]===u[0]&&m[1]===u[1]?k[g]:0;a.setAxisDomain(p[g]).setAxisMargin(n?q:[f[g],d[g]]).setStep(m)})}}},colorLayout:Cp.getInstance(),radiusLayout:Ep.getInstance(),axisLayout:Gp.getInstance(),stackLayout:Ip.getInstance()},recommender:{Recommender:tc},enums:{SortingEnum:Aa}},Vp=xi.utils,Kw=Vp.constants,Wp=Vp.plotUtils,al=function(a){function b(b,f){a.call(this,b,f);this._render(this._props)}
a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var b=this._props;b.key="shapeGroup";b.text="";b.stroke=void 0;b.fill=void 0;b.x=0;b.y=0;b.intervals=[];b.labelWidth=0;b.scale=void 0;b.formatter=void 0;b.opacity=1E-6;b.textVAlign="middle";b.textHAlign="center";b.dataGranularity=void 0;b.firstDayOfWeek=void 0;b.fiscalGranularity=void 0;b.isDiscrete=void 0;b.isChartRotated=void 0;b.isTrellis=
void 0};b.prototype._setProp=function(b,f,d){a.prototype._setProp.call(this,b,f,d);this._render(this._props);return this};b.prototype._setProps=function(b,f){a.prototype._setProps.call(this,b,f);this._render(this._props);return this};b.prototype._render=function(a){this._renderLines(a);this._renderLabel(a)};b.prototype._renderLabel=function(a){var b=a.y,d=a.text,g=a.isChartRotated,k=a.isTrellis;if(null!=d&&""!==d){var m=this._getCrosshairLabelViewRange(k),k=m[0],m=m[1];if(g&&(Math.round(b)<k||Math.round(b)>
m))return;var n=a.x,q=a.stroke,p=a.fill,u=a.opacity,r=a.textHAlign;a=a.textVAlign;this._label||(this._label=new Ea({key:"crosshair-text"}),this.append(this._label));g&&(b=this._adjustLabelLocation(b,k,m,g,d));this._label.set({text:d,x:n,y:b,bgColor:p,padding:new fb({top:2,right:10,bottom:2,left:10}),stroke:q,halign:r,valign:a,vertical:!1,fixedOrientation:!0,includeAscender:!1,opacity:u})}return this._label};b.prototype._adjustLabelLocation=function(a,b,d,g,k){k=g?Wp.getTextWidth(k)/2+10:Wp.getTextHeight(Kw.TEXT_SIZE)/
2+2;g=a+k;k=a-k;g>d&&(a-=g-d);k<b&&(a-=k-b);return a};b.prototype._getCrosshairLabelViewRange=function(a){var b=this.getParent();if(b)return a=a?Math.max(0,b.getScene().getScrollOffset()[0]-b.get("x")):b.getScene().getScrollOffset()[0],[a,a+b.getCell().get("w")]};b.prototype._updateLineNumber=function(a){var b=this,d=this._lines.length;if(d!==a)if(d<a)for(var g=0;g<a-d;g++){var k=new db({key:"crosshair-line-"+(g+d)});b._lines.push(k);b.append(k)}else this._lines.splice(a,d-a).forEach(function(a){b.remove(a)})};
b.prototype._renderLines=function(a){var b=a.y,d=a.intervals,g=a.fill,k=a.opacity;this._lines||(this._lines=[]);this._updateLineNumber(d.length);this._lines.forEach(function(a,c){var q=d[c];a.set({stroke:g,opacity:k,vertical:!1,x0:q[0],y0:b,x1:q[1],y1:b})});return this._lines};return b}(Bb);al.type="ShapeGroup";var Xp=function(a){function b(b){a.call(this,b);this._decoratedShapes=[];this._closestShape=null}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.update=
function(b){a.prototype.update.call(this,b);return r.extend(b,{focusedShapes:[this._closestShape]})};b.prototype._onActiveLayerCrosshairMove=function(a,b,d){a=a.toNormalizedPosition.apply(a,a.toLocalPosition(b,d))[1];a=this._moveAllCrosshairTo(this._getLayers(),a);this._hoverClosestShape(this._decoratedShapes,b,d);return a};b.prototype._removeAllCrosshair=function(){this._updateDecoratedShapes([]);this._closestShape=null;return a.prototype._removeAllCrosshair.call(this)};b.prototype._getContainers=
function(a){var b=this;return a.get("refContainerKeys").map(function(a){a=a.split("\x26")[1];var c=b._sceneInteractionManagerDelegate.getScene();return(a=c&&c.find({key:a}))&&a.length&&a[0]}).filter(function(a){return a})};b.prototype._getCrossedShapes=function(a,b,d,g,k){return this._getContainers(a).reduce(function(a,c){var q=c.toLocalPosition(b,d),p=q[0],q=q[1],u=c.toLocalPosition(g,k);return a.concat(c.findShapeUnderLine(p,q,u[0],u[1]).filter(function(a){return a.get("canSelect")}))},[])};b.prototype._updateDecoratedShapes=
function(a){this._decoratedShapes.forEach(function(a){return a.uncross()});return this._decoratedShapes=a.map(function(a){return a.cross()})};b.prototype._getCrosshairPositionLabel=function(a,b){var d=b.get("scale"),g=b.get("formatter"),k=d.invert(a);return{position:d.scale(k),label:g(k)}};b.prototype._centerOfShape=function(a){var b=a.getParent(),d=a.boundingBox();a=d.x;var g=d.y,k=d.w,d=d.h;return b?b.toScenePosition(a+k/2,g+d/2):[a+k/2,g+d/2]};b.prototype._hoverClosestShape=function(a,b,d){this._closestShape&&
this._closestShape.restoreHoverArea();if(a.length){for(var g=a[0],k=this._centerOfShape(g),m=k[0],k=k[1],m=(m-b)*(m-b)+(k-d)*(k-d),k=1;k<a.length;++k){var n=a[k],q=this._centerOfShape(n),p=q[0],q=q[1],p=(p-b)*(p-b)+(q-d)*(q-d);p<m&&(g=n,m=p)}this._closestShape=g;this._closestShape.extendHoverArea()}};b.prototype._moveAllCrosshairTo=function(a,b){var d=this,g=!1,k=[],m=!1;a.forEach(function(a){var c=d._getCrosshair(a),p=d._getCrosshairPositionLabel(b,c),u=p.position,p=p.label;if(u!==c.get("y")||0===
c.get("opacity")){m=!0;var r=a.toScenePosition.apply(a,a.toTransformedPosition(c.get("x"),u)),t=r[0],r=r[1],w=a.toScenePosition.apply(a,a.toTransformedPosition(c.get("x")+a.get("w"),u)),t=d._getCrossedShapes(a,t,r,w[0],w[1]),r=d._boundingBoxToLocalIntervals(a,t,!0);c.set({intervals:r,y:u,opacity:1,text:p});k=k.concat(t);a.notifyShapeChanged();g=!0}});m&&this._updateDecoratedShapes(k);return g};return b}(ew),Lw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&
a.prototype);b.prototype.constructor=b;b.prototype.clickEvent=function(a){var b=a.pointerPosition,d=a.focusedShapes,g=a.hotSpot,k=a.activeKeys,m=a.nativeEvent;if(b)this._sceneInteractionManagerDelegate.onEvent(p.EVENT_NAME.MOUSE_CLICK,{x:b[0],y:b[1],shape:r.first(d),hotSpot:g,metaKey:k&&0<=k.indexOf("Meta"),ctrlKey:k&&0<=k.indexOf("Control"),nativeEvent:m});return a};return b}(Nc),Mw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=
b;b.prototype.update=function(a){var b=a.blurredShapes,d=a.states,g=r.first(a.focusedShapes),b=r.first(b);0>d.indexOf(p.INTERACTION_DELEGATE_TYPE.BRUSH)&&(g&&!b&&this._perform(g,!0),b&&this._perform(b,!1));return a};b.prototype._perform=function(a,b){void 0===b&&(b=!0);var d=a.getInteractionEntity();d.get("canHover")&&this._sceneInteractionManagerDelegate.getInteractionLayers(p.INTERACTION_DELEGATE_TYPE.HIGHLIGHT).some(function(a){return a===d.getParent()})&&(b?d.hover():d.unhover())};return b}(Nc),
Nw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.updateWithTrace=function(a){var b=a.pointerTrace,d=a.states;if(b&&1<b.length){var g=r.first(b),k=r.last(b),m=this._getBrushLayerAt(g[0],g[1]);if(m)switch(g=m.toNormalizedPosition.apply(m,m.toLocalPosition.apply(m,g)),k=m.toNormalizedPosition.apply(m,m.toLocalPosition.apply(m,k)),this._control=null==this._control?m.getControl.apply(m,g):this._control,
this._control){case 0:return b=m.toNormalizedPosition.apply(m,m.toLocalPosition.apply(m,b[b.length-2])),this._onMoving(m,b,k),r.extend({},a,{cursorType:p.CURSOR_TYPE.POINTER,states:d.concat(p.INTERACTION_DELEGATE_TYPE.BRUSH)});case 1:case 2:return this._onResizing(m,this._control,k),r.extend({},a,{cursorType:p.CURSOR_TYPE.EW_RESIZE,states:d.concat(p.INTERACTION_DELEGATE_TYPE.BRUSH)});default:return this._onDragSelecting(m,g,k),r.extend({},a,{cursorType:p.CURSOR_TYPE.POINTER,states:d.concat(p.INTERACTION_DELEGATE_TYPE.BRUSH)})}}return a};
b.prototype.updateWithSelection=function(a){var b=this,d=a.selectionInfo;if(d&&d.isRange){var d=d.keys,g=d[0],k=d[1];this._getBrushLayers().forEach(function(a){var c=a.getBrushStepBySelectionValue(g),d=a.getBrushStepBySelectionValue(k);0<c.index&&0<d.index&&(a.setBrushCaptionText(b._formatCaptionText(a.getRangeLabels())),a.brushSelect(0,c.position,a.get("w"),d.position-c.position+1),b._nSteps=d.index-c.index+1)})}return a};b.prototype.release=function(a){var b=a.pointerPosition;if(b&&(b=(d=this)._getBrushLayerAt.apply(d,
b)))if(d=this._onRelease(b),this._getBrushLayers().forEach(function(a){a.hideBrushCaptionText();a.snapToSteps()}),d)return r.extend({},a,{focusedShapes:null,selectionInfo:{keys:d,isSelect:!0,isRange:!0}});return a;var d};b.prototype.reset=function(a){this._resetBrush();this._control=null;return r.extend({},a,{focusedShapes:null,selectionInfo:{keys:[],isSelect:!0,isRange:!0}})};b.prototype._resetBrush=function(){this._nSteps=-1;this._getBrushLayers().forEach(function(a){a.removeBrush()})};b.prototype._brushSelectAllLayers=
function(a,b,d,g){var k=this;this._getBrushLayers().forEach(function(m){m.setBrushCaptionText(k._formatCaptionText(m.getRangeLabels()));m.brushSelect(a,b,d,g)})};b.prototype._onDragSelecting=function(a,b,d){var g=b[1],k=d[1];(b[0]!==d[0]||g!==k)&&this._brushSelectAllLayers(0,g,a.get("w"),k-g+1)};b.prototype._onResizing=function(a,b,d){d=d[1];var g=a.getBrushArea();if(g){a=g.x0;var k=g.y0,m=g.x1,g=g.y1;1===b?d>g?(this._control=2,this._brushSelectAllLayers(a,g,m-a+1,0)):this._brushSelectAllLayers(a,
d,m-a+1,g-d+1):2===b&&(d<k?(this._control=1,this._brushSelectAllLayers(a,k,m-a+1,0)):this._brushSelectAllLayers(a,k,m-a+1,d-k+1))}};b.prototype._adjustArea=function(a,b,d,g,k){var m=a.get("w");a=a.get("h");m=this._getOverflow(0,m,b)||this._getOverflow(0,m,b+g-1);a=this._getOverflow(0,a,d)||this._getOverflow(0,a,d+k-1);return{x:b-m,y:d-a,w:g,h:k}};b.prototype._getOverflow=function(a,b,d){var g=a+b-1;b=Math.min(a,g);a=Math.max(a,g);return d-(d<b?b:d>a?a:d)};b.prototype._onMoving=function(a,b,d){var g=
b[1],k=d[1],m=a&&a.getBrushArea();if(m){d=m.x0;b=m.y0;var m=m.x1,g=k-g,k=a.getBrushStepByPosition(b+g),n=a.getBrushStepByIndex(k.index+this._nSteps-1);a=this._adjustArea(a,d,b+g,m-d+1,n.position-k.position+1);this._brushSelectAllLayers(a.x,a.y,a.w,a.h)}};b.prototype._onRelease=function(a){var b=a.snapToSteps();a=b[0];b=b[1];return a&&b?(this._control=null,this._nSteps=b.index-a.index+1,[a.selectionValue,b.selectionValue]):[]};b.prototype._formatCaptionText=function(a){var b="";2===a.length&&(b=a[0]+
" \u2013 "+a[1]);return b};return b}(yp),Ow=p.SELECT_ACTION,Pw=function(a){function b(b){a.call(this,b);this.mode=b.getScene().get("selectMode");this.selectMgrByLayer={};this._setupManagers(this._getLayers())}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.initClass=function(){this.prototype.type="selection";this.prototype.selectMgrByLayer=null};b.prototype._getLayers=function(){return this._sceneInteractionManagerDelegate.getInteractionLayers(p.INTERACTION_DELEGATE_TYPE.SELECTION)};
b.prototype._setupManagers=function(a){var b=this;a.forEach(function(a){var c;switch(b.mode){case p.SELECTMODE.RANGE:case p.SELECTMODE.SINGLE:c=new Rp(a);break;case p.SELECTMODE.SINGLE_REQUIRED:c=new Qp(a);break;case p.SELECTMODE.MULTI:c=new Pp(a);break;case p.SELECTMODE.MULTI_REQUIRED:c=new Op(a)}b.selectMgrByLayer[a.key]=c})};b.prototype.selectRange=function(a){var b=a.selectionInfo;if(b)this._sceneInteractionManagerDelegate.onSelect(Ow.SELECT,null,b.keys);return r.extend({},a,{selectionInfo:{keys:this.getSelection()}})};
b.prototype.selectShapes=function(a){var b=this,d=a.focusedShapes,g=a.hotSpot,k=a.activeKeys;d&&!g&&d.forEach(function(a){a?b._selectShape(a,k&&0<=k.indexOf(p.KEYBOARD_KEY.SHIFT)):(a=p.SELECT_ACTION.RESET,b._delegateToSelectMgr(a),b._invokeSceneCallback(),b._sceneInteractionManagerDelegate.onSelect(a,void 0,b.getSelection()))});return r.extend({},a,{selectionInfo:{keys:this.getSelection()}})};b.prototype.selectKeys=function(a){var b=a.selectionInfo;b&&this.setSelection(b.keys);return r.extend({},
a,{selectionInfo:{keys:this.getSelection()}})};b.prototype._selectShape=function(a,b){void 0===b&&(b=!0);a=a.getInteractionEntity();var d=a.getParent();if(!x.includes(this._getLayers(),d)||!a.get("canSelect"))return!1;d=a.isSelected()?p.SELECT_ACTION.UNSELECT:p.SELECT_ACTION.SELECT;!b&&(d===p.SELECT_ACTION.SELECT&&this._isSelectModeExclusive(a))&&(d=p.SELECT_ACTION.SELECT_EXCLUSIVE);this._delegateToSelectMgr(d,a.get("selectionKeys")?a.get("selectionKeys"):[a.key]);if(!((d===p.SELECT_ACTION.SELECT||
d===p.SELECT_ACTION.SELECT_EXCLUSIVE)&&a.isSelected()||d===p.SELECT_ACTION.UNSELECT&&!a.isSelected()))return!1;this._invokeSceneCallback();this._sceneInteractionManagerDelegate.onSelect(d,null!=a?a.key:void 0,this.getSelection());return!0};b.prototype._invokeSceneCallback=function(){var a=this._sceneInteractionManagerDelegate.getScene();if(a&&a.onSelectionChanged)a.onSelectionChanged(this.getSelection())};b.prototype._delegateToSelectMgr=function(a,b){for(var d in this.selectMgrByLayer)if(this.selectMgrByLayer[d]){var g=
this.selectMgrByLayer[d];g.onEvent(a,b);g.selection.sort()}};b.prototype._isSelectModeExclusive=function(a){for(;null!=a.getParent();)a=a.getParent();return(a=a.get("config"))?a.selectModeExclusive:!1};b.prototype.setSelection=function(a){a.sort();for(var b in this.selectMgrByLayer)this.selectMgrByLayer[b]&&this.selectMgrByLayer[b].setSelection(a);this._invokeSceneCallback()};b.prototype.getSelection=function(){var a=this._getLayers();return a&&a.length?(a=this.selectMgrByLayer[r.first(this._getLayers()).key])&&
a.selection||[]:[]};b.prototype.select=function(a){null!=a&&(this._delegateToSelectMgr(p.SELECT_ACTION.SELECT,a),this._invokeSceneCallback())};b.prototype.unselect=function(a){null!=a&&(this._delegateToSelectMgr(p.SELECT_ACTION.UNSELECT,a),this._invokeSceneCallback())};return b}(Nc),Qw=p.INTERACTION_DELEGATE_TYPE,Rw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._getLayers=function(){return this._sceneInteractionManagerDelegate.getInteractionLayers(Qw.TIME_CROSSHAIR)};
b.prototype._getCrosshairPositionLabel=function(a,b){var d=b.get("scale"),g=b.get("formatter"),k=b.get("dataGranularity")||"month",m=d.invert(a),n;if(J.isFiscalTimeFormat(k)){var q=b.get("fiscalGranularity"),s=b.get("isDiscrete");n=J.startOf(m,k,s,k,q).valueOf();k=J.offset(n,1,k,s,k,q).valueOf()}else k===p.TIME_GRANULARITY.SFDC_WEEK?(k=b.get("firstDayOfWeek"),n=Gb.startOf(m,k).valueOf(),k=Gb.offset(n,1,k).valueOf()):(n=O.DateTime.fromMillis(m).startOf(k).valueOf(),k=ra.offset(n,1,k).valueOf());q=
d.domain();m=k>q[q.length-1]?n:n<q[0]?k:Math.abs(m-k)<Math.abs(m-n)?k:n;return{position:d.scale(m),label:g(m)}};return b}(Xp),Sw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.showTooltip=function(a,b){void 0===b&&(b=!1);var d=a.triggerEl,g=a.states,k=r.first(a.focusedShapes);if(0>g.indexOf(p.INTERACTION_DELEGATE_TYPE.BRUSH)&&k&&"Text"!==k.getType())this._sceneInteractionManagerDelegate.onTooltipStateChange(!0,
k,b,d);return a};b.prototype.hideTooltip=function(a){this._sceneInteractionManagerDelegate.onTooltipStateChange(!1);return a};b.prototype.changeVisibility=function(a,b){var d=a.states,g=r.first(a.focusedShapes);if(b&&g&&!g.isSelected())this._sceneInteractionManagerDelegate.onTooltipStateChange(!1,g);else if(0>d.indexOf(p.INTERACTION_DELEGATE_TYPE.BRUSH)&&g&&"Text"!==g.getType())this._sceneInteractionManagerDelegate.onTooltipStateChange(!0,g);else this._sceneInteractionManagerDelegate.onTooltipStateChange(!1);
return a};return b}(Nc),Tw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.update=function(a){var b=r.first(a.focusedShapes);if(b&&b.get("onClick")){var d=b.get("onClick"),b=d.eventName,d=d.eventData;if(null!=b)this._sceneInteractionManagerDelegate.onEvent(b,d)}return a};return b}(Nc),fc=p.INTERACTION_DELEGATE_TYPE,hl=function(a){this._cache={};this._sceneInteractionManagerDelegate=a};hl.prototype.make=
function(a){if(this._cache[a])return this._cache[a];var b;switch(a){case fc.DISCRETE_CROSSHAIR:b=new Xp(this._sceneInteractionManagerDelegate);break;case fc.BRUSH:b=new yp(this._sceneInteractionManagerDelegate);break;case fc.CENTER:b=new cw(this._sceneInteractionManagerDelegate);break;case fc.CURSOR:b=new dw(this._sceneInteractionManagerDelegate);break;case fc.EVENT:b=new Lw(this._sceneInteractionManagerDelegate);break;case fc.HIGHLIGHT:b=new Mw(this._sceneInteractionManagerDelegate);break;case fc.RANGE:b=
new Nw(this._sceneInteractionManagerDelegate);break;case fc.SELECTION:b=new Pw(this._sceneInteractionManagerDelegate);break;case fc.TIME_CROSSHAIR:b=new Rw(this._sceneInteractionManagerDelegate);break;case fc.TOOLTIP:b=new Sw(this._sceneInteractionManagerDelegate);break;case fc.ANNOTATION:b=new bw(this._sceneInteractionManagerDelegate);break;case fc.CUSTOM:b=new Tw(this._sceneInteractionManagerDelegate)}b&&(this._cache[a]=b);return b};hl.prototype.reset=function(){var a=this;Object.keys(this._cache).forEach(function(b){b=
a._cache[b];b.reset&&b.reset()});this._cache={}};var gc=p.INTERACTION_DELEGATE_TYPE,Uw=gc.ANNOTATION,Vw=gc.BRUSH,Ww=gc.CENTER,Yp=gc.CURSOR,Xw=gc.CUSTOM,Yw=gc.DISCRETE_CROSSHAIR,Zw=gc.EVENT,Zp=gc.HIGHLIGHT,$w=gc.RANGE,il=gc.SELECTION,ax=gc.TIME_CROSSHAIR,je=gc.TOOLTIP,$p=function(){};$p.make=function(a,b){var c,f,d,g,k,m,n,q,s,u,r;switch(a){case p.INTERACTION_TYPE.COMMON:return k=b.make(Zw),new N([new bc({update:new ia(function(a){return k.clickEvent(a)})})],p.INTERACTION_TYPE.COMMON);case p.INTERACTION_TYPE.DIMENSION_CROSSHAIR:return s=
b.make(je),u=b.make(Yw),new N([new wp({update:new ia(function(a){return u.update(a)})}),new ri({enter:new ia(function(a){return u.reset(a)},function(a){return s.hideTooltip(a)})})],p.INTERACTION_TYPE.DIMENSION_CROSSHAIR);case p.INTERACTION_TYPE.TIME_CROSSHAIR:return s=b.make(je),u=b.make(ax),new N([new wp({update:new ia(function(a){return u.update(a)})}),new ri({enter:new ia(function(a){return u.reset(a)},function(a){return s.hideTooltip(a)})})],p.INTERACTION_TYPE.TIME_CROSSHAIR);case p.INTERACTION_TYPE.HIGHLIGHT:return m=
b.make(Zp),s=b.make(je),g=b.make(Yp),new N([new Zv({enter:new ia(function(a){return m.update(a)},function(a){return s.showTooltip(a)},function(a){return g.update(a)}),leave:new ia(function(a){return m.update(a)},function(a){return s.hideTooltip(a)},function(a){return g.reset(a)})})],p.INTERACTION_TYPE.HIGHLIGHT);case p.INTERACTION_TYPE.MULTI_SELECTION:return q=b.make(il),f=b.make(Vw),g=b.make(Yp),new N([new ri({update:new ia(function(a){return f.updateWithTrace(a)},function(a){return q.selectShapes(a)},
function(a){return g.update(a)}),leave:new ia(function(a){return f.reset(a)})}),new bc({update:new ia(function(a){return q.selectShapes(a)})}),new Bg({update:new ia(function(a){return q.selectKeys(a)})})],p.INTERACTION_TYPE.MULTI_SELECTION);case p.INTERACTION_TYPE.RANGE_SELECTION:return q=b.make(il),n=b.make($w),s=b.make(je),new N([new ri({enter:new ia(function(a){return s.hideTooltip(a)}),update:new ia(function(a){return n.updateWithTrace(a)}),leave:new ia(function(a){return n.release(a)},function(a){return q.selectRange(a)})}),
new bc({update:new ia(function(a){return n.reset(a)},function(a){return q.selectRange(a)})}),new Bg({update:new ia(function(a){return n.updateWithSelection(a)})})],p.INTERACTION_TYPE.RANGE_SELECTION);case p.INTERACTION_TYPE.SINGLE_SELECTION:return q=b.make(il),new N([new bc({update:new ia(function(a){return q.selectShapes(a)})}),new Bg({update:new ia(function(a){return q.selectKeys(a)})})],p.INTERACTION_TYPE.SINGLE_SELECTION);case p.INTERACTION_TYPE.TAB:return m=b.make(Zp),s=b.make(je),d=b.make(Ww),
new N([new xp({update:new ia(function(a){return m.update(a)},function(a){return d.center(a)})})],p.INTERACTION_TYPE.TAB);case p.INTERACTION_TYPE.SPACE:return s=b.make(je),new N([new $v({update:new ia(function(a){return s.showTooltip(a,!0)})})],p.INTERACTION_TYPE.SPACE);case p.INTERACTION_TYPE.ESCAPE:return s=b.make(je),new N([new aw({update:new ia(function(a){return s.hideTooltip(a,!0)})})],p.INTERACTION_TYPE.ESCAPE);case p.INTERACTION_TYPE.ANNOTATION:return c=b.make(Uw),new N([new bc({update:new ia(function(a){return c.clickUpdate(a)})})],
p.INTERACTION_TYPE.ANNOTATION);case p.INTERACTION_TYPE.CUSTOM:return r=b.make(Xw),new N([new bc({update:new ia(function(a){return r.update(a)})})],p.INTERACTION_TYPE.CUSTOM)}return new N([],"none")};var Ad=p.INTERACTION_DELEGATE_TYPE,bx=Ad.ANNOTATION,cx=Ad.CUSTOM,dx=Ad.DISCRETE_CROSSHAIR,ex=Ad.EVENT,fx=Ad.HIGHLIGHT,jl=Ad.SELECTION,gx=Ad.TIME_CROSSHAIR,yi=Ad.TOOLTIP,aq=function(){};aq.make=function(a,b){var c,f,d,g,k,m,n;switch(a){case p.INTERACTION_TYPE.COMMON:return f=b.make(ex),k=b.make(yi),new N([new bc({update:new ia(function(a){return k.changeVisibility(a)},
function(a){return f.clickEvent(a)})})],p.INTERACTION_TYPE.COMMON);case p.INTERACTION_TYPE.DIMENSION_CROSSHAIR:case p.INTERACTION_TYPE.TIME_CROSSHAIR:return m=b.make(a===p.INTERACTION_TYPE.DIMENSION_CROSSHAIR?dx:gx),g=b.make(jl),new N([new bc({update:new ia(function(a){return m.update(a)})})],a);case p.INTERACTION_TYPE.MULTI_SELECTION:return g=b.make(jl),k=b.make(yi),new N([new bc({update:new ia(function(a){return g.selectShapes(a)},function(a){return k.changeVisibility(a,!0)})}),new Bg({update:new ia(function(a){return g.selectKeys(a)})})],
p.INTERACTION_TYPE.MULTI_SELECTION);case p.INTERACTION_TYPE.SINGLE_SELECTION:return g=b.make(jl),k=b.make(yi),new N([new bc({update:new ia(function(a){return g.selectShapes(a)},function(a){return k.changeVisibility(a,!0)})}),new Bg({update:new ia(function(a){return g.selectKeys(a)})})],p.INTERACTION_TYPE.SINGLE_SELECTION);case p.INTERACTION_TYPE.TAB:return d=b.make(fx),k=b.make(yi),new N([new xp({update:new ia(function(a){return d.update(a)},function(a){return k.showTooltip(a)})})],p.INTERACTION_TYPE.TAB);
case p.INTERACTION_TYPE.ANNOTATION:return c=b.make(bx),new N([new bc({update:new ia(function(a){return c.clickUpdate(a)})})],p.INTERACTION_TYPE.ANNOTATION);case p.INTERACTION_TYPE.CUSTOM:return n=b.make(cx),new N([new bc({update:new ia(function(a){return n.update(a)})})],p.INTERACTION_TYPE.CUSTOM)}return new N([],"none")};var bq=p.INTERACTION_DELEGATE_TYPE,uc=Kc.inBrowser()&&!Kc.isMobile()?$p:aq,ke=p.EVENT_NAME,V=function(a,b){this._scene=this._hotSpot0=this._shape0=null;this._durations=b.durations||
{};this._sceneInteractionDelegate=a;this._interactionLayers={};this._interactionDelegateFactory=new hl(this);this._activeKeys=[];this._action=new N([]);this._formatedTooltip=[];this._tooltipRenderer=b.tooltipRenderer;this._canRemoveTooltip=b.canRemoveTooltip;this._removeTooltip=b.removeTooltip};V.prototype.setScene=function(a){var b=this;this._scene=a;this.reset();var c=!1,f=!1,d;if(a){a.prepareForInteraction();this._action.addAction(uc.make(p.INTERACTION_TYPE.COMMON,this._interactionDelegateFactory));
a.getCells().forEach(function(g){g.getLayers().forEach(function(g){g.get("decorationType")===p.DECORATION_LAYER_TYPE.DISCRETE_CROSSHAIR&&(d=p.INTERACTION_TYPE.DIMENSION_CROSSHAIR,b.addInteractionLayer(g,bq.DISCRETE_CROSSHAIR));g.get("decorationType")===p.DECORATION_LAYER_TYPE.TIME_CROSSHAIR&&(d=p.INTERACTION_TYPE.TIME_CROSSHAIR,b.addInteractionLayer(g,bq.TIME_CROSSHAIR));g.get("canHover")&&(f=!0,b.addInteractionLayer(g,p.INTERACTION_DELEGATE_TYPE.HIGHLIGHT));a&&a.get("selectMode")!==p.SELECTMODE.NONE&&
(g.isBrushLayer()?(c=!0,b.addInteractionLayer(g,p.INTERACTION_DELEGATE_TYPE.BRUSH)):g.get("canSelect")&&(c=!0,b.addInteractionLayer(g,p.INTERACTION_DELEGATE_TYPE.SELECTION)))})});if(c){this._selectionDelegate=this._interactionDelegateFactory.make(p.INTERACTION_DELEGATE_TYPE.SELECTION);var g=a.get("selectMode");g===p.SELECTMODE.SINGLE||g===p.SELECTMODE.SINGLE_REQUIRED?this._action.addAction(uc.make(p.INTERACTION_TYPE.SINGLE_SELECTION,this._interactionDelegateFactory)):g===p.SELECTMODE.MULTI||g===p.SELECTMODE.MULTI_REQUIRED?
this._action.addAction(uc.make(p.INTERACTION_TYPE.MULTI_SELECTION,this._interactionDelegateFactory)):g===p.SELECTMODE.RANGE&&this._action.addAction(uc.make(p.INTERACTION_TYPE.RANGE_SELECTION,this._interactionDelegateFactory))}d&&this._action.addAction(uc.make(d,this._interactionDelegateFactory));f&&this._action.addAction(uc.make(p.INTERACTION_TYPE.HIGHLIGHT,this._interactionDelegateFactory));this._annotationDelegate=this._interactionDelegateFactory.make(p.INTERACTION_DELEGATE_TYPE.ANNOTATION);this._action.addAction(uc.make(p.INTERACTION_TYPE.ANNOTATION,
this._interactionDelegateFactory));this._action.addAction(uc.make(p.INTERACTION_TYPE.TAB,this._interactionDelegateFactory));this._action.addAction(uc.make(p.INTERACTION_TYPE.CUSTOM,this._interactionDelegateFactory));this._action.addAction(uc.make(p.INTERACTION_TYPE.SPACE,this._interactionDelegateFactory));this._action.addAction(uc.make(p.INTERACTION_TYPE.ESCAPE,this._interactionDelegateFactory))}return this};V.prototype.hasScene=function(){return null!=this._scene};V.prototype.addInteractionLayer=
function(a,b){this._interactionLayers[b]=this._interactionLayers[b]||[];this._interactionLayers[b].push(a)};V.prototype.getInteractionLayers=function(a){return this._interactionLayers[a]||[]};V.prototype.render=function(a,b,c){void 0===a&&(a={duration:0});void 0===b&&(b=!1);void 0===c&&(c=p.RENDER_TYPE.INTERACTION);return this._sceneInteractionDelegate.onRender(this._scene,r.extend({},a,{forcedFullRender:!1}),b,c)};V.prototype.reset=function(){this._action=new N([]);this._interactionLayers={};this._interactionDelegateFactory.reset();
this._activeKeys=[];return this};V.prototype.getAutoFitRatio=function(){var a=this._scene;return(a=a&&a.get("config"))&&a._autoFitRatio||0};V.prototype.scrollTo=function(a,b,c){void 0===c&&(c=0);if(this._sceneInteractionDelegate.isRemoved())return Promise.resolve((new R({name:"scrollTo"})).start());var f=this._getScrollOffset(),d=f[1];return a!==f[0]||b!==d?(this._sceneInteractionDelegate.onTooltipStateChange(!1),null!=this._scene&&(this._scene.onScroll(a,b),this._annotationDelegate&&this._annotationDelegate.update(!0)),
this.render({duration:c||0})):Promise.resolve((new R({name:"scrollTo"})).start())};V.prototype._getScrollOffset=function(){return this._scene?this._scene.get("scrollOffset"):[0,0]};V.prototype.renderAccessibilityTable=function(a){return this};V.prototype.getTooltipWithPath=function(a){if(this._scene){a=this._getHoverEntityWithPath(this._scene,a);var b=a.get("dataFormatter");if(a&&a.get("data")&&a.get("data").row&&b&&b.hasTooltip())return b.formatTooltip(a.get("data").row)}return[]};V.prototype._getHoverEntityWithPath=
function(a,b){var c=$d.getModelNode(a,b);return c?c:this._getShapeGroupNodeWithPath(a,b)};V.prototype._getShapeGroupNodeWithPath=function(a,b){var c="",f=b[b.length-1];f&&(c=f.replace(/(^.*)\/[0-9]+$/,function(a,b){return b}));if(c!==f)return $d.getModelNode(a,b.slice(0,-1).concat(c))};V.prototype.updateScrollPosition=function(a,b){if(this._scene)this._scene.onScroll(a,b);return this};V.prototype.getSelection=function(){return this._selectionDelegate?this._selectionDelegate.getSelection():[]};V.prototype.setSelection=
function(a,b){void 0===b&&(b={});var c=this._scene&&this._scene.get("selectMode");this._delegate("onSelect",{selectionInfo:{keys:a,overwrite:!0,isRange:c===p.SELECTMODE.RANGE}});(!b||!b.skipRender)&&this.render({duration:this._durations.select});this._annotationDelegate&&this._annotationDelegate.update();return this};V.prototype.select=function(a,b){void 0===b&&(b={});this._selectionDelegate&&this._selectionDelegate.select(a);(!b||!b.skipRender)&&this.render({duration:this._durations.select});this._annotationDelegate&&
this._annotationDelegate.update();return this};V.prototype.unselect=function(a,b){void 0===b&&(b={});this._selectionDelegate&&this._selectionDelegate.unselect(a);(!b||!b.skipRender)&&this.render({duration:this._durations.select});this._annotationDelegate&&this._annotationDelegate.update();return this};V.prototype._updateKeyFromNativeEvent=function(a,b){if(!b)return a;var c={Meta:"metaKey",Control:"ctrlKey",Shift:"shiftKey",Alt:"altKey"};return a.filter(function(a){return!c.hasOwnProperty(a)}).concat(Object.keys(c).reduce(function(a,
d){b[c[d]]&&a.push(d);return a},[]))};V.prototype.mouseMove=function(a,b,c){var f=this._scene&&this._scene.findShapeUnderPos(a,b),d=f&&f.findHotSpotUnderPos(a,b),g=this._delegate("onMouseMove",{pointerPosition:[a,b],focusedShapes:[f],activeKeys:this._updateKeyFromNativeEvent(this._activeKeys,c),hotSpot:this._hotSpot0,nativeEvent:c});if(f!==this._shape0){if(this._shape0&&(this._hotSpot0&&this._onMouseLeaveHotSpot(this._hotSpot0),this._onMouseLeaveShape(this._shape0,f,g)),this._formatedTooltip=[],f&&
(this._onMouseEnterShape(this._shape0,f,g),d&&this._onMouseEnterHotSpot(d),d=this._scene&&this._scene.get("dataFormatter"),(f=f.get("data"))&&f.row&&d&&d.hasTooltip()))this._formatedTooltip=d.formatTooltipWithColumns(f.row,f.columns)}else{if(f)this._sceneInteractionDelegate.onTooltipMove(f);d!==this._hotSpot0&&(this._hotSpot0&&this._onMouseLeaveHotSpot(this._hotSpot0),d&&this._onMouseEnterHotSpot(d))}this.render({duration:p.ANIM_DURATION.HOVER});this._trigger(p.UNDOCUMENTED_EVENTS.MOUSE_MOVE,{x:a,
y:b,lines:this._formatedTooltip,shape:this._shape0,hotSpot:this._hotSpot0,nativeEvent:c});return this};V.prototype.mouseDown=function(a,b,c){this._delegate("onMouseDown",{pointerPosition:[a,b],focusedShapes:[this._scene&&this._scene.findShapeUnderPos(a,b)],activeKeys:this._updateKeyFromNativeEvent(this._activeKeys,c),hotSpot:this._hotSpot0,nativeEvent:c});this.render({duration:0});this._trigger(p.UNDOCUMENTED_EVENTS.MOUSE_DOWN,{x:a,y:b,shape:this._shape0,hotSpot:this._hotSpot0,nativeEvent:c});return this};
V.prototype.mouseUp=function(a,b,c){this._delegate("onMouseUp",{pointerPosition:[a,b],focusedShapes:[this._scene&&this._scene.findShapeUnderPos(a,b)],activeKeys:this._updateKeyFromNativeEvent(this._activeKeys,c),hotSpot:this._hotSpot0,nativeEvent:c});this.render({duration:this._durations.select});this._trigger(p.UNDOCUMENTED_EVENTS.MOUSE_UP,{x:a,y:b,shape:this._shape0,hotSpot:this._hotSpot0,nativeEvent:c});return this};V.prototype.mouseClick=function(a,b){var c=this._scene&&this._scene.findShapeUnderPos(a,
b);this._delegate("onMouseDown",{pointerPosition:[a,b],focusedShapes:[c],activeKeys:this._activeKeys,hotSpot:this._hotSpot0});this._delegate("onMouseUp",{pointerPosition:[a,b],focusedShapes:[c],activeKeys:this._activeKeys,hotSpot:this._hotSpot0});this.render({duration:this._durations.select});return this};V.prototype.mouseLeave=function(a,b,c){var f=!1;this._hotSpot0&&(f=this._onMouseLeaveHotSpot(this._hotSpot0)||f);this._shape0&&(f=this._onMouseLeaveShape(this._shape0,null)||f);(f=this._delegate("onMouseLeave",
{pointerPosition:[a,b],nativeEvent:c})||f)&&this.render({duration:p.ANIM_DURATION.HOVER});this._trigger(ke.MOUSE_LEAVE,{x:a,y:b,nativeEvent:c});return this};V.prototype.tabOnShape=function(a){return this};V.prototype.tabOffShape=function(a){return this};V.prototype.keyDown=function(a,b){-1===this._activeKeys.indexOf(a)&&this._activeKeys.push(a);this._delegate("onKeyDown",{activeKeys:this._activeKeys})&&this.render({duration:0});this._trigger(ke.KEY_DOWN,{nativeEvent:b});return this};V.prototype.keyUp=
function(a,b){this._activeKeys.splice(this._activeKeys.indexOf(a),1);this._delegate("onKeyUp",{activeKeys:this._activeKeys})&&this.render({duration:this._durations.select});this._trigger(ke.KEY_UP,{nativeEvent:b});return this};V.prototype.setAnnotations=function(a){void 0===a&&(a=[]);this._annotationDelegate&&this._annotationDelegate.setAnnotations(a);return this};V.prototype.getAnnotations=function(){return this._annotationDelegate?this._annotationDelegate.getAnnotations():[]};V.prototype.hideTooltip=
function(){this._sceneInteractionDelegate.onTooltipStateChange(!1);return this};V.prototype.showTooltip=function(a,b,c,f,d,g){f=this._scene&&this._scene.get("dataFormatter");if(!f)return this;if(!c){if(this._sceneInteractionDelegate.isRemoved()||!a||!a.get("data")||!f)return this;c=a.get("data").row}if((!c||!f.hasTooltip())&&!this._tooltipRenderer)return this;a&&(d=a.get("data").columns);this._sceneInteractionDelegate.onTooltipStateChange(!0,f.formatTooltipWithColumns(c,d),a,b,this._tooltipRenderer,
this._canRemoveTooltip,this._removeTooltip,g);return this};V.prototype.getScene=function(){return this._scene};V.prototype.getPadding=function(){return this._sceneInteractionDelegate.getPadding()};V.prototype.getAnnotation=function(){return this._sceneInteractionDelegate.getAnnotation()};V.prototype.onEvent=function(a,b){this._sceneInteractionDelegate.onEvent(a,b)};V.prototype.onSelect=function(a,b,c){this._sceneInteractionDelegate.onSelect(a,b,c)};V.prototype.onCursorChange=function(a){this._sceneInteractionDelegate.onCursorChange(a)};
V.prototype.onTooltipStateChange=function(a,b,c,f){a?this.showTooltip(b,c,void 0,void 0,void 0,f):this.hideTooltip()};V.prototype._onMouseEnterHotSpot=function(a){this._hotSpot0=a;this._trigger(ke.MOUSE_ENTER_HOTSPOT,{shape:this._shape0,hotSpot:a});return a.hover()};V.prototype._onMouseLeaveHotSpot=function(a){this._hotSpot0=null;this._trigger(ke.MOUSE_LEAVE_HOTSPOT,{shape:this._shape0,hotSpot:a});return a.unhover()};V.prototype._onMouseEnterShape=function(a,b,c){if("Text"===b.getType()&&b.isTruncated()){if(this._sceneInteractionDelegate.isRemoved())return;
var f=b.getRotation(),f=f?f.angle:0;this._sceneInteractionDelegate.onShowTruncationTooltip(b.get("text"),f,b.truncationTooltipPositions(),b.totalTranslation(!0,!0))}this._shape0=b;this._trigger(ke.MOUSE_ENTER_SHAPE,{shape:b});return this._delegate("onMouseEnterShape",{focusedShapes:[b],blurredShapes:[a],states:c&&c.states||[]})};V.prototype._onMouseLeaveShape=function(a,b,c){this._shape0=null;this._trigger(ke.MOUSE_LEAVE_SHAPE,{shape:a});return this._delegate("onMouseLeaveShape",{focusedShapes:[b],
blurredShapes:[a],states:c&&c.states||[]})};V.prototype._trigger=function(a,b){if(this._scene){var c=b.x,f=b.y;if(null!=c){var d=this._scene.get("position"),g=d[1];b.x=d[0]+c;b.y=g+f}this._sceneInteractionDelegate.onEvent(a,b)}};V.prototype._delegate=function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];return this._action[a].apply(this._action,b)};var Ye=p.ACCESSIBILITY,hx=zd.getInstance(),ix=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&
a.prototype);b.prototype.constructor=b;b.prototype.renderAccessibilityTable=function(a){if(this._scene)this._sceneInteractionDelegate.onRenderAccessibilityTable(this._getTable(a,this._scene.get("rowsMetadata")));return this};b.prototype.renderAllAccessibilityDataItems=function(){var a=this;return this._sceneInteractionDelegate.onRender(this._scene,{duration:0,forcedFullRender:!0}).then(function(){return a._sceneInteractionDelegate.renderAccessibilityDataItems()})};b.prototype.getTooltipWithPath=function(a){var b=
this._scene;if(b){a=this._getHoverEntityWithPath(b,a);var b=b.get("dataFormatter"),d=a.getModelProps().accessibility,d=d?d.type:void 0;if(d===Ye.TYPE.DATA&&a&&a.get("data")&&a.get("data").row&&null!=b&&b.hasTooltip())return{lines:b.formatTooltip(a.get("data").row),info:a.getInfo(),text:a.getModelProps().text};if(d===Ye.TYPE.AXIS)return{lines:[{label:W.getLabel("@salesforce/charts","sortAssistiveText",[a.getModelProps().text]),type:"text"}]};if(d===Ye.TYPE.LEGEND_DATA)return{lines:[{label:a.getModelProps().text,
type:"text"}]}}return{lines:[]}};b.prototype.toTable=function(a){if(!a.length)return{titleRow:[],dataRows:[]};var b=[],d=new Set;a=a.map(function(a,c){return a.reduce(function(a,c){var g=c.type,k=c.label,p=c.value;void 0!==g&&(d.has(k)||(b.push({label:k,type:g}),d.add(k)),a.push(p));return a},[])});return{titleRow:b,dataRows:null==r.find(b,function(a){return a.type===Ye.CELL_TYPE.DIMENSION})?a.slice(0,1):a}};b.prototype.getRows=function(a,b){return a.map(function(a){return hx.formatRow(a,b)})};b.prototype._getTable=
function(a,b){void 0===a&&(a=[]);var d=this.getRows(a,b),g=this._scene.get("config"),k=[];[g.measureAxis1,g.measureAxis2].forEach(function(a){null!=a&&(null!=a.referenceLines&&0<a.referenceLines.length)&&k.push.apply(k,a.referenceLines)});null!=g.referenceLines&&k.push.apply(k,g.referenceLines);var m=1;k.forEach(function(a){var b=""+Ye.CAPTION_KEY.REFERENCE_LINE+(1<k.length?" "+m++:"")+":"+(null!=a.label?" "+a.label:"");d.forEach(function(c){c.push({label:b,type:Ye.CELL_TYPE.REFERENCE_LINE,value:a.value})})});
return this.toTable(d)};b.prototype._getHoverEntityWithPath=function(a,b){var d=$d.getModelNode(a,b,!0);return d?d:this._getShapeGroupNodeWithPath(a,b)};b.prototype._getShapeGroupNodeWithPath=function(a,b){var d="",g=b[b.length-1];g&&(d=g.replace(/(^.*)\/[0-9]+$/,function(a,b){return b}));if(d!==g)return $d.getModelNode(a,b.slice(0,-1).concat(d))};b.prototype._delegateAndRenderOnKeyDown=function(a,b,d,g){var k=this._scene;if(k&&(a=$d.getModelNode(k,a,!0)))this._delegate("onKeyDown",{focusedShapes:[a],
activeKeys:[b],triggerEl:g}),this._sceneInteractionDelegate.onRender(this._scene,{duration:p.ANIM_DURATION.TAB,forcedFullRender:!0},!1,d),this._shape0=a;return this};b.prototype.tabOnShape=function(a){this._delegateAndRenderOnKeyDown(a,p.KEYBOARD_KEY.TAB,"tab")};b.prototype.tabOffShape=function(a){var b=this._scene;if(b&&(a=$d.getModelNode(b,a,!0)))this._delegate("onKeyDown",{blurredShapes:[a],activeKeys:[p.KEYBOARD_KEY.TAB]}),this._sceneInteractionDelegate.onRender(this._scene,{duration:p.ANIM_DURATION.TAB,
forcedFullRender:!0},!1,"tab"),this._shape0=null;return this};b.prototype.spaceKeyDownOnShape=function(a,b){this._delegateAndRenderOnKeyDown(a,p.KEYBOARD_KEY.SPACE,"space",b)};b.prototype.keyDown=function(b,f){return b===p.KEYBOARD_KEY.ENTER&&this._shape0?(this._delegate("onMouseDown",{pointerPosition:[0,0],focusedShapes:[this._shape0]}),this._delegate("onMouseUp",{pointerPosition:[0,0],focusedShapes:[this._shape0]}),this.render({duration:this._durations.select},!1,p.EVENT_NAME.MOUSE_CLICK),this):
a.prototype.keyDown.call(this,b,f)};return b}(V),Lb=function(){};Lb.prototype.cleanModel=function(a){return JSON.stringify(this._recurse(a))||"{}"};Lb.prototype.cleanOptions=function(a){return JSON.stringify(a)};Lb.prototype._recurse=function(a){var b=this;return Array.isArray(a)?a.map(function(a){return b._recurse(a)}):r.isObject(a)?Object.keys(a).filter(function(b){return Lb._validKeys.hasOwnProperty(b)&&null!=a[b]}).reduce(function(c,f){var d;d=a[f];d=Lb._colorKeys.hasOwnProperty(f)?b._colorsFromNode(d):
b._recurse(d);null!=d&&(c[f]=d);return c},{}):a};Lb.prototype._colorsFromNode=function(a){var b=this,c=function(a){if(b._hasGradientColor(a))return b._gradientColorsFromNode(a);if(b._hasCssColor(a))return b._cssColorFromRGBA(a)};return Array.isArray(a)?a.filter(function(a){return null!=a}).map(function(a){return c(a)}).filter(function(a){return null!=a}):c(a)};Lb.prototype._hasGradientColor=function(a){return null!=a._colorStops&&null!=a._direction};Lb.prototype._gradientColorsFromNode=function(a){var b=
this;return{direction:a._direction,colors:a._colorStops.map(function(a){return a[0]}).map(function(a){return b._colorsFromNode(a)})}};Lb.prototype._hasCssColor=function(a){return null!=a._colorRGBA};Lb.prototype._cssColorFromRGBA=function(a){a=a._colorRGBA;return"rgba("+a.r+","+a.g+","+a.b+","+a.a+")"};Lb._validKeys=x.setFromValues("props tweens type _children size position fullSize scrollOffset key tx ty scrollX scrollY viewport text NumberText x y r fill stroke bg w h dx dy opacity rotation textRotation angle fillOpacity startAngle r1 r2 barText texture url fit shade textX textY textR textColor color bb maxWidth number format compact points_x points_y cornerRadius lineWidth roundedCornerStart roundedCornerEnd dashed box fontSize Rect canScroll vertical baseX baseY formattedNumber closePath lineJoin curve halign valign".split(" "));
Lb._colorKeys=x.setFromValues(["fill","stroke","textColor","color"]);var jx=p.UPDATE_STATE,ea=function(a,b){var c=b.rendererConfig,f=b.getTooltipInstance,d=b.padding,g=b.name,k=b.isLegend;this._allFocusableItemsRendered=this._removed=!1;this._padding=d;this._isLegend=k;this._renderer=nb.getDelegate().getRenderer({processor:a,config:c,padding:d,getTooltipInstance:f,name:g,isLegend:k});"function"===typeof this._renderer.requestSerializedModels&&this._renderer.requestSerializedModels()&&(this._cleaner=
new Lb)};ea.prototype.createCustomDOM=function(){return this._renderer.createCustomDOM()};ea.prototype.removeCustomDOM=function(a){return this._renderer.removeCustomDOM(a)};ea.prototype.toggleAccessibility=function(a){this._renderer.toggleAccessibility(a)};ea.prototype.render=function(a,b){var c=this;void 0===b&&(b={duration:0,forcedFullRender:!1,disableMorphing:!1});var f=this._model;return this.isRemoved()?Promise.resolve((new R({name:"scene"})).start()):new Promise(function(d,g){var k=b||{},m=
k.forcedFullRender;void 0===m&&(m=!1);k=k.disableMorphing;void 0===k&&(k=!1);var n=(new R({name:"scene"})).start();if(!m&&(a&&a.getUpdateState()===jx.UPDATED||!a&&!f))return d(n);c.reset(c._model);n.mark("diffToModel");c._model=c._updateModel(c._model,a,m,k);n.endMark("diffToModel");oa.animation&&console.log((c._isLegend?"legend":"chart")+" renderer.update");c._model?(m=c._processModel(c._model,b),c._renderer.update(m.renderModel,m.renderOptions,function(a){n.end();a&&n.merge(a.toJson());d(n)})):
(n.end(),d(n))})};ea.prototype.updateScrollPosition=function(a,b){var c=this._model;c&&(c.props.scrollOffset=[a,b]);return this};ea.prototype._updateModel=function(a,b,c,f){void 0===f&&(f=!1);return ae.update(this._model,b,void 0,{disableMorphing:f})};ea.prototype.setCursorType=function(a){if(this.isRemoved())return this;this._renderer.setCursorType(a);return this};ea.prototype.getElement=function(){return this._renderer.getElement()};ea.prototype.getPadding=function(){return this._padding};ea.prototype.getChartOffsetXY=
function(){return this._renderer.chartOffsetXY()};ea.prototype.isInViewport=function(a){return this._renderer.isInViewport(a)};ea.prototype.screenshot=function(){if(!this.isRemoved()){var a=this._renderer.screenshot(),b=this._renderer.getElementOffset(),c=b[0],b=b[1];return"data:,"===a?void 0:{left:c,top:b,src:a}}};ea.prototype.reset=function(a){a&&this._resetModel(a);this._renderer.reset();return this};ea.prototype._resetModel=function(a){if(a){if(a.props){var b=a.props,c=b.opacity,b=b.isAccessible;
delete a.props.animate_points_x;delete a.props.animate_points_y;0===c&&!b&&a.removeFromParent();this._toEndProps(a)}c=a.getChildren();for(b=c.length-1;0<=b;--b)this._resetModel(c[b]);delete a.tweens;delete a.rendererCache}return!0};ea.prototype._toEndProps=function(a){var b=a.props,c=a.tweens;c&&(Object.keys(c).forEach(function(a){b[a]=c[a][1]}),delete a.tweens);return a};ea.prototype.show=function(){this._renderer.show();return this};ea.prototype.hide=function(){this._renderer.hide();return this};
ea.prototype.remove=function(){if(this.isRemoved())return this;this.hideTooltip();"function"===typeof this._renderer.remove&&this._renderer.remove();this._removed=!0;return this};ea.prototype.isRemoved=function(){return this._removed};ea.prototype.renderAccessibilityTable=function(a){this._renderer.renderAccessibilityTable(a);return this};ea.prototype.areAllFocusableItemsRendered=function(){return this._allFocusableItemsRendered};ea.prototype.setAllFocusableItemsRendered=function(){this._allFocusableItemsRendered=
!0};ea.prototype.renderAccessibilityDataItems=function(){this._renderer.renderAccessibilityDataItems();return this};ea.prototype.getAnnotation=function(){return this._renderer.getAnnotation()};ea.prototype.startInteraction=function(){"function"===typeof this._renderer.startMouseInteraction&&this._renderer.startMouseInteraction();return this};ea.prototype.stopInteraction=function(){"function"===typeof this._renderer.stopMouseInteraction&&this._renderer.stopMouseInteraction();return this};ea.prototype.showTooltip=
function(a,b,c,f,d,g,k){if(this.isRemoved())return this;this._renderer.showTooltip(a,b,c,f,d,g,k);return this};ea.prototype.showTruncationTooltip=function(a,b,c,f){if(this.isRemoved())return this;this._renderer.showTruncationTooltip(a,b,c,f);return this};ea.prototype.hideTooltip=function(){if(this.isRemoved())return this;this._renderer.hideTooltip();return this};ea.prototype.moveTooltip=function(a){this._renderer.moveTooltip(a);return this};ea.prototype.runAnimation=function(a){var b=a.getScene(),
c=a.getOptions();a.start();this.render(b,c).then(function(b){return a.end(b)});return this};ea.prototype.cancelAnimation=function(a){a.isRunning()||a.end();return this};ea.prototype.deferAnimation=function(a){a.defer();return this};ea.prototype._processModel=function(a,b){return this._cleaner?{renderModel:this._cleaner.cleanModel(a),renderOptions:this._cleaner.cleanOptions(b)}:{renderModel:a,renderOptions:b}};var kx=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&
a.prototype);b.prototype.constructor=b;b.prototype._updateModel=function(a,b,d,g){void 0===d&&(d=!1);void 0===g&&(g=!1);a=b&&b.get("size");var k=b&&b.get("scrollOffset");return a&&k&&!d?ae.update(this._model,b,new I({x:0,y:0,w:a[0],h:a[1]}),{disableMorphing:g}):ae.update(this._model,b,void 0,{disableMorphing:g})};b.prototype._toEndProps=function(a){return a};return b}(ea),cq=function(){};cq.makeSceneRenderer=function(a,b){return new (Kc.inBrowser()?kx:ea)(a,b)};var G=function(a){this._name=a.name;
this._isLegend=!!a.isLegend;this._sceneRenderer=cq.makeSceneRenderer(this,r.extend({},a,{isLegend:this._isLegend}));this._animationQueue=new ge(this._sceneRenderer);this._sceneInteractionManager=new ix(this,a)};G.prototype.createCustomDOM=function(){return this._sceneRenderer.createCustomDOM()};G.prototype.removeCustomDOM=function(a){return this._sceneRenderer.removeCustomDOM(a)};G.prototype.toggleAccessibility=function(a){this._sceneRenderer.toggleAccessibility(a)};G.prototype.setScene=function(a){this._sceneInteractionManager.setScene(a);
return this};G.prototype.setChartDelegate=function(a){this._chartInteractionDelegate=a;return this};G.prototype.render=function(a,b,c){return this._sceneInteractionManager.render(a,b,c)};G.prototype.getElement=function(){return this._sceneRenderer.getElement()};G.prototype.getName=function(){return this._name};G.prototype.getChartOffsetXY=function(){return this._sceneRenderer.getChartOffsetXY()};G.prototype.isInViewport=function(a){return this._sceneRenderer.isInViewport(a)};G.prototype.screenshot=
function(){return this._sceneRenderer.screenshot()};G.prototype.reset=function(){this._animationQueue.reset();return this};G.prototype.getAutoFitRatio=function(){return this._sceneInteractionManager.getAutoFitRatio()};G.prototype.startInteraction=function(){this._sceneRenderer.startInteraction();return this};G.prototype.stopInteraction=function(){this._sceneRenderer.stopInteraction();return this};G.prototype.show=function(){this._sceneRenderer.show();return this};G.prototype.hide=function(){this._sceneRenderer.hide();
return this};G.prototype.remove=function(){this._sceneRenderer.remove();return this};G.prototype.isRemoved=function(){return this._sceneRenderer.isRemoved()};G.prototype.scrollTo=function(a,b,c){void 0===c&&(c=0);return this._sceneInteractionManager.scrollTo(a,b,c)};G.prototype.renderAccessibilityTable=function(a){this._sceneInteractionManager.renderAccessibilityTable(a);return this};G.prototype.onRenderAccessibilityDataItems=function(a){void 0===a&&(a=!1);a||this._sceneRenderer.areAllFocusableItemsRendered()?
(this._sceneInteractionManager.renderAllAccessibilityDataItems(),this._sceneRenderer.setAllFocusableItemsRendered()):this.renderAccessibilityDataItems()};G.prototype.renderAccessibilityDataItems=function(){this._sceneRenderer.renderAccessibilityDataItems()};G.prototype.getSelection=function(){return this._sceneInteractionManager.getSelection()};G.prototype.setSelection=function(a,b){void 0===b&&(b={});this._sceneInteractionManager.setSelection(a,b);return this};G.prototype.select=function(a,b){void 0===
b&&(b={});this._sceneInteractionManager.select(a,b);return this};G.prototype.unselect=function(a,b){void 0===b&&(b={});this._sceneInteractionManager.unselect(a,b);return this};G.prototype.setAnnotations=function(a){void 0===a&&(a=[]);this._sceneInteractionManager.setAnnotations(a);return this};G.prototype.getAnnotations=function(){return this._sceneInteractionManager.getAnnotations()};G.prototype.hideTooltip=function(){this._sceneInteractionManager.hideTooltip();return this};G.prototype.getPadding=
function(){return this._sceneRenderer.getPadding()};G.prototype.getAnnotation=function(){return this._sceneRenderer.getAnnotation()};G.prototype.onRender=function(a,b,c,f){var d=this;a=new Mc({scene:a,options:b,interrupt:c,name:f});this._chartInteractionDelegate.onEvent(p.EVENT_NAME.RENDER_BEGIN,{type:f});this._animationQueue.run(a);return a.getPromise().then(function(a){d._chartInteractionDelegate.onEvent(p.EVENT_NAME.RENDER_END,{type:f});return a})};G.prototype.onRenderAccessibilityTable=function(a){this._sceneRenderer.renderAccessibilityTable(a)};
G.prototype.onEvent=function(a,b){this._chartInteractionDelegate.onEvent(a,b)};G.prototype.onSelect=function(a,b,c){this._chartInteractionDelegate.onSelect(a,b,c)};G.prototype.onCursorChange=function(a){this._sceneRenderer.setCursorType(a)};G.prototype.onTooltipStateChange=function(a,b,c,f,d,g,k,m){a?this._sceneRenderer.showTooltip(b,c,f,d,g,k,m):this._sceneRenderer.hideTooltip()};G.prototype.onTooltipMove=function(a){this._sceneRenderer.moveTooltip(a)};G.prototype.onShowTruncationTooltip=function(a,
b,c,f){this._sceneRenderer.showTruncationTooltip(a,b,c,f)};G.prototype.getTooltipWithPath=function(a){return this._sceneInteractionManager.getTooltipWithPath(a)};G.prototype.onScroll=function(a,b,c){this._sceneInteractionManager.scrollTo(a,b)};G.prototype.didScroll=function(a,b){this._sceneRenderer.updateScrollPosition(a,b);this._sceneInteractionManager.updateScrollPosition(a,b)};G.prototype.onShowTable=function(){this._chartInteractionDelegate.onShowTable()};G.prototype.onMouseMove=function(a,b,
c){this._sceneInteractionManager.mouseMove(a,b,c)};G.prototype.onMouseDown=function(a,b,c){this._sceneInteractionManager.mouseDown(a,b,c)};G.prototype.onMouseUp=function(a,b,c){this._sceneInteractionManager.mouseUp(a,b,c)};G.prototype.onMouseClick=function(a,b){this._sceneInteractionManager.mouseClick(a,b)};G.prototype.onMouseLeave=function(a,b,c){this._sceneInteractionManager.mouseLeave(a,b,c)};G.prototype.onTabOnShape=function(a){this._sceneInteractionManager.tabOnShape(a)};G.prototype.onTabOffShape=
function(a){this._sceneInteractionManager.tabOffShape(a)};G.prototype.onSpaceKeyDownOnShape=function(a,b){this._sceneInteractionManager.spaceKeyDownOnShape(a,b)};G.prototype.onKeyDown=function(a,b){this._sceneInteractionManager.keyDown(a,b)};G.prototype.onKeyUp=function(a,b){this._sceneInteractionManager.keyUp(a,b)};G.prototype._trigger=function(a,b){this._chartInteractionDelegate.onEvent(a,b)};var lx=function(a){function b(b){a.call(this,r.extend({},b,{isLegend:!0}));this._sceneRenderer.hide();this._isShowing=
!1}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.render=function(b,f,d){var g=this;void 0===b&&(b={duration:0});void 0===f&&(f=!1);return this.isRemoved()?Promise.resolve():this._sceneInteractionManager.hasScene()?(this._isShowing||(this._sceneRenderer.show(),this._isShowing=!0),a.prototype.render.call(this,b,!0,d)):this._isShowing?(this._isShowing=!1,a.prototype.render.call(this,b,!0,d).then(function(a){g._isShowing||g._sceneRenderer.hide();return a})):
Promise.resolve()};return b}(G),Ca=function(a){this._chart=a};Ca.prototype.remove=function(){this._chart.remove();return this};Ca.prototype.isRemoved=function(){return this._chart.isRemoved()};Ca.prototype.resize=function(a,b,c){this._chart.resize(a,b,c)};Ca.prototype.render=function(a,b,c,f,d,g){var k=this;return this._chart.render(a,b,c,f,d,g).then(function(){return k})};Ca.prototype.isInViewport=function(){return this._chart.isInViewport()};Ca.prototype.forceOutOfViewport=function(a){this._chart.forceOutOfViewport(a);
return this};Ca.prototype.setSelection=function(a,b){this._chart.setSelection(a,b);return this};Ca.prototype.moveSelection=function(a,b){this._chart.moveSelection(a,b);return this};Ca.prototype.getSelection=function(){return this._chart.getSelection()};Ca.prototype.setAnnotations=function(a){this._chart.setAnnotations(a);return this};Ca.prototype.getAnnotations=function(){return this._chart.getAnnotations()};Ca.prototype.on=function(a,b){var c=rn(b);b.__adapter=c;this._chart.on(a,c);return this};
Ca.prototype.one=function(a,b){var c=rn(b);b.__adapter=c;this._chart.one(a,c);return this};Ca.prototype.off=function(a,b){this._chart.off(a,b?b.__adapter:null);return this};Ca.prototype.startMouseInteraction=function(){this._chart.startMouseInteraction();return this};Ca.prototype.stopMouseInteraction=function(){this._chart.stopMouseInteraction();return this};Ca.prototype.hideTooltip=function(){this._chart.hideTooltip();return this};Ca.prototype.getEvents=function(){return Ma};Ca.prototype.__getPrivateApi=
function(){return this._chart};var mx=Ne.init("Chart"),dq=Ne.init("Render"),S=function(a,b,c,f){var d,g,k;this._getTooltipInstance=f;this._tooltip=f(!1);null==a&&(a={});a.chartCache=b;a.getTooltipInstance=this._getTooltip.bind(this);a.scriptRunFct=c;b=null!=a.durations&&null!=a.durations["default"]?a.durations["default"]:p.ANIM_DURATION.DEFAULT;this._durations=r.extend({"default":b,select:b/2,scroll:b/2,firstRender:b/2,resize:b/2,resizeDebounce:p.ANIM_DURATION.RESIZE_DEBOUNCE},a.durations);this._forceOutOfViewport=
!1;this._firstRender=!0;this._skippedRender=!1;this.renderOnDemand=!0;this._lastRenderParams=null;this._currentRenderId=dq.next();this._runtimeChart=this._currentRenderPromise=null;this._context=new hb;a.name=a.name||"chart_"+mx.next();r.extend(this,a);this.padding=Math.max(null!=this.padding?this.padding:0,0);this.padding={top:this.padding,bottom:this.padding,left:this.padding,right:this.padding};Lc.prototype.mixin(this,this.name);null!=this.rendererConfig&&(d=this.rendererConfig,g=d.tooltipCSSClass,
k=d.wheelPropagation,d=d.swipePropagation);this._sceneProcessors={main:new G({rendererConfig:this.rendererConfig,padding:this.padding,name:this.name,getTooltipInstance:this._getTooltip.bind(this),durations:this._durations,tooltipRenderer:a.tooltipRenderer,canRemoveTooltip:a.canRemoveTooltip,removeTooltip:a.removeTooltip}),legend:new lx({rendererConfig:{tooltipCSSClass:g,wheelPropagation:k,swipePropagation:d},name:"legend_"+this.name,getTooltipInstance:this._getTooltip.bind(this),durations:this._durations})};
Kc.inBrowser()&&(this._sceneProcessors.main.getElement().appendChild(this._sceneProcessors.legend.getElement()),this.annotationsContainerEl=document.createElement("div"),this.annotationsContainerEl.className="ng-annotations-container",ka.setStyles(this.annotationsContainerEl,{marginTop:this.padding.top+"px",marginBottom:this.padding.bottom+"px",marginLeft:this.padding.left+"px",marginRight:this.padding.right+"px"}),this._sceneProcessors.main.getElement().appendChild(this.annotationsContainerEl));
this._chartInteractionManager=new Na(this._sceneProcessors,this);this.chartCache.add(this.name,this);this._moduleDelegate=this._getModuleDelegate()};S.prototype._getModuleDelegate=function(){var a=this,b=this._chartInteractionManager._getChartDelegate("main");return r.extend({createCustomDOM:function(){return a._sceneProcessors.main.createCustomDOM()},removeCustomDOM:function(b){return a._sceneProcessors.main.removeCustomDOM(b)},showTooltip:function(b,f,d){a._sceneProcessors.main._sceneInteractionManager.showTooltip(null,
!1,b,f,d)},moveTooltip:function(){a._sceneProcessors.main._sceneRenderer.moveTooltip()},hideTooltip:function(){a._sceneProcessors.main._sceneInteractionManager.hideTooltip()},renderEnd:function(){a.trigger(p.EVENT_NAME.RENDER_END,{type:p.RENDER_TYPE.UPDATE})}},b)};S.prototype.getContext=function(){return this._context};S.prototype.remove=function(){this._removeRuntimeChart();this._chartInteractionManager.setAnnotations([]);this._sceneProcessors.main.remove();this._sceneProcessors.legend.remove();
this.annotationsContainerEl&&this.annotationsContainerEl.parentElement.removeChild(this.annotationsContainerEl);this.off();this.chartCache.remove(this.name)};S.prototype.isRemoved=function(){return this._chartInteractionManager.isRemoved()};S.prototype.getSceneProcessors=function(){return this._sceneProcessors};S.prototype.resize=function(a,b,c){if(a===(null!=this.size?this.size[0]:void 0)&&b===(null!=this.size?this.size[1]:void 0))return Promise.resolve();this.size=[a,b];return this.scriptPath?(a=
{duration:null!=c?c:this._durations.resize,selection:this.getSelection(),annotations:this.getAnnotations(),version:this.options.version,legendSorter:this.legendSorter},this.render(this.scriptPath,this.config,this.rows,this.rowsMetadata,a,null,!0)):Promise.resolve()};S.prototype.render=function(a,b,c,f,d,g,k){var m=this;this.scriptPath=a;this.config=b;this.rows=c;this.rowsMetadata=f;null==d&&(d={});this.options=d;null==g&&(g=!1);this.config.tooltip&&(this._tooltip=this._getTooltipInstance(this.config.tooltip.isInteractiveTooltip));
if(this.isRemoved()||!this.size)return Promise.resolve();x.isPlainObject(this.rowsMetadata)&&(this.options=this.rowsMetadata,this.rowsMetadata=void 0);if(!this._isSizeValid(this.size))return g=this.name+" ("+this.scriptPath+") -\x3e invalid size: "+this.size,this.trigger(p.EVENT_NAME.ERROR,g),console.error(g),Promise.reject(g);if(!this._shouldRenderWithSize(this.size))return Promise.resolve();var n=this._perfStart({chartScript:this.scriptPath,numRows:this.rows.length,isTrellis:ac.isTrellis(this.config),
renderStatus:p.RENDER_STATUS.OK});if(this._skippedRender=this.renderOnDemand&&!this.isInViewport()&&!g)return oa.rendering&&console.debug("Not in view -\x3e skipped rendering "+this.name),this._renderSkipped(n,p.RENDER_SKIPPED_REASON.NOT_IN_VIEWPORT),Promise.resolve();this._firstRender?(this._firstRender=!1,this.resize=rk(this.resize,this._durations.resizeDebounce),this.options.duration=this._durations.firstRender,this.options.disableMorphing=this.options.disableMorphingOnFirstRender):(null==this.options.duration&&
(this.options.duration=this._durations["default"]),this.options.disableMorphing=!1);this.config.size=this.size;this.config.padding=this.padding;this.annotationsContainerEl&&ka.setStyles(this.annotationsContainerEl,{width:this.size[0]-this.padding.left-this.padding.right+"px",height:this.size[1]-this.padding.top-this.padding.bottom+"px"});null==this.config.transforms&&(this.config.transforms={});this.rows||(this.rows=[]);if(g)oa.rendering&&console.debug("Force rendering "+this.name);else if(this._hasChartStructureChanged())oa.rendering&&
console.debug("Some params changed -\x3e rendering "+this.name);else{if(this._hasDecorationChanged())return oa.rendering&&console.debug("Decorations changed -\x3e setting decorations for "+this.name),this.setAnnotations(this.options.annotations),this.setSelection(this.options.selection,{silent:!0}),this._renderSkipped(n,p.RENDER_SKIPPED_REASON.NO_CHANGE),Promise.resolve();if(this._hasAccessibleChanged())this._chartInteractionManager.toggleAccessibility(this.options.isAccessible);else return oa.rendering&&
console.debug("No params changed -\x3e skipped rendering "+this.name),this._renderSkipped(n,p.RENDER_SKIPPED_REASON.NO_CHANGE),Promise.resolve()}this._saveRenderParams();oa.debugParams&&console.log((new Date).toLocaleTimeString()+"|rendering "+this.name,this._lastRenderParams);var q=null,s=null,u=null,r=this._currentRenderId=dq.next(),t=this._currentRenderPromise=this._chartInteractionManager.scrollTo(0,0,this._durations.scroll).then(function(g){var p=g[0];g=g[1];p&&n.merge(p.toJson(),"resetScroll");
g&&n.merge(g.toJson(),"resetScroll");if(r!==m._currentRenderId)throw new kl;q=x.deepCopy(b);s=x.deepCopy(c);u=x.deepCopy(f);n.endMark("resetScroll");var t;m._sceneProcessors.main&&m._sceneProcessors.main.scene&&(t=m._sceneProcessors.main.scene.state);m._context&&m._context.setIsResize(k);m._context&&m._context.setLegendSorter(d.legendSorter);return m.scriptRunFct({moduleName:a,moduleVersion:d.version,config:q,rows:s,rowsMetadata:u,perf:n,props:t,delegate:m._moduleDelegate,context:m._context,runtimeChart:m._runtimeChart})}).then(function(a){var b=
a.chart,c=a.scene,f=a.moduleLoader;n.merge(a.scriptPerf);if(r!==m._currentRenderId)throw b.remove(),new kl;m._setRuntimeChart(b);if(f&&(!f.isTrusted()||d.version&&d.version!==Qd.version))a=f.evaluate(JSON.stringify(c.toJson())),c=Ag.getInstance().fromJson(a,!0),c._props.dataFormatter=null;c.legend&&c.legend.postProcess();c.postProcess();m._chartInteractionManager.onNewScenes({main:c,legend:c.legend},q,s,b).setSelection(m.options.selection,{silent:!0,skipRender:!0}).setAnnotations(m.options.annotations);
return Promise.all([m._sceneProcessors.main.render(d,!1,p.RENDER_TYPE.UPDATE),m._sceneProcessors.legend.render(d,!1,p.RENDER_TYPE.UPDATE)])}).then(function(a){var b=a[0];a=a[1];m.onAfterRender();b&&n.merge(b.toJson());a&&n.merge(a.toJson(),"legend");t=null;return m._perfEnd(n)}).catch(function(b){t=null;if(b instanceof kl)return oa.rendering&&console.debug(m.name+" ("+a+") -\x3e rendering is outdated: skipped rendering"),n.updateInfo({renderStatus:p.RENDER_STATUS.SKIPPED}),m._renderSkipped(n,p.RENDER_SKIPPED_REASON.SUPERSEDED,
!0);m.trigger(p.EVENT_NAME.ERROR,b);console.error(m.name+" ("+a+") -\x3e",b);console.error(b.stack);throw b;});return t};S.prototype.getScreenShot=function(a){if(!this.isRemoved())return this._chartInteractionManager.screenshot(a,this.size)};S.prototype.stopMouseInteraction=function(){if(!this.isRemoved())return this._chartInteractionManager.stopInteraction()};S.prototype.startMouseInteraction=function(){if(!this.isRemoved())return this._chartInteractionManager.startInteraction()};S.prototype.hideTooltip=
function(){if(!this.isRemoved())return this._chartInteractionManager.hideTooltip()};S.prototype.onAfterRender=function(){this._chartInteractionManager.renderAccessibilityDataItems()};S.prototype.onMouseLeave=function(){if(!this.isRemoved())return this._chartInteractionManager.onMouseLeave()};S.prototype.onShowTable=function(){this._chartInteractionManager.renderAccessibilityTable(this.rows)};S.prototype.getAutoFitRatio=function(){return this._chartInteractionManager.getAutoFitRatio()};S.prototype.getEvents=
function(){return Ca.EVENTS};S.prototype.forceOutOfViewport=function(a){this._forceOutOfViewport=a};S.prototype._hasChartStructureChanged=function(){if(!this._lastRenderParams)return!0;var a=this._getRenderParams(),b=a.size,c=a.config,f=a.rows,d=a.rowsMetadata;return!(a.scriptPath===this._lastRenderParams.scriptPath&&x.deepEqual(b,this._lastRenderParams.size)&&x.deepEqual(c,this._lastRenderParams.config)&&x.deepEqual(d,this._lastRenderParams.rowsMetadata)&&x.deepEqual(f,this._lastRenderParams.rows))};
S.prototype._hasDecorationChanged=function(){if(!this._lastRenderParams)return!0;var a=this._getRenderParams(),b=a.selection;return!x.deepEqual(a.annotations,this._lastRenderParams.annotations)||!x.deepEqual(b,this._lastRenderParams.selection)};S.prototype._hasAccessibleChanged=function(){return!this._lastRenderParams?!0:this._getRenderParams().isAccessible!==this._lastRenderParams.isAccessible};S.prototype._getRenderParams=function(){return{scriptPath:this.scriptPath,config:this.config,rows:this.rows,
rowsMetadata:this.rowsMetadata,selection:this.options.selection,size:this.size,annotations:this.options.annotations,isAccessible:this.options.isAccessible}};S.prototype._saveRenderParams=function(){var a=this._getRenderParams(),b=a.rows;this._lastRenderParams=x.deepCopy({scriptPath:a.scriptPath,size:a.size,config:a.config,selection:a.selection,rowsMetadata:a.rowsMetadata,annotations:a.annotations,isAccessible:a.isAccessible});this._lastRenderParams.rows=b;return this._lastRenderParams};S.prototype.isInViewport=
function(){return this._forceOutOfViewport||this.isRemoved()||!this.size||!this._shouldRenderWithSize(this.size)?!1:this._chartInteractionManager.isInViewport(this.size)};S.prototype.hasSkippedRender=function(){return this._skippedRender};S.prototype.forceRender=function(){return this.render(this.scriptPath,this.config,this.rows,this.rowsMetadata,this.options,!0)};S.prototype.setSelection=function(a,b){if(this.isRemoved())return this;r.extend(this._lastRenderParams,x.deepCopy({selection:a}));this._chartInteractionManager.setSelection(a,
b);return this};S.prototype.moveSelection=function(a,b){if(this.isRemoved())return this;this._chartInteractionManager.moveSelection(a,b);r.extend(this._lastRenderParams,x.deepCopy({selection:this.getSelection()}));return this};S.prototype.getSelection=function(){return this.isRemoved()?[]:this._chartInteractionManager.getSelection()};S.prototype.setAnnotations=function(a){if(this.isRemoved())return this;r.extend(this._lastRenderParams,x.deepCopy({annotations:a}));this._chartInteractionManager.setAnnotations(a);
return this};S.prototype.getAnnotations=function(){return this.isRemoved()?[]:this._chartInteractionManager.getAnnotations()};S.prototype.getRuntimeChart=function(){return this._runtimeChart};S.prototype._getTooltip=function(){return this._tooltip};S.prototype._setRuntimeChart=function(a){this._runtimeChart=a;return this};S.prototype._removeRuntimeChart=function(a){this._runtimeChart&&(this._runtimeChart.remove(this._context,a),this._runtimeChart=null)};S.prototype._isSizeValid=function(a){return r.isArray(a)&&
2===a.length&&0<=a[0]&&0<=a[1]};S.prototype._shouldRenderWithSize=function(a){return 0<a[0]&&0<a[1]};S.prototype._perfStart=function(a){return(new R({name:"render"})).start(a)};S.prototype._syncDuration=function(a){if(a&&!a.marks["animate-defer"]){var b=a.marks;return["animate-scene-diff","animate-scene-toModel","animate-scene-rendering"].reduce(function(a,f){return a+(b[f]&&b[f].duration||0)+(b["legend-"+f]&&b["legend-"+f].duration||0)},0)+this._getDuration(a,"script")+this._getDuration(a,"resetScroll-rendering")}};
S.prototype._getDuration=function(a,b){return a.marks[b]&&a.marks[b].duration||0};S.prototype._perfEnd=function(a){a.end();a=a.toJson();a.syncDuration=this._syncDuration(a);this.trigger(p.UNDOCUMENTED_EVENTS.PERF_READY,a);if(oa.perf)return R.prettyPrint(a)};S.prototype._renderSkipped=function(a,b,c){var f=this,d=function(){f.trigger(p.EVENT_NAME.RENDER_SKIPPED,{type:p.RENDER_TYPE.UPDATE,reason:b});f._perfEnd(a)};a.end().updateInfo({renderStatus:p.RENDER_STATUS.SKIPPED});this._currentRenderPromise&&
!c?this._currentRenderPromise.finally(d):setTimeout(d,1)};var kl=function(){},nx=function(a,b){return(new Function("register",a))(b)},ox=function(a){return nb.getDelegate().require(a)},Qc=function(){this._pending={};this._resourceLoader=ox;this._prefix="";this._scriptEvaluator=nx;this._isTrusted=!1};Qc.prototype.configure=function(a){var b=a.prefix,c=a.resourceLoader,f=a.scriptEvaluator;a=a.isTrusted;null!=b&&(this._prefix=b);null!=c&&(this._resourceLoader=c);null!=f&&(this._scriptEvaluator=f);null!=
a&&(this._isTrusted=a);return this};Qc.prototype.hasModule=function(a,b){throw"Not Implemented";};Qc.prototype.require=function(a,b,c){throw"Not Implemented";};Qc.prototype.isTrusted=function(){return this._isTrusted};Qc.prototype.getScriptEvaluator=function(){return this._scriptEvaluator};Qc.prototype.evaluate=function(a){return this._scriptEvaluator("return "+a+";")};Qc.prototype.getResourceLoader=function(){return this._resourceLoader};Qc.prototype._log=function(a,b){oa.moduleLoader&&console.log("%cModuleLoader: ["+
a+"] "+b,"color: green")};Qc.prototype._getModuleKey=function(a,b){return b+"/"+a};var eq=function(a){function b(){a.call(this);this._modules={};this._moduleDefinitions={};this._buildVersion="dev";this._supportVersionedUrls=!0;this._register=this._register.bind(this)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.configure=function(b){var f=b.buildVersion,d=b.supportVersionedUrls;a.prototype.configure.call(this,{prefix:b.prefix,resourceLoader:b.resourceLoader,
scriptEvaluator:b.scriptEvaluator,isTrusted:b.isTrusted});f&&(this._buildVersion=f);null!=d&&(this._supportVersionedUrls=d);this.isTrusted()&&(this._modules[this._getModuleKey("lodash/core","4.17.19")]=r,this._modules[this._getModuleKey("@salesforce/charts/sdk",xi.VERSION)]=xi);return this};b.prototype.hasModule=function(a,b){var d=this._getModuleKey(a,b);return null!=this._modules[d]};b.prototype.require=function(a,b,d){var g=this,k=this._getModuleKey(a,b);this._log(k,"Module required");if(this._pending[k])return this._log(k,
"Module load already in-flight"),this._pending[k];if(this.hasModule(a,b))return this._log(k,"Module already loaded"),Promise.resolve(this._modules[k]);a=this._getModuleUrl(a,b);this._log(k,"Loading module");var m=new px(k,a,d);return this._pending[k]=this._fetch(m).then(function(){return g._instantiate(m)}).then(function(){g._log(m.key,"Successfully loaded module");return g._modules[m.key]}).catch(function(a){console.error("Failed to load module: "+k);console.error("Have you run 'make platform_modules'?");
throw a;}).finally(function(){delete g._pending[k]})};b.prototype._getModuleUrl=function(a,b){var d;d="lodash/core"===a?this._prefix+"/node_modules/lodash/core.js":this._prefix+"/runtime-modules/"+a+"/index.bundle.js";this._supportVersionedUrls&&(d=d+"?v\x3d"+this._buildVersion);return d};b.prototype._fetch=function(a){if(!a.source){var b=a.perf;b&&b.mark("moduleLoad");return Promise.all([this._resourceLoader(a.url)]).then(function(d){b&&b.endMark("moduleLoad");a.source=d[0]})}};b.prototype._instantiate=
function(a){var b=a.perf;b&&b.mark("moduleEval");var d=a.source;"lodash/core"===this._parseModuleVersionAndName(a.key)[1]&&(d="\n\t\t\tregister('"+a.key+"', [], function() {\n\t\t\t\tvar exports \x3d {};\n\t\t\t\tvar module \x3d {exports: exports};\n\t\t\t\t"+d+"\n\t\t\t\treturn module.exports;\n\t\t\t});\n\t\t\t");this._scriptEvaluator(d,this._register);b&&b.endMark("moduleEval");return this._instantiateHelper(a.key,b)};b.prototype._parseModuleVersionAndName=function(a){var b=a.indexOf("/");return[a.substring(0,
b),a.substring(b+1)]};b.prototype._instantiateHelper=function(a,b){var d=this,g=this._moduleDefinitions[a];g.isInstantiating=!0;g=g.dependencies.filter(function(a){return!d._moduleDefinitions[a]||!d._moduleDefinitions[a].isInstantiating}).map(function(a){if(d._modules[a])return Promise.resolve(d._modules[a]);if(d._moduleDefinitions[a])return d._instantiateHelper(a,b);a=d._parseModuleVersionAndName(a);return d.require(a[1],a[0],b)});return Promise.all(g).then(function(){d._modules[a]=d._moduleDefinitions[a].defineFunction.call(window,
d._modules);if("@salesforce/charts/sdk"===d._parseModuleVersionAndName(a)[1]){var b=d._modules[a];b.init({Perf:R,delegate:nb.getDelegate(),scriptEvaluatorFct:d._scriptEvaluator});d._modules[a]=b["default"]}d._modules[a].moduleLoader=d;delete d._moduleDefinitions[a]})};b.prototype._register=function(a,b,d){this._moduleDefinitions[a]={dependencies:b,defineFunction:d,isInstantiating:!1}};return b}(Qc),px=function(a,b,c){this.key=a;this.url=b;this.perf=c;this.source=""};r.extend(Yh.prototype,{_originalZIndex:void 0,
isUnderCursor:function(a,b){return!1},findShapeUnderPos:function(a,b){},isInArea:function(a,b,c,f){return!1},findShapesInArea:function(a,b,c,f){return[]},getModelProps:function(){return{}},toModel:function(a,b){this._roundFields();var c=this.getModelProps();a||(a=ae);return new a(c)},clone:function(){return this.constructor.fromJson(this.toJson(),!1)},_roundFields:function(){var a=this;this.constructor._roundProps&&this.constructor._roundProps.array.forEach(function(b){var c=a._props[b];null!=c&&
(a._props[b]=Math.round(c))})}});Yh.fromJson=function(a,b){void 0===b&&(b=!0);b&&(a=x.deepCopy(a));return new this(a.props,!0)};var qx=Object.getPrototypeOf(Pe.prototype);r.extend(Pe.prototype,{select:function(){return this},unselect:function(){return this},resetSelect:function(){return this},isSelected:function(){return!1}});Pe.fromJson=function(a,b){void 0===b&&(b=!0);return qx.constructor.fromJson.call(this,a,b)};r.noConflict();$a.setHotSpotManagerImpl(Se);ud.setNodeFactoryImpl(Ag.getInstance());
tg.setNodeModelFactoryImpl(oi.getInstance());var fq=td.getInstance(),rx=fi.getInstance(),ca=function(){this.sdk=xi;this.Settings=Fb;this.constants=p;this._renderChartsIfVisible=this._renderChartsIfVisible.bind(this);this._protected_renderChart=this._protected_renderChart.bind(this);this.ready=this.ready.bind(this);this.registerDefaultMaps=this.registerDefaultMaps.bind(this);this._didInit=!1;this.log=oa;this._extensions={};this._bundledModulesMap={};this._getTooltipInstance=this._getTooltipInstance.bind(this)};
ca.prototype.registerDefaultMaps=function(a){null==a&&(a={});return this._defaultMaps=Uv.registerDefaultMaps(this,a)};ca.prototype.registerImageValidator=function(a){rx.setImageValidator(a);return this};ca.prototype.registerSchemaValidator=function(a){this._schemaValidator=a;return this};ca.prototype.registerModule=function(a){this._bundledModulesMap[a.getMetadata().moduleName]=a};ca.prototype.configureModuleLoader=function(a){var b=a.prefix,c=a.resourceLoader,f=a.scriptEvaluator;a=a.supportVersionedUrls;
this._moduleLoader=(new eq).configure({isTrusted:!0,prefix:b,resourceLoader:c,scriptEvaluator:f,buildVersion:"4c4ec032c216bdb30140493d5ee06408b689743a",supportVersionedUrls:a});this._customModuleLoader=(new eq).configure({isTrusted:!1,prefix:b,resourceLoader:c,scriptEvaluator:f,buildVersion:"4c4ec032c216bdb30140493d5ee06408b689743a",supportVersionedUrls:a});return this};ca.prototype.chart=function(a){a=a||{name:null,size:null,renderOnDemand:!0,rendererConfig:null,durations:null,padding:null,tooltipRenderer:null,
canRemoveTooltip:null,removeTooltip:null,isInteractiveTooltip:!1,legendSorter:null};this._init();return new S(a,this._chartCache,this._protected_renderChart,this._getTooltipInstance)};ca.prototype.ready=function(a){this._readyPromise||(this._readyPromise=Promise.resolve().then(nb.getDelegate().ready));var b={Perf:R,delegate:nb.getDelegate()},c=b.Perf,f=b.scriptEvaluatorFct;Gc.init({delegate:b.delegate,scriptEvaluatorFct:f});Wd.init({Perf:c,scriptEvaluatorFct:f});return this._readyPromise.then(a)};
ca.prototype.setLabels=function(a){W.setCustomLabels(a);return this};ca.prototype.setLocale=function(a){O.Settings.defaultLocale=a;return this};ca.prototype.getDefaultZoneName=function(){return O.Settings.defaultZoneName};ca.prototype.setDefaultZoneName=function(a){O.Settings.defaultZoneName=a};ca.prototype.getSettings=function(){return this.Settings};ca.prototype.registerMap=function(a){return a.zoomable?new Vv(a):new va(a)};ca.prototype.unregisterMap=function(a){return va.delete(a)};ca.prototype.getMaps=
function(){return va.getMaps()};ca.prototype.getMap=function(a){return r.find(this.getMaps(),function(b){return b.name===a})};ca.prototype.getDefaultMaps=function(){return this._defaultMaps};ca.prototype.registerTheme=function(a){fq.registerTheme(a);return this};ca.prototype.getAllThemeNames=function(){return fq.getAllThemeNames()};ca.prototype.getAllChartNames=function(){return(null!=this._chartCache?this._chartCache.keys():void 0)||[]};ca.prototype.getChartByName=function(a){return null!=this._chartCache?
this._chartCache.get(a):void 0};ca.prototype.getSdk=function(){return this.sdk};ca.prototype.setDelegate=function(a){if(this._readyPromise)throw"Can't set delegate after ready() has been called";nb.setDelegate(a)};ca.prototype.resetTextCache=function(){return Bc.getInstance().reset()};ca.prototype.getModule=function(a,b,c){var f=this;void 0===b&&(b=Qd.version);this._init();return this.ready().then(function(){var d=f._bundledModulesMap,g=d[a];b===Qd.version&&(g=d[a]);return null!=g?Promise.resolve(g):
f._getModuleLoader(a,b).require(a,b,c)})};ca.prototype._getModuleLoader=function(a,b){return 0===a.indexOf("wave-")||0===a.indexOf("lightning-")||0===a.indexOf("sfdc-")?this._moduleLoader:this._customModuleLoader};ca.prototype.getRecommender=function(a){return new tc(a,this.getModule.bind(this),this._defaultMaps)};ca.prototype._renderChartsIfVisible=function(){this._chartCache.values().forEach(function(a){a.hasSkippedRender()&&a.isInViewport()&&a.forceRender()})};ca.prototype._setupOnDemandRendering=
function(){var a=this,b=void 0;this._chartCache.on("addFirst",function(){oa.rendering&&console.debug("enabling on demand monitoring");b=setInterval(a._renderChartsIfVisible,p.ANIM_DURATION.ONDEMAND_RENDER);oa.rendering&&console.debug("enabling tooltip events");a._tooltip.addGlobalEventListeners();a._interactiveTooltip.addGlobalEventListeners()});this._chartCache.on("removeLast",function(){oa.rendering&&console.debug("removing on demand monitoring");clearInterval(b);b=void 0;oa.rendering&&console.debug("removing tooltip events");
a._tooltip.removeGlobalEventListeners();a._interactiveTooltip.removeGlobalEventListeners()})};ca.prototype._protected_renderChart=function(a){var b=this,c=a.moduleName,f=a.moduleVersion,d=a.config,g=a.rows,k=a.rowsMetadata,m=a.perf,n=a.props,q=a.delegate,p=a.context,u=a.runtimeChart;this._init();null!=m&&m.mark("moduleImport");f=f||Qd.version;return this.getModule(c,f,m).then(function(a){null!=m&&m.endMark("moduleImport");oa.scripts&&console.info("EclairNG:: running chart script "+c+" with args",
d,g,k);b._validateConfig(a,d);return b._chartModuleRunner.renderChart({module:a,config:d,rows:g,rowsMetadata:k,props:n,delegate:q,context:p,runtimeChart:u})})};ca.prototype._validateConfig=function(a,b){if(this._schemaValidator){var c=a.getMetadata().schema;if(c){var f=x.deepCopy(b);delete f.size;delete f.padding;c=this._schemaValidator.validate(c,f);if(0<c.length)throw console.log("Schema Validation Errors:"),console.log(c),"Schema validation failed";}}};ca.prototype._init=function(){if(!this._didInit&&
(this._didInit=!0,this._chartCache=new Nv("ChartCache"),this._chartModuleRunner=new up,Kc.inBrowser()))return this._setupOnDemandRendering(),this._interactiveTooltip=new P(!0),this._tooltip=new P};ca.prototype._mergeRows=function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return r.extend.apply(r,[{}].concat(a))};ca.prototype._getTooltipInstance=function(a){return a?this._interactiveTooltip:this._tooltip};var Vc=new ca,cd=function(){};cd.prototype.chart=function(a){return new Ca(Vc.chart({name:a.name,
size:a.size,renderOnDemand:a.renderOnDemand,rendererConfig:a.rendererConfig,durations:a.durations,padding:a.padding,tooltipRenderer:a.tooltipRenderer,canRemoveTooltip:a.canRemoveTooltip,removeTooltip:a.removeTooltip,isInteractiveTooltip:a.isInteractiveTooltip,legendSorter:a.legendSorter}))};cd.prototype.ready=function(){var a=this;return Vc.ready().then(function(){return a})};cd.prototype.configureModuleLoader=function(a){Vc.configureModuleLoader({prefix:a.prefix,resourceLoader:a.resourceLoader,scriptEvaluator:a.scriptEvaluator,
supportVersionedUrls:a.supportVersionedUrls});return this};cd.prototype.registerTheme=function(a){Vc.registerTheme(a);return this};cd.prototype.setLabels=function(a){Vc.setLabels(a);return this};cd.prototype.setLocale=function(a){Vc.setLocale(a);Fb.setLocale(a);return this};cd.prototype.getSettings=function(){return lo.getInstance()};cd.prototype.__getPrivateApi=function(){return Vc};var gq=new cd,$=gq.__getPrivateApi().getSdk(),zi={moduleName:"sfdc-title-utils",version:"44.0",dependencies:{"@salesforce/charts/sdk":"44.0"}},
Gg={};"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});Gg.getMetadata=void 0;var Ai=$&&$.__esModule?$:{"default":$},sx=zi&&zi.__esModule?zi:{"default":zi},ll=Ai.default.runtime,hq=Ai.default.utils,tx=hq.configUtils,dd=hq.constants,iq=Ai.default.shapes,jq=iq.Text,ux=iq.Layer,vx=Ai.default.scene.model.Cell;Gg.default={getTitleSize:function(a){var b=0;a.label&&(b+=ll.getDelegate().getRealFontSize(a.fontSize)+(a.subtitleLabel?dd.TITLE.PADDING_BETWEEN_SUBTITLE:dd.TITLE.PADDING_BOTTOM));a.subtitleLabel&&
(b+=ll.getDelegate().getRealFontSize(a.subtitleFontSize)+dd.TITLE.PADDING_BOTTOM);return b},adjustChartPaddingForTitle:function(a,b){0<b&&(a.top+=b);return a},getTitleCell:function(a,b,c,f,d,g){var k=tx.isTrellis(a)?null:a.transforms,m=a.padding;a=new vx({key:"chartTitle",skipTransforms:!0,w:k&&a.transforms.rotate?d[1]-g.right-g.left:d[0]-g.right-g.left,h:b,x:m.left?-m.left+g.left:0,y:m.top?-m.top+g.top:-b});b=new ux({cell:a,key:"chart-title"});d=dd.PADDING;g=c.align;m=k=0;switch(g){case "right":k=
a.get("w");break;case "center":k=a.get("w")/2}c.label&&(new jq({valign:"top",halign:g,maxWidth:a.get("w"),padding:{top:d},layer:b,accessibility:{type:dd.ACCESSIBILITY.TYPE.CAPTION,key:dd.ACCESSIBILITY.CAPTION_KEY.TITLE,value:c.label},key:"chart-title-text",text:c.label,x:k,y:m,stroke:f.getChartTitleColor(),size:c.fontSize}),m+=ll.getDelegate().getRealFontSize(c.fontSize)+dd.TITLE.PADDING_BETWEEN_SUBTITLE);c.subtitleLabel&&new jq({valign:"top",halign:g,maxWidth:a.get("w"),padding:{top:c.label?0:d},
layer:b,key:"chart-subtitle-text",x:k,y:m,text:c.subtitleLabel,stroke:f.getChartSubtitleColor(),size:c.subtitleFontSize,accessibility:{type:dd.ACCESSIBILITY.TYPE.CAPTION,key:dd.ACCESSIBILITY.CAPTION_KEY.SUBTITLE,value:c.subtitleLabel}});return a}};Gg.getMetadata=function(){return sx.default};var ed={};"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.getMetadata=void 0;var Bi=Wj(U),Ci=Wj($),wx=Wj({moduleName:"sfdc-abstract-legend"}),kq=Ci.default.layoutBuilder,ml=Ci.default.utils,
Bd=ml.constants,xx=ml.plotUtils,lq=ml.configUtils,nl=Ci.default.shapes,yx=nl.Text,zx=nl.Layer,Ax=nl.Line,ol=Ci.default.ThemeFactory.getInstance().getDefaultTheme(),Mb=function(a,b){this.config=a;this.rows=b||[];lq.convertConfigColors(a);Bi.default.defaults(a,this.getDefaultConfig());this.sanitizeConfig()};Mb.prototype.sanitizeConfig=function(){};Mb.prototype.extendConfig=function(a){Bi.default.extend(this.config,a);lq.convertConfigColors(this.config);this.sanitizeConfig()};Mb.prototype.getConfig=
function(){return this.config};Mb.prototype.setLegendSorter=function(a){this.legendSorter=a};Mb.prototype.getLegendSorter=function(){return this.legendSorter};Mb.prototype.getDefaultConfig=function(){return{swatchSize:Bd.COLOR_LEGEND.SWATCH.SIZE,swatchPadding:Bd.COLOR_LEGEND.SWATCH.PADDING,fitWidth:!0,fitHeight:!0,showHeader:!0,showBackground:!1,headerAlign:"left",theme:ol,selectMode:Bd.SELECTMODE.NONE,transforms:{}}};Mb.prototype.getHeaderSize=function(a){var b=this.config,c=b.headerText,f=0,d=0;
b.showHeader&&c&&(f=xx.getTextWidth(c)+Bd.LEGEND.PADDING,d=Bd.LEGEND.TEXT.SIZE+(a?Bd.LEGEND.PADDING:2*Bd.LEGEND.PADDING));return[f,d]};Mb.prototype.render=function(){var a=this.config,b=a.swatchSize,c=a.showHeader,f=a.showBackground,d=a.headerText,g=this.rows,k=a.theme,m=a.transforms.rotate,n=kq.build({layout:"Legend",size:a.size,position:a.position,transforms:a.transforms,selectMode:a.selectMode,selectionKeyFct:a.selectionKeyFct}),q=n.cellByKey("plot"),p=n.cellByKey("header"),u=a.swatchPadding,r,
t;c&&d&&(r=this.plotHeader({cell:p,text:d,horizontalLayout:m,padding:u,dx:m?p.get("w")/2:b/2+u,theme:k}),t=r.boundingBox());n.adjustRowToFit(p.get("row"));b=c&&!m&&t?t.w+u:q.get("w");t=q.get("h");if(!this.plotFunction)throw"'plotFunction' is not defined for for your legend subclass.";this.plotFunction(q,g,b,t);if(0===q.getLayers().length)return this.emptyLegend(a);c&&d&&(this.plotHeaderLine(r,u,m,Math.max(p.get("w"),q.get("w")),null,k),"center"===a.headerAlign&&!m&&r.getShapes()[0].set({x:q.get("w")/
2+3,halign:"center"}));f&&n.set({background:k.getLegendBGColor()});n.set({config:this.config});return n};Mb.prototype.emptyLegend=function(a){return kq.build({layout:"Legend",size:a.size,transforms:a.transforms,selectMode:a.selectMode})};Mb.prototype.plotHeader=function(a){var b=a.theme||ol,c=a.cell,f=a.text,d=a.horizontalLayout,g=a.padding,k=a.halign||"left",m=a.valign||"top",n=a.dx;a=new zx({cell:c,key:"header"});c=d?{x:n,valign:"middle",halign:"right",maxWidth:c.get("h"),vertical:!0,padding:{left:0,
right:g}}:{valign:m,halign:k,maxWidth:c.get("w"),padding:{left:g/2,right:g/2,top:3,bottom:g-2}};new yx(Bi.default.extend({layer:a,key:"header-text",text:f,stroke:b.getLegendHeaderColor()},c));return a};Mb.prototype.plotHeaderLine=function(a,b,c,f,d,g){g=g||ol;var k=a.getCell();if(k){var m=a.boundingBox();d=d?d:{};Bi.default.defaults(d,{layer:a,key:"line",x0:c?m.x-b/2:0,y0:k.get("h")-1,x1:c?m.x+Bd.LEGEND.TEXT.SIZE+b/2:f,y1:k.get("h")-1,lineWidth:2,stroke:g.getLegendHeaderLineColor()});return new Ax(d)}};
Mb.prototype.isEmpty=function(a){return!1};ed.default=Mb;ed.getMetadata=function(){return wx.default};var Hg={};"use strict";Object.defineProperty(Hg,"__esModule",{value:!0});Hg.getMetadata=void 0;var Bx=Xj($),Cx=Xj(ed),Dx=Xj({moduleName:"sfdc-multiple-legends"}),Ex=Bx.default.layoutBuilder,Fx=function(a){function b(b,f){a.call(this,b);this._legends=f}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getLegends=function(){return this._legends};b.prototype.getHorizontalSize=
function(a){var b=0,d=0;this._legends.forEach(function(g){g=g.getHorizontalSize(a);b+=g[0];d=Math.max(d,g[1])});return[b,d]};b.prototype.getVerticalSize=function(){var a=0,b=0;this._legends.forEach(function(d){d=d.getVerticalSize();a=Math.max(d[0],a);b+=d[1]});return[a,b]};b.prototype._adjustLegends=function(a){a=this.config;var b=a.transforms,d=a.size,g=b.rotate;this._legends.forEach(function(a){var c=g?a.getHorizontalSize():a.getVerticalSize();a.extendConfig({headerAlign:"left",isCombo:!0,size:g?
[c[0],d[1]]:[d[0],c[1]],transforms:b})})};b.prototype.render=function(){var a=this.config,b=a.transforms,d=a.fitHeight,g=a.fitWidth,k=b.rotate,a=Ex.build({layout:"MultipleLegends",size:a.size,position:a.position,transforms:b,selectMode:a.selectMode,selectionKeyFct:a.selectionKeyFct}),b=k?d:g,d=k?g:d,m=a.cellByKey("legends");this._adjustLegends(m);var n=m.getChildren(),q=0;this._legends.forEach(function(a,b){var c=a.render();c&&(c.exportIntoCell(m,{keyPrefix:a.getConfig().legendName}),a.getConfig().showHeader?
(n[2*b].offsetY(q),n[2*b+1].offsetY(q)):(n[b].offsetY(q),null!=n[b+1]&&n[b+1].offsetY(q)),q+=k?a.getHorizontalSize()[0]:a.getVerticalSize()[1])});d&&a.adjustRowToFit(m.get("row"));b&&a.adjustColumnToFit(m.get("column"));return a};return b}(Cx.default);Hg.default=Fx;Hg.getMetadata=function(){return Dx.default};var Ig={};"use strict";Object.defineProperty(Ig,"__esModule",{value:!0});Ig.getMetadata=void 0;var Gx=Yj($),Hx=Yj(ed),Ix=Yj({moduleName:"sfdc-combo-legend"}),Jx=Gx.default.layoutBuilder,Kx=function(a){function b(b,
f,d){a.call(this,b);this._topLegend=f;this._bottomLegend=d}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getTopLegend=function(){return this._topLegend};b.prototype.getBottomLegend=function(){return this._bottomLegend};b.prototype.getLegends=function(){return[this._topLegend,this._bottomLegend]};b.prototype.getVerticalSize=function(){var a=0,b=0;[this._topLegend.getVerticalSize(),this._bottomLegend.getVerticalSize()].forEach(function(d){a=Math.max(d[0],
a);b+=d[1]});return[a,b]};b.prototype.getHorizontalSize=function(a){var b=0,d=0;[this._topLegend.getHorizontalSize(a),this._bottomLegend.getHorizontalSize(a)].forEach(function(a){b+=a[0];d=Math.max(d,a[1])});return[b,d]};b.prototype.render=function(){var a=this.config,b=a.transforms,d=a.size,g=a.showBackground,k=a.theme,a=Jx.build({layout:"ComboLegend",size:d,position:a.position,transforms:b,selectMode:a.selectMode,selectionKeyFct:a.selectionKeyFct}),m=b.rotate,b=a.cellByKey("topLegend"),n=a.cellByKey("bottomLegend");
this._adjustSubLegendSize();var q=this._topLegend.render();q&&q.exportIntoCell(b,{keyPrefix:"top"});a.adjustRowToFit(b.get("row"));m?this._bottomLegend.config.size[0]=d[0]-b.get("h"):this._bottomLegend.config.size[1]=d[1]-b.get("h");(d=this._bottomLegend.render())&&d.exportIntoCell(n,{keyPrefix:"bottom"});a.adjustRowToFit(n.get("row"));a.adjustColumnToFit(n.get("column"));a.adjustRowToFit(b.get("row"));a.adjustColumnToFit(b.get("column"));g&&a.set({background:k.getLegendBGColor()});return a};b.prototype._adjustSubLegendSize=
function(){var a=this.config,b=a.size,a=a.transforms;if(a.rotate){var d=this._topLegend.getHorizontalSize()[0],g=this._bottomLegend.getHorizontalSize()[0],g=b[0]/((d+g>b[0]?1:d/g)+1),d=b[0]-g;this._topLegend.extendConfig({size:[d,b[1]],transforms:a,isCombo:!0});this._bottomLegend.extendConfig({size:[g,b[1]],transforms:a,headerAlign:"left",isCombo:!0})}else d=this._topLegend.getVerticalSize()[1],g=this._bottomLegend.getVerticalSize()[1],g=b[1]/((d+g>b[1]?1:d/g)+1),d=b[1]-g,this._topLegend.extendConfig({size:[b[0],
d],transforms:a,isCombo:!0}),this._bottomLegend.extendConfig({size:[b[0],g],transforms:a,headerAlign:"left",isCombo:!0})};return b}(Hx.default);Ig.default=Kx;Ig.getMetadata=function(){return Ix.default};var Jg={};"use strict";Object.defineProperty(Jg,"__esModule",{value:!0});Jg.getMetadata=void 0;var Kg=zh(U),pl=zh($),Lx=zh(ed),Mx=zh({moduleName:"sfdc-color-legend",name:"Legend",shortname:"Legend"}),Ze=pl.default.shapes,Nx=Ze.Layer,Ox=Ze.Rect,mq=Ze.Point,nq=Ze.Text,Px=Ze.ShapeGroup,Qx=Ze.Line,oq=
pl.default.utils,Nb=oq.constants,pq=oq.plotUtils,Rx=pl.default.color.LinearGradient,ql=Nb.MARK_TYPE,Sx=Nb.NULL_KEY,Tx=ql.BAR,rl=ql.LINE,Ux=ql.DOT,Vx=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getDefaultConfig=function(){return Kg.default.extend(a.prototype.getDefaultConfig.call(this),{showPoints:!1,mark:Nb.MARK_TYPE.BAR,domain:[]})};b.prototype.getVerticalSize=function(){var a=this.config;if(!a)return[0,
0];var b=this.getHeaderSize(!0),d=[b[0]],g=b[1];(a.labels||a.domain||[]).forEach(function(b){d.push(pq.getTextWidth(b)+a.swatchSize+2*a.swatchPadding);g+=a.swatchSize+a.swatchPadding});return[Math.max.apply(Math,d),g]};b.prototype.getHorizontalSize=function(a){void 0===a&&(a=[0,0]);var b=this.config;if(!b)return[0,0];var d=this.getHeaderSize(!1)[0],g=b.swatchSize+b.swatchPadding,k=b.marks;(b.labels||b.domain||[]).forEach(function(a,c){d+=pq.getTextWidth(a)+b.swatchSize+3*b.swatchPadding/2;if((k&&
k[c]||b.mark)===rl)d+=b.swatchPadding});d>a[0]&&(g+=15);return[d,g]};b.prototype.plotFunction=function(a){var b=this.config,d=b.hotSpots,g=b.columnName,k=b.legendName,m=b.domain,n=b.unsortedDomain,q=b.labels,p=b.colors,r=b.marks,A=b.showPoints,t=b.selectMode,w=b.swatchSize,z=b.fitHeight,v=b.fitWidth,y=b.theme,K=b.sorting,B=b.columnDataType,T=b.swatchPadding,x=b.transforms.rotate,C=new Nx({cell:a,key:"plot",canHover:!0,canSelect:t&&t!==Nb.SELECTMODE.NONE}),t=a.getScene(),L=x?z:v,z=x?v:z,D=w+T;if(d)var F=
y.getHotspotColors(),d=d.map(function(a){a.size=w+T;a.colors=Kg.default.defaults(a.colors,F);return a});n=n||m;if(v=this.getLegendSorter())n=v(n);else if(!K||K&&K.type!==Nb.SORT.TYPE.ROWS)n=B===Nb.DATA_TYPE.NUMBER?n.slice().sort(function(a,b){return Number(a)-Number(b)}):B===Nb.DATA_TYPE.DATE?n.slice().sort(function(a,b){return new Date(a)-new Date(b)}):n.slice().sort(),B=n.indexOf(null),0<=B&&B!==n.length-1&&(n.splice(B,1),n.push(null));K&&K.order===Nb.SORT.ORDER.DESC&&(n=n.slice().reverse());var tb=
a.get("w");n.forEach(function(n){var t,v,z=m.indexOf(n);if(v="function"===typeof p?p(n,z):p[z%p.length]){v=v instanceof Rx?v.interpolate():v;var K;g&&(K={row:(t={},t[g]=n,t),column:g});void 0===n&&(n=Sx);t=new Px({layer:C,key:k+"/"+n,data:K});var B=r&&r[z]||b.mark,z=q?q[z]:n,L=T/2;switch(B){case Ux:new mq({shapeGroup:t,key:k+"/"+n+"_dot",x:x?tb/2+L:L+w/2,y:x?L+w/2:0,r:w/2,fill:v,canHover:!1,skipInFind:!0});break;case Tx:new Ox({shapeGroup:t,key:k+"/"+n+"_bar",x:x?tb/2-w+T+1:L,y:x?L:-w/2,w:w,h:w,cornerRadius:3,
fill:v,canHover:!1,skipInFind:!0});break;case rl:var F=w+T,G=T/2,E=x?{x0:tb/2+Nb.LEGEND.TEXT.SIZE/2-2,y0:Math.round(G),x1:tb/2+Nb.LEGEND.TEXT.SIZE/2-2,y1:Math.round(F+G)}:{x0:T/2,y0:0,x1:Math.round(F),y1:0};new Qx(Kg.default.extend({shapeGroup:t,key:k+"/"+n+"_line",stroke:v,lineWidth:3,canHover:!1,skipInFind:!0},E));A&&(F=x?{x:tb/2+Nb.LEGEND.TEXT.SIZE/2-2,y:Math.round(G+F/2)}:{x:Math.round(-1+(F+T/2)/2),y:0.5},new mq(Kg.default.extend({shapeGroup:t,key:k+"/"+n+"_point",r:4,fill:v,canHover:!1,skipInFind:!0},
F)))}v=(D-(new nq).getH())/2;B=x?B===rl?w+2*T:w+T:w+1.5*T;F=x?{vertical:!0,valign:"middle",y:0,halign:"right"}:{maxWidth:a.get("w"),valign:"middle",y:0,halign:"left"};n=(new nq(Kg.default.extend({key:k+"/"+n+"_label",x:x?tb/2-Nb.LEGEND.TEXT.SIZE+w+T/2-1:0,padding:{left:B,right:L,top:v,bottom:v},stroke:y.getLegendTextColor(),hoverStroke:y.getLegendTextHoverColor(),text:z,hotSpots:d,canSelect:!0,data:K,accessibility:{type:Nb.ACCESSIBILITY.TYPE.LEGEND_DATA}},F))).prependTo(t);x?t.offsetX(-T/2):(K=n.boundingBox(),
n.offsetY(-K.y-K.h/2),t.offsetY(D/2))}});C.applyLayout({type:"vbox"});z&&t.adjustRowToFit(a.get("row"));L&&t.adjustColumnToFit(a.get("column"));C.forEach(function(b){b.shapeByKey(b.key+"_label").set({hoverBgColor:y.getLegendTextBGColor(),maxWidth:x?b.boundingBox().h:a.get("w")})})};return b}(Lx.default);Jg.default=Vx;Jg.getMetadata=function(){return Mx.default};var Lg={};"use strict";Object.defineProperty(Lg,"__esModule",{value:!0});Lg.getMetadata=void 0;var Wx=Ah(U),sl=Ah($),Xx=Ah(ed),Yx=Ah({moduleName:"sfdc-gradient-legend",
name:"Legend",shortname:"Legend"}),tn=sl.default.formatNumber,qq=sl.default.utils,pb=qq.constants,Bh=qq.plotUtils,tl=sl.default.shapes,rq=tl.NumberText,Zx=tl.Layer,$x=tl.Rect,Ch=pb.LEGEND.PADDING,ay=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.sanitizeConfig=function(){a.prototype.sanitizeConfig.call(this);this.config.selectMode=pb.SELECTMODE.NONE};b.prototype.getDefaultConfig=function(){return Wx.default.extend(a.prototype.getDefaultConfig.call(this),
{domain:[0,0],range:this.config.theme.getGradientLegendColor(),headerAlign:"center",maxLength:200,width:pb.GRADIENT_LEGEND.GRADIENT.WIDTH})};b.prototype.getVerticalSize=function(){var a=this.config;if(!a)return[0,0];var b=a.domain,d=a.format,g=a.maxLength,k=this.getHeaderSize(!0),g=k[1]+(g||200)+2*(pb.LEGEND.TEXT.SIZE+2*Ch),b=sn(b,d);return[Math.max.apply(Math,[k[0],b[0],b[1],a.width||pb.GRADIENT_LEGEND.GRADIENT.WIDTH]),g]};b.prototype.getHorizontalSize=function(){var a=this.config;if(!a)return[0,
0];var b=a.domain,d=a.format,a=a.maxLength,g=this.getHeaderSize(!1),k=pb.LEGEND.TEXT.SIZE+Ch,b=sn(b,d);return[g[0]+(a||200)+b[0]+b[1],k]};b.prototype.plotFunction=function(a,b,d,g){var k=this.config,m=k.theme,n=k.domain,q=k.range,p=k.format,r=k.maxLength,A=k.sorting,t=!!k.transforms.rotate,w=tn(p,!0);b=new Zx({cell:a,key:"plot",canHover:!1,canSelect:!1});var z=a.getScene(),v=pb.LEGEND.PADDING,y=r||Number.POSITIVE_INFINITY,r=n[1],n=n[0];if(!(Infinity===n||-Infinity===r)){if(!A&&!t||A&&A.order===pb.SORT.ORDER.DESC)var K=
n,n=r,r=K;if(n!==r&&(t&&A&&A.order===pb.SORT.ORDER.DESC||!t&&A&&A.order===pb.SORT.ORDER.ASC))q=q.reverse();var K=Bh.getTextWidth(w(n)),B=Bh.getTextWidth(w(r)),w=Math.min(K,120),A=Math.min(B,240-w),x=t?w+A+10:40,X=g-v/2;g=k.width;g=Math.max(Math.min(g,d-v),pb.GRADIENT_LEGEND.GRADIENT.MIN_WIDTH);y=Math.min(X-v-x,y);y=Math.max(y,g*pb.GRADIENT_LEGEND.GRADIENT.MIN_RATIO);x=d/2-g/2;K=k.isCombo?-(k.showHeader?d:Math.max(w,A))/2+Math.max(K,B,g)/2+v:0;new rq({key:"minval",layer:b,x:t?x+Math.max(g,pb.LEGEND.TEXT.SIZE)/
2:K,y:t?5:v,valign:"middle",halign:t?"right":"center",vertical:t,stroke:m.getGradientLegendTextColor(),format:p,compact:!0,number:n,padding:t?{bottom:v/2}:{right:v/2,left:v/2},maxWidth:120});new $x({key:"gradient",layer:b,x:t?x:K-g/2,w:g,h:t?y:-y,vertical:!0,cornerRadius:g/2,fill:n===r?q.toRepresentativeColor():q});new rq({key:"maxval",layer:b,x:t?x+Math.max(g,pb.LEGEND.TEXT.SIZE)/2:K,valign:"middle",halign:t?"left":"center",vertical:t,stroke:m.getGradientLegendTextColor(),format:p,compact:!0,number:r,
padding:t?{right:v,bottom:v/2}:{bottom:v,right:v/2,left:v/2},maxWidth:t?240-w:120});b.applyLayout({type:"vbox",spacer:pb.GRADIENT_LEGEND.TEXT.PADDING});m=b.boundingBox();!t&&m&&(d=Math.max(m.w+v,k.showHeader?d:Math.max(w,A)),b.set({x:d/2-v/2}));z.adjustRowToFit(a.get("row"));z.adjustColumnToFit(a.get("column"))}};return b}(Xx.default);Lg.default=ay;Lg.getMetadata=function(){return Yx.default};var Mg={};"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});Mg.getMetadata=void 0;var by=Dh(U),
sq=Dh($),cy=Dh(ed),dy=Dh({moduleName:"sfdc-radial-legend",name:"Legend",shortname:"Legend",config:[{type:"MEASURE",label:"Measure",min:1,max:1,property:"measure",colorable:!0},{type:"INTEGER",label:"Swatch Size",min:1,max:1,property:"swatchSize",defaults:[32]},{type:"INTEGER",label:"Swatch Padding",min:1,max:1,property:"swatchPadding",defaults:[4]}]}),tq=sq.default.utils,Db=tq.constants,un=tq.scales,Ng=sq.default.shapes,Ss=Ng.Text,vn=Ng.NumberText,ey=Ng.Layer,wn=Ng.Point,Ts=Ng.ShapeGroup,uq=Db.LEGEND.PADDING,
Zj=Db.MARK.POINT.MAX_RADIUS,fy=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getDefaultConfig=function(){return by.default.extend(a.prototype.getDefaultConfig.call(this),{maxValue:0,maxRadius:Db.MARK.POINT.MAX_RADIUS,selectMode:Db.SELECTMODE.NONE})};b.prototype.sanitizeConfig=function(){a.prototype.sanitizeConfig.call(this);var b=this.config;b.maxRadius=Math.max(0,b.maxRadius)};b.prototype.getVerticalSize=
function(){var a=this.config;if(!a)return[0,0];var b=a.maxRadius,d=a.swatchSize,a=a.swatchPadding,g=this.getHeaderSize(!0),k=2*Math.min(b,Zj)+uq,b=Math.max(g[0],2*d+a+40,k),d=g[1]+Math.max(3*(2*d+a),k);return[b,d]};b.prototype.getHorizontalSize=function(){var a=this.config;if(!a)return[0,0];var b=a.swatchSize,d=a.swatchPadding,g=2*Math.min(a.maxRadius,Zj)+uq,k=this.getHeaderSize(!1),a=k[0]+Math.max(3*(2*b+d+40),g),b=Math.max(2*b+d,k[1],g);return[a,b]};b.prototype.plotFunction=function(a){var b=this.config,
d=b.maxRadius,g=b.transforms,k=b.fitHeight,m=b.fitWidth,n=new ey({cell:a,key:"plot",canHover:!1,canSelect:!1}),q=a.getScene(),g=g.rotate,p=[a.get("w"),a.get("h")];50<p[0]&&50<p[1]&&20<d?Us(n,b):Rs(n,b);b=g?k:m;(g?m:k)&&q.adjustRowToFit(a.get("row"));b&&q.adjustColumnToFit(a.get("column"))};return b}(cy.default);Mg.default=fy;Mg.getMetadata=function(){return dy.default};var $e={};"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.getMetadata=void 0;var fd=rd(U),ul=rd($),gy=rd(Hg),vq=
rd(Ig),wq=rd(Jg),vl=rd(Lg),hy=rd(Mg),iy=rd({moduleName:"sfdc-legend-utils"}),af=ul.default.utils,jy=af.Padding,Nf=af.dataUtils,Sa=af.constants,ky=af.configUtils,bf=af.columnUtils,ly=af.valueFctUtils,my=ul.default.LOC,ak=Sa.CHART_LAYOUT.COLOR_TYPE,ny=ul.default.color.colorUtils;$e.default={santizeLegendChartConfig:function(a,b){var c=a.size,f=b.getHorizontalSize(c),d=b.getVerticalSize(),g=a.legend,k=Math.max(Sa.LEGEND.MIN_PADDING,g.vPad),m=Math.max(Sa.LEGEND.MIN_PADDING,g.hPad),n=g.inside,q=ky.getCustomCellSize(g),
p=a.padding,r=c[0]-p.left-p.right,A=c[1]-p.top-p.bottom,t=this.sanitizeLegendPosition(g.position),w=t.area,t=t.alignment,z=!0,v=!0,y="full"===t;"left"===w||"right"===w||y?(f=[d[0],Math.min(d[1],A)],z=y?r:q?r*q/100:Math.min(f[0],0.4*r),q=y?q?r*q/100:Math.min(f[1],0.4*A):f[1],q=[z,q],z=!y):(v=[Math.min(f[0],r),f[1]],q=q?A*q/100:Math.min(v[1],0.3*A),q=[v[0],q],v=!1);A=b instanceof vq.default?b.getLegends().some(function(a){return a instanceof vl.default}):b instanceof vl.default;this.defaultLegendSortingConfig(g,
a.color,A,v);if(0>=q[0]||0>=q[1])return!1;q=[Math.ceil(q[0]),Math.ceil(q[1])];c=this.computeLegendInfo(c,p,q,w,t,n,k,m);a.padding=c.chartPadding;a.legend=g;return{size:q,fitWidth:z,showBackground:n,position:c.legendPosition,transforms:{rotate:!v,flipX:"right"===w}}},defaultLegendSortingConfig:function(a,b,c,f){c={order:c&&f?Sa.SORT.ORDER.DESC:Sa.SORT.ORDER.ASC};c.type=!b||!1===b.sortColor?Sa.SORT.TYPE.ROWS:Sa.SORT.TYPE.VALUES;a.sorting=fd.default.defaults(a.sorting||{},c)},getLegend:function(a,b,
c){if(2>(void 0===a?0:1)+b.length)return a||b[0];c=c.selectMode;1<b.length&&![Sa.SELECTMODE.MULTI,Sa.SELECTMODE.MULTI_REQUIRED].includes(c)&&(c=Sa.SELECTMODE.NONE);var f={};b.filter(function(a){return a.getConfig().selectMode!==Sa.SELECTMODE.NONE}).forEach(function(a){fd.default.extend(f,a.getConfig().selectionKeyFct)});c={selectMode:c,selectionKeyFct:f};b=1===b.length?b[0]:new gy.default(c,b);return a?new vq.default(c,a,b):b},getRadialLegendFromLayout:function(a,b){if(a&&!a.isConstant()){var c=this.getCommonLegendConfig(b),
f=a.getField();return new hy.default(fd.default.extend(c,{format:f.getFormat(),maxRadius:a.getMaxRadius(),maxValue:a.getMaxValue(),headerText:bf.defaultText(f.getLabel(),f.getName())}))}},getColorLegendFromPlots:function(a,b,c){if(!fd.default.find(a,function(a){return!ny.isColor(a.color)||fd.default.isEmpty(a.column)})){var f=this.getCommonLegendConfig(b),d=a.map(function(a){a=a.column[0];return bf.defaultText(a.getLabel(),a.getName())});a=fd.default.sortBy(a,function(a){return a.mark===Sa.MARK_TYPE.BAR?
0:1});var g=a.map(function(a){a=a.column[0];return bf.defaultText(a.getLabel(),a.getName())}),k=a.map(function(a){return a.color});a=a.map(function(a){return a.mark});return new wq.default(fd.default.extend(f,{domain:g,unsortedDomain:d,colors:k,marks:a,showPoints:b.showPoints,selectMode:Sa.SELECTMODE.NONE,headerText:my.getLabel("@salesforce/charts","measure"),sorting:b.legend&&b.legend.sorting,legendName:c}))}},getGradientLegendFromLayout:function(a,b){if(a&&!a.isConstant()&&a.getType()===Sa.CHART_LAYOUT.COLOR_TYPE.GRADIENT){var c=
this.getCommonLegendConfig(b),f=a.getField(),d=a.getScale().domain(),g=bf.defaultText(f.getLabel(),f.getName()),k=b.legend&&b.legend.sorting;return new vl.default(fd.default.extend(c,{domain:d,range:a.getGradient(),format:f.getFormat(),headerText:g,sorting:k}))}},getCategoricalLegendFromLayout:function(a,b,c,f,d){if(a&&!a.isConstant()){var g=a.getType();if(g!==Sa.CHART_LAYOUT.COLOR_TYPE.GRADIENT){var k=this.getCommonLegendConfig(b),m=b.selectMode,n=b.trellis,q=b.showPoints,p=b.legend;b=a.getField();
var r=a.getScale(),A=bf.defaultText(b.getLabel(),b.getName()),t=r.domain(),w=a.getUnsortedDomain(),r=r.range(),z=a.getLabels(),v=a.getColumnDataType();c=Vs(g,bf.uniqueColumns(c).length,n,m)?Sa.SELECTMODE.NONE:m;d&&(m=t.indexOf(w[0]),-1!==m&&(r[m]=d));d=g===Sa.CHART_LAYOUT.COLOR_TYPE.BINS;var y=ly.getValueFct({field:b},d),g=p&&p.sorting,p={};p[f]=d?function(a){a=y(a);return f+"/"+(a?a.value:"")}:function(a){return f+"/"+y(a)};return new wq.default(fd.default.extend(k,{hotSpots:d?void 0:b.getHotSpots(),
columnName:b.getName(),showPoints:q,domain:t,unsortedDomain:w,colors:r,labels:z,headerText:A,mark:a.getLegendSwatchType(),selectMode:c,selectionKeyFct:p,sorting:g,legendName:f,columnDataType:v}))}}},getColorLegendFromLayout:function(a,b,c,f,d){if(a&&!a.isConstant())switch(a.getType()){case ak.GRADIENT:return this.getGradientLegendFromLayout(a,b);default:return this.getCategoricalLegendFromLayout(a,b,c,f,d)}},getCommonLegendConfig:function(a){var b=a.legend||{};return{dataCursor:a.dataCursor,swatchSize:b.swatchSize,
swatchPadding:b.swatchPadding,showHeader:b.showHeader,fitHeight:b.fitHeight,theme:a.theme}},sanitizeLegendPosition:function(a){var b=a.split("-");a=b[0];b=b[1];Nf.includes(["left","right","top","bottom"],a)||(a="right");Nf.includes(["left","right"],a)?Nf.includes(["top","middle","bottom"],b)||(b="top"):Nf.includes(["left","center","right","full"],b)||(b="center");return{area:a,alignment:b}},computeLegendInfo:function(a,b,c,f,d,g,k,m){var n=c[0];c=c[1];b=new jy(b);var q=a[0]-b.left-b.right;a=a[1]-
b.top-b.bottom;q=("right"===f||"right"===d?q-n-0:"left"===f||"left"===d||"full"===d?0:"center"===d?(q-n)/2:0)+b.left;d=("top"===f||"top"===d?0:"bottom"===f||"bottom"===d?a-c-0:"middle"===d?(a-c)/2:0)+b.top;if(!g)switch(f){case "top":b.top+=c+k;break;case "bottom":b.bottom+=c+k;break;case "left":b.left+=n+m;break;case "right":b.right+=n+m}return{legendPosition:[q,d],chartPadding:b.toJson()}}};$e.getMetadata=function(){return iy.default};var le={};"use strict";Object.defineProperty(le,"__esModule",
{value:!0});le.getMetadata=void 0;var oy=Of(U),wl=Of($),xl=Of(Gg),py=Of($e),qy=Of({moduleName:"sfdc-abstract-plot"}),xq=wl.default.runtime,ry=wl.default.ThemeFactory,yq=wl.default.utils.configUtils,bb=function(a,b,c,f,d){this.config=a;a.theme&&!a.theme._theme&&(a.theme=ry.getInstance().getTheme(a.theme));this.rows=b;this.rowsMetadata=c;this.delegate=d;this._settledLayouts=!1;yq.sanitizeChartTitleConfig(a.title)};bb.prototype.sanitizeConfig=function(){var a=this.config;a.trellis&&1>a.trellis.column.length&&
delete a.trellis};bb.prototype.isTrellis=function(){return yq.isTrellis(this.config)};bb.prototype.updateContext=function(a){};bb.prototype.onExportToTrellisCell=function(){};bb.prototype.onAfterTrellisPlot=function(){};bb.prototype.onBeforeTrellisRemove=function(){};bb.prototype.remove=function(a,b){};bb.prototype.getDataFormatter=function(){};bb.prototype.getLegend=function(){};bb.prototype.initScene=function(a,b){};bb.prototype.plot=function(a,b,c){};bb.prototype.hasSettledLayouts=function(){return!!this._settledLayouts};
bb.prototype.resetLayouts=function(){this._settledLayouts=!1};bb.prototype.settleLayouts=function(){this._settledLayouts=!0};bb.prototype.postPlot=function(a,b,c){};bb.prototype.render=function(a){var b,c=this.config,f=this.rows,d=c.theme,g=c.title,k=oy.default.clone(c.padding),m,n;g&&(m=xl.default.getTitleSize(g),c.padding=xl.default.adjustChartPaddingForTitle(c.padding,m));var q=c.legend&&this.getLegend();q&&((n=py.default.santizeLegendChartConfig(c,q))||(q=void 0));var p=this.initScene(c,f,a);
this.updateContext(a);this.plot(c,f,p,a);this.settleLayouts();this.postPlot(c,f,p,a);q&&(xq.getPerf().mark("legend"),q=this.getLegend(),q.setLegendSorter(a.getLegendSorter()),q.extendConfig(n),b=q.render(),b.getCells().forEach(function(a){a.getLayers().forEach(function(a){a.postProcess()})}),xq.getPerf().endMark("legend"));g&&0<m&&(a=p.get("size"),p.prepend(xl.default.getTitleCell(c,m,g,d,a,k)));p.getCells().forEach(function(a){a.getLayers().forEach(function(a){a.postProcess()})});p.legend=b;p.set({config:c,
rowsMetadata:this.rowsMetadata,background:d.getBackgroundColor().adjustOpacity(d.getBackgroundOpacity()),dataFormatter:this.getDataFormatter()});return p};le.default=bb;le.getMetadata=function(){return qy.default};var me={};"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.getMetadata=void 0;var yl=bk($),sy=bk(le),ty=bk({moduleName:"sfdc-empty-chart"}),uy=yl.default.layoutBuilder,zq=yl.default.shapes,vy=zq.Layer,wy=zq.Text,Aq=yl.default.utils.constants,xy=function(a){function b(b,
f,d){a.call(this,b,[]);this.label=d}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.initScene=function(a){var b=a.theme,d=this.label;a=uy.build({layout:"Empty",size:a.size,padding:a.padding});var g=a.cellByKey("empty"),k=g.get("w"),g=new vy({cell:g,x:k/2,y:g.get("h")/2,key:"layer"});new wy({layer:g,x:0,y:0,valign:"middle",halign:"center",text:d,maxWidth:k,stroke:b.getEmptyChartTextColor(),key:"empty_rows",accessibility:{type:Aq.ACCESSIBILITY.TYPE.CAPTION,
key:Aq.ACCESSIBILITY.CAPTION_KEY.ERROR,value:d}});return a};return b}(sy.default);me.default=xy;me.getMetadata=function(){return ty.default};var cf={};"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.getMetadata=void 0;var Di=Pf(U),ne=Pf($),Bq=Pf(me),yy=Pf(le),zy=Pf({moduleName:"sfdc-trellis-chart"}),Ay=ne.default.layoutBuilder,By=ne.default.ThemeFactory,Cq=ne.default.LOC,Cy=ne.default.ChartContext,Ei=ne.default.utils,oe=Ei.constants,Dy=Ei.trellisUtils,Ey=Ei.configUtils,Fy=Ei.columnUtils,
Fi=ne.default.shapes,zl=Fi.Text,gd=Fi.Line,Og=Fi.Layer,Gy=Fi.Point,Ws=ne.default.rowsMetadata.rowsFormatter,Hy=function(a){function b(b,f,d){a.call(this,b,f,d.rowsMetadata,d._props,d.delegate);b=Di.default.clone(b.trellis);Di.default.defaults(b,{size:oe.TRELLIS.DEFAULT_SIZE,chartsPerLine:oe.TRELLIS.CHARTS_PER_LINE,maxNumCells:oe.TRELLIS.MAX_NUM_CELLS});this.trellisConfig=b;this._cellChart=d;this.matrix=b=Dy.computeDataMatrix(this.trellisConfig,f);b.rows!==f&&(this.rows=this.matrix.rows,d.onChartRowsChanged(this.rows,
!1))}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.updateContext=function(a){var b=this,d=a.getCellKeys();this.traverseCell(function(g){var k=d.indexOf(g);-1<k&&d.splice(k,1);k=a.getCellContext(g);k||(k=new Cy,a.setCellContext(g,k));b._cellChart.updateContext(k)});d.forEach(function(d){b._cellChart.remove(a.getCellContext(d));a.removeCellContext(d)});return a};b.prototype.remove=function(a,b){var d=this._cellChart;d.onBeforeTrellisRemove(a,b);a&&
(a.forEachCell(function(a,c){d.remove(c,b)}),(!b||!b.isTrellis())&&a.remove())};b.prototype.getCellChart=function(){return this._cellChart};b.prototype.getLegend=function(){var a=this.getCellChart();return a&&a.getLegend()};b.prototype.getTooltipDefaultColumns=function(){var a=this.getCellChart().getTooltipDefaultColumns(),b=Ey.getColumns(this.config,"trellis");return Fy.uniqueColumns(b.concat(a))};b.prototype.getDataFormatter=function(){var a=this.config.tooltip,b=this.getCellChart();(b=b&&b.getDataFormatter())&&
!a.column&&b.setTooltipColumns(this.getTooltipDefaultColumns());return b};b.prototype._showGridLines=function(){return!1!==this.trellisConfig.showGridLines};b.prototype.initScene=function(a){var b=a.size,d=a.padding;a=a.selectMode;var g=this.trellisConfig;1===g.column.length&&"xy"===g.type&&(g.type="x");var k=g.type;return Ay.build({layout:"Trellis",size:b,padding:d,transforms:g.transforms,selectMode:a,hasTrellisColHeaders:"x"===k||"xy"===k,hasTrellisRowHeaders:"y"===k||"xy"===k})};b.prototype.traverseCell=
function(a){var b=this.matrix,d=b.colHeaders,g=b.getKeyPrefix,k=b.data;b.rowHeaders.forEach(function(b){d.forEach(function(d){var f=g(d,b);a(f,k[f]||[],d,b)})})};b.prototype._getPosition=function(a,b,d,g){a=a.get("padding");var k=b.get("x");b=b.get("y");return[k+a.left+d,b+a.top+g]};b.prototype.plot=function(a,b,d,g){var k,m,n=this;if(b=this.trellisConfig){var q=Di.default.extend({},a);q.padding={top:0,right:0,bottom:0,left:0};delete q.trellis;delete q.legend;delete q.title;var p=this.matrix,r=q.theme||
By.getInstance().getDefaultTheme();a=q.transforms;var A=this._showGridLines(),t=this.getCellChart();Di.default.defaults(a,{center:!0});var w=b.type;m=b.size;k=Math.max(1,b.chartsPerLine);a="x"===w||"xy"===w;var z="y"===w||"xy"===w,v="wrap"===w,y=p.getExtraData,K=p.colFields,B=p.rowFields,w=p.colHeaders,p=p.rowHeaders,x=p.length*w.length,X=d.cellByKey("content"),C=d.cellByKey("colHeaders"),L=d.cellByKey("rowHeaders"),D=d.cellByKey("corner"),F=m[0];m=m[1];var G,E,I;v?(x<k&&(k=x),I=oe.TRELLIS.CELL_PADDING_WRAP,
G=k,E=Math.ceil(x/G),x=(X.get("w")+I)/G-I,F=x*m/F):(I=oe.TRELLIS.CELL_PADDING,G=w.length,E=p.length,x=Math.max(F,X.get("w")/G-I),F=Math.max(m,X.get("h")/E-I));var H=function(a,b,c){var d;var f=t.config||{};d=f.labels;var k=f.padding,m=f.size,f=f.theme;d=t.hasRows(c)?t.hasMeasures(c)?t:new Bq.default({padding:k,theme:f,size:m},c,Cq.getLabel("@salesforce/charts","noValues",null,d)):new Bq.default({padding:k,theme:f,size:m},c,Cq.getLabel("@salesforce/charts","noData",null,d));a=g.getCellContext(a);k=
d.initScene(b,c,a);d.plot(b,c,k,a);return{chart:d,scene:k}},J=x,O=F,M={};q.size=[J,O];t.onChartSizeChanged(J,O);this.traverseCell(function(a,b){M[a]=H(a,q,b)});t.settleLayouts();this.traverseCell(function(a,b){var c=M[a],d=c.scene;c.chart.postPlot(q,b,d,g.getCellContext(a));d.postProcess();c=d.getFullSize();J<c[0]&&(J=c[0]);O<c[1]&&(O=c[1])});var V,Q;v?(J<x-1&&(O=x),V=J+I,Q=O+I+oe.TRELLIS.HEADER.WRAP,k=V*G-I,m=Q*E-I,k<X.get("w")+0.1&&X.set({scrollX:!1}),m<X.get("h")+0.1&&X.set({scrollY:!1})):(V=J+
I,Q=O+I,k=V*G,m=Q*E);var U=0,Dc=1<Math.abs(x-J)||1<Math.abs(F-O);Dc&&(t.resetLayouts(),q.size=[J,O],t.onChartSizeChanged(J,O),this.traverseCell(function(a,b){M[a]=H(a,q,b)}));var W,S,$=!0===b.flipLabels;this.traverseCell(function(a,b,c,f){var k;k=U++;var m=k%G,p=m*V;k=(k-m)/G*Q;k=v?[p-I/2,k-I/2]:[p,k];p=k[0]+I/2;k=k[1]+I/2;m=M[a];if(v){var s=new Og({key:"title_"+a,cell:X,x:p,y:k+($?O:0)});new zl({key:"title",layer:s,x:J/2,halign:"center",valign:"top",y:$?18:4,text:ck(c,K),maxWidth:J,stroke:r.getTrellisHeaderTextColor()});
A&&new gd({key:"line",layer:s,x0:0,y0:$?10:16,x1:J,y1:$?10:16,lineWidth:1,stroke:r.getTrellisHeaderLineColor()});$||(k+=oe.TRELLIS.HEADER.WRAP)}if(m){var s=m.scene,t=g.getCellContext(a);!W&&s.get("selectionKeyFct")&&(W=s.get("selectionKeyFct"),S=s.get("keyTransform"));Dc&&(m.chart.postPlot(q,b,s,t),s.postProcess());b=y(c,f);s.exportIntoCell(X,{tx:p,ty:k,keyPrefix:"layer_"+a,extraData:b});n._cellChart.onExportToTrellisCell(t,n._getPosition(d,X,p,k))}});d.set({selectionKeyFct:W,keyTransform:S});this._cellMatrix=
M;if(!v){var Ba=D.get("w"),P=D.get("h"),R=Math.min(X.get("w"),k)-1,Z=Math.min(X.get("h"),m)-1,N=z&&$,wh=a&&$;b=a&&z&&$;N&&X.offsetX(-Ba);wh&&X.offsetY(-P);b&&(C.offsetX(-Ba),L.offsetY(-P));if(a){var ba=new Og({key:"colHeadersLayer",cell:C});w.forEach(function(a,b){var c=b*V;new zl({key:"text-"+a.join("-"),layer:ba,text:ck(a,K),x:c+V/2,y:P/2+(wh?Z:0),maxWidth:J,valign:"middle",halign:"center",stroke:r.getTrellisHeaderTextColor()});A&&b<G-1&&new gd({key:"line-"+a.join("-"),layer:ba,x0:c+V,x1:c+V,y0:0,
y1:P+Z,stroke:r.getTrellisGridLineColor()})})}if(z){var ag=new Og({key:"rowHeadersLayer",cell:L});p.forEach(function(a,b){var c=b*Q;new zl({key:"text-"+a.join("-"),layer:ag,text:ck(a,B),y:c+Q/2,maxWidth:O,x:Ba/2+(N?R:0),valign:"middle",halign:"center",vertical:!0,stroke:r.getTrellisHeaderTextColor()});A&&b<E-1&&new gd({key:"line-"+a.join("-"),layer:ag,y0:c+Q,y1:c+Q,x0:0,x1:Ba+R,stroke:r.getTrellisGridLineColor()})})}A&&(w=new Og({key:"cornerLayer",cell:D,x:Ba,y:P}),z&&new gd({key:"left",layer:w,x0:-Ba,
x1:-Ba,y0:0+(b?-P:0),y1:Z,stroke:r.getTrellisGridLineColor()}),new gd({key:"center",layer:w,x0:0+(N?R-Ba:0),x1:0+(N?R-Ba:0),y0:-P,y1:Z,stroke:r.getTrellisGridLineColor()}),new gd({key:"right",layer:w,x0:R,x1:R,y0:-P,y1:Z+(b?-P:0),stroke:r.getTrellisGridLineColor()}),a&&new gd({key:"top",layer:w,y0:-P,y1:-P,x0:b?-Ba:0,x1:R,stroke:r.getTrellisGridLineColor()}),new gd({key:"middle",layer:w,y0:0+(wh?Z-P:0),y1:0+(wh?Z-P:0),x0:-Ba,x1:R,stroke:r.getTrellisGridLineColor()}),new gd({key:"bottom",layer:w,y0:Z,
y1:Z,x0:-Ba,x1:R+(b?-Ba:0),stroke:r.getTrellisGridLineColor()}))}b=new Og({key:"padding",cell:X});new Gy({key:"bot-right-padding",layer:b,x:k,y:m,r:0});this._cellChart.onAfterTrellisPlot(g)}};return b}(yy.default);cf.default=Hy;cf.getMetadata=function(){return zy.default};var Rc={};"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.getMetadata=void 0;var hd=Qf(U),id=Qf($),Iy=Qf(le),Gi=Qf($e),Jy=Qf({moduleName:"sfdc-abstract-chart"}),Ky=id.default.layoutBuilder,Ly=id.default.DataFormatter,
My=id.default.ThemeFactory,Dq=id.default.runtime,Sc=id.default.utils,yb=Sc.configUtils,Ob=Sc.constants,Pg=Sc.dataUtils,Ny=Sc.columnUtils,Oy=Sc.layoutUtils,Hi=Sc.rowsUtils,Py=Sc.sceneUtils,Qy=Sc.percentageUtils,Ry=Sc.valueFctUtils,Sy=Sc.referenceLineUtils,Ii=id.default.enums.SortingEnum,Ty=id.default.rowsMetadata.RowsMetadata,Uy=id.default.renderers.CellRendererFactory,Eq=id.default.chartLayouts.layoutsUtils,Vy=function(a){function b(b,f,d,g,k){void 0===d&&(d=[]);void 0===g&&(g={});a.call(this,b,f,
new Ty(yb.hydrateRowsMetadata(f,d)),g,k);this.rowsMetadata&&yb.hydrateConfig(this.config,this.rowsMetadata);this.cellRendererConfigs={};b.theme=b.theme||My.getInstance().getDefaultTheme();b.plots=b.plots&&0<b.plots.length?b.plots:this.getDefaultPlots();b.isIdenticalColor=yb.isIdenticalColor(b);yb.fixConfig(b,this.getDefaultConfig());this.sanitizeConfig();this.chartProperties=Pg.defaultsDeep(this.getChartProperties(),{layout:"Flat",measuresRequired:!0,rowsRequired:!0,uniqueRowKeyRequired:!0,keyColumns:[],
supportsSorting:!0,markType:Ob.MARK_TYPE.BAR});b.sorting.enabled=b.sorting.enabled&&this.chartProperties.supportsSorting;yb.enrichAxis(b);this.chartProperties.markType&&yb.setMarkType(b,this.chartProperties.markType);this.preProcessRows();this.chartLayouts=this.getChartLayouts(null,!0);this.resetLayouts();this.config.legend&&hd.default.defaults(this.config.legend,{vPad:Ob.LEGEND.VPAD,hPad:Ob.LEGEND.HPAD,position:Ob.LEGEND.POSITION,inside:!1,fitHeight:!0,swatchSize:Ob.COLOR_LEGEND.SWATCH.SIZE,swatchPadding:Ob.COLOR_LEGEND.SWATCH.PADDING});
this.postProcessRows();this._state=g}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getTooltipDefaultColumns=function(){return Ny.uniqueColumns(this.chartProperties.tooltipColumns)};b.prototype.getDataFormatter=function(){var a=this.config,b=this.rowsMetadata,d=a.tooltip,a=a.theme,g=d.column,k=d.showPercentage,m=d.showBinLabel,n=d.text,d=d.showNullValues;g||(g=this.getTooltipDefaultColumns());return(new Ly).setTooltipColumns(g).setShowPercentage(k).setShowBinLabel(m).setShowNullValues(d).setTheme(a).setRowsMetadata(b).setColorLayouts(this._getColorLayoutsMap(null,
!1)).setText(n)};b.prototype.getOverridingStartColorForLegend=function(){return null};b.prototype.getLegend=function(){if(this.rows.length){var a=this.chartProperties,b=a.keyColumns,d=a.showColorLegend;void 0===d&&(d=!0);var a=this.chartLayouts,g=a.colorLayouts,k=a.radiusLayout,m=this.config,a=m.selectMode,m=m.plots,n;k&&(n=Gi.default.getRadialLegendFromLayout(k,this.config));k=[];if(d){for(var q in g){var d=g[q],p=void 0;d.getType()!==Ob.CHART_LAYOUT.COLOR_TYPE.CONSTANT&&(p=Gi.default.getColorLegendFromLayout(d,
this.config,b,q,this.getOverridingStartColorForLegend(d)),k.push(p))}var r=[];m.forEach(function(a){if(a.column&&a.column[0]){var b=g[a.column[0].getName()];b&&b.getType()===Ob.CHART_LAYOUT.COLOR_TYPE.CONSTANT&&r.push({column:a.column,mark:a.mark,color:a.color})}});r.length&&(b=Gi.default.getColorLegendFromPlots(r,this.config,Ob.CHART_LAYOUT.COLOR_TYPE.CONSTANT),k.push(b))}return Gi.default.getLegend(n,k,{selectMode:a})}};b.prototype._getColorLayoutsMap=function(a,b){var d=this;void 0===b&&(b=!1);
if(!b&&this._colorLayoutsMap)return this._colorLayoutsMap;this._colorLayoutsMap={};this.config.plots.forEach(function(b,f){var g=d.getColorLayout({i:f,legendSwatchType:a});b.column&&b.column[0]&&null==d._colorLayoutsMap[b.column[0].getName()]?d._colorLayoutsMap[b.column[0].getName()]=g:d._colorLayoutsMap[""]=g});if(this.config.isIdenticalColor){var g=Object.keys(this._colorLayoutsMap)[0],k=this._colorLayoutsMap[g],g=k.getType()===Ob.CHART_LAYOUT.COLOR_TYPE.CONSTANT?g:k.getColumn();this._colorLayoutsMap=
{};this._colorLayoutsMap[g]=k}return this._colorLayoutsMap};b.prototype.getKeyFct=function(){return this._keyFct};b.prototype.getInternalKeyColumn=function(){return this._internalKeyColumn};b.prototype.getInternalSortFct=function(){var a=this.config.sorting.column[0].getName();return function(b){return b[a]}};b.prototype.isTimeChart=function(){return!1};b.prototype.getRowsTransforms=function(){var a=this,b=[],d=this.config,g=this.chartProperties,k=g.uniqueRowKeyRequired,m=g.keyColumns,g=yb.createInternalKeyColumn(),
n=yb.getColumns(d,"key"),q=yb.getColumns(d,"trellis"),m=n.length?n:q.concat(m);this._keyTransform=m=Hi.parseInternalKeyTransform(g,m);this._internalKeyColumn=g;this._keyFct=Ry.getValueFct({field:g,defaultValue:""});b.push(m);var p=yb.getTimeColumns(d);p.forEach(function(a){a.setInternalColumnName(a.getName()+"$parsed");b.push(Hi.parseTimeRowTransform(a))});g=this.chartProperties.percentGroupColumns;void 0===g&&(g=[]);d=yb.getColumns(d,"trellis").concat(g);b.push(Qy.getPercentRowTransform(this.rows,
d,this.rowsMetadata.getColumnsByType(Ob.COLUMN_TYPE.MEASURE)));if(k){var r={};b.push(function(b){var d=a._keyFct(b);if(r[d])return null;r[d]=!0;return b})}0<p.length&&this.isTimeChart()&&b.push(function(a){if(null!=a){var b=0<hd.default.filter(p.map(function(b){return b.isFiscalTime()?!a.$$ROW_INTERNAL[b.getName()+"$parsed"]:!1})).length;return 0<hd.default.filter(p.map(function(b){return null==a[b.getName()]||""===a[b.getName()]})).length||b?null:a}return null});return b};b.prototype.preProcessRows=
function(){var a=this.getRowsTransforms();0!==a.length&&(a=1===a.length?a[0]:Pg.flow(a),this.rows=hd.default.filter(this.rows.map(a)),this._sortRows())};b.prototype.postProcessRows=function(){var a=this.chartLayouts.stackLayout;if(a&&(a=a.getRowsTransform()))this.rows=this.rows.map(a);if(a=this._getColorLayoutsMap(null,!1))for(var b in a)if(a[b]){var d=a[b];if(d.getType()===Ob.CHART_LAYOUT.COLOR_TYPE.BINS){var g=Pg.extendDeep({},d.getField()),k=g.getName(),m=d.getBinsInfo();g.setInternalColumnName(Ob.CHART_LAYOUT.COLOR_TYPE.BINS+
"_"+b);d.setField(g);g=Hi.getInternalValueTransform(g,function(a){a=d.getBinIndex(a[k],m);var b=d.getLabels()[a];return{value:a,label:b}});this.rows=this.rows.map(g)}}};b.prototype.onChartRowsChanged=function(a,b){this.rows=a;this.chartLayouts=this.getChartLayouts(null,!0);b&&this.preProcessRows()};b.prototype.onChartSizeChanged=function(a,b){var d=this.chartLayouts.radiusLayout;d&&d.setRelativeSize(Math.min(a,b))};b.prototype.renderCell=function(a,b,d){b=b||{};var g=b.cellRenderer||Uy.get().getCellRenderer(this,
a,b);Dq.getPerf().mark(a.key);g.render(this,a,b,d);Dq.getPerf().endMark(a.key);b&&Py.applyTransforms(a,b.transforms)};b.prototype.initScene=function(a,b,d){b=this.chartProperties;a=Ky.build({layout:b.layout,hasTooltip:a.hasTooltip,size:a.size,transforms:a.transforms,padding:a.padding,selectMode:a.selectMode,configLayout:a.layout,cellSizes:b.cellSizes,axisTitleMaxLines:b.axisTitleMaxLines});a.set({selectionKeyFct:this._keyFct,keyTransform:this._keyTransform});return a};b.prototype.plot=function(a,
b,d,g){var k=this;g||(g={});Oy.adjustLayout(d,a);var m={config:a,rows:b,scene:d,ctx:g},n={};this.cellRenderingOrder&&this.cellRenderingOrder.forEach(function(a){a=d.cellByKey(a);k.renderCell(a,k.cellRendererConfigs[a.key],m);n[a.key]=a});hd.default.sortBy(d.getCells(),"key").forEach(function(a){hd.default.has(n,a.key)||k.renderCell(a,k.cellRendererConfigs[a.key],m)})};b.prototype.postPlot=function(a,b,d,g){};b.prototype.hasRows=function(a){return!this.chartProperties.rowsRequired||0<a.length};b.prototype.hasMeasures=
function(a){var b=this.chartProperties,d=b.measureColumns;return!b.measuresRequired||Hi.hasMeasures(a,d)};b.prototype.isEmpty=function(a){return!this.hasRows(a)||!this.hasMeasures(a)};b.prototype.sanitizeConfig=function(){var b=this;a.prototype.sanitizeConfig.call(this);this.config.sorting.enabled=yb.isSortingSupported(this.config);var f=this.config.plots;f.forEach(function(a,g){a.referenceLines=Sy.getValidReferenceLines(a.referenceLines||[]);null==a.color&&(a.color=yb.getPaletteColor(b.config.theme,
g,f.length));var k=b.config,m=k.measureAxis1,k=k.measureAxis2;null==a.column&&(0===g&&m&&m.column?a.column=m.column:1===g&&(k&&k.column)&&(a.column=k.column))})};b.prototype.getDefaultConfig=function(){return{tooltip:{},sorting:{internal:!1,enabled:!0}}};b.prototype.getChartProperties=function(){return{}};b.prototype.getChartLayouts=function(a,b){return{colorLayouts:this._getColorLayoutsMap(a,b)}};b.prototype.getColorLayout=function(a){void 0===a&&(a={});var b=a.i;void 0===b&&(b=0);var d=a.rows;void 0===
d&&(d=this.rows);var g=a.legendSwatchType;a=a.applyTheme;void 0===a&&(a=!0);var k=this.config,m=k.plots,k=k.theme,n=m[b],q=n.color,n=n.mark;return Eq.getChartColorLayout(q,yb.getPaletteColor(k,b,m.length),d,k,g||n,a)};b.prototype.getPlot=function(a){void 0===a&&(a=0);return this.config.plots[a]};b.prototype.getDefaultPlots=function(){return Pg.range(0,this.getDefaultPlotCount()).map(function(){return{}})};b.prototype.getDefaultPlotCount=function(){return 1};b.prototype.resetLayouts=function(){var b=
this.chartLayouts.axisLayouts;b&&(b=Pg.isPlainObject(b)?hd.default.values(b):b,this.resetAxisLayouts(b));a.prototype.resetLayouts.call(this)};b.prototype.resetAxisLayouts=function(a){for(var b=0;b<a.length;b++)a[b]&&a[b].resetPlot()};b.prototype.settleAxisLayouts=function(a,b,d,g){void 0===d&&(d=!1);void 0===g&&(g=!1);a=hd.default.filter(a);for(var k=a.length,m=0;m<k;m++)a[m].setSize(b);d&&1<k?Eq.alignNumericAxisLayouts(a,g):a.forEach(function(a){return a.settleAxisDomainInfo()})};b.prototype._sortRows=
function(){var a=this.config.sorting;a.internal&&(a=null!=a.order?Ii.fromValue(a.order):Ii.NONE,a!==Ii.NONE&&null!=this.getInternalSortFct()&&(this.rows=hd.default.sortBy(this.rows,this.getInternalSortFct()),a===Ii.DESC&&(this.rows=this.rows.reverse())))};return b}(Iy.default);Rc.default=Vy;Rc.getMetadata=function(){return Jy.default};var df={};"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.getMetadata=void 0;var Fq=Eh(U),Ji=Eh($),Wy=Eh(Rc),Xy=Eh({moduleName:"sfdc-waterfall-chart",
schema:{$id:"http://salesforce.com/charts/modules/sfdc-waterfall-chart",description:"Schema for Waterfall Chart",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},"with":{properties:{computeTotal:{type:"boolean","default":!0},dimensionAxis:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/dimensionAxis"},hasNiceDomain:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/hasNiceDomain"},hoverPadding:{type:"integer"},
shouldConnect:{type:"boolean"},keepPosNegColors:{type:"boolean"},measureAxis1:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/measureAxis"},negativeColor:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/colorValue"},positiveColor:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/colorValue"},showGridLines:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showGridLines"},split:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/split"},
startColor:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/colorValue"},totalColor:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/colorValue"},totals:{type:"array",items:{properties:{row:{type:"integer"},label:{type:"string"}}}},valueType:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/valueType"},maxBarSize:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/maxBarSize"},minSpacer:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/minSpacer"},
spacerRatio:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/spacerRatio"},referenceLines:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/referenceLines"}}}}},name:"Waterfall Chart"}),hc=Ji.default.utils,Yy=hc.columnUtils,Al=hc.valueFctUtils,Qg=hc.plotUtils,jd=hc.rowsUtils,Zy=hc.mathUtils,Gq=hc.sceneUtils,ic=hc.configUtils,zb=hc.constants,Ki=hc.axisUtils,$y=hc.domainUtils,az=hc.layoutUtils,bz=hc.referenceLineUtils,Bl=Ji.default.shapes,Cl=Bl.Layer,cz=
Bl.Rect,dz=Bl.Line,Li=Ji.default.chartLayouts,Cd=Ji.default.runtime,ez=zb.AXIS.LABELS.LAYOUT,Dl=zb.VALUETYPE,fz=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getDefaultConfig=function(){var b=this.config;return Fq.default.extend(a.prototype.getDefaultConfig.call(this),{dimensionAxis:{column:[],showAxis:!0,showTitle:!0,titleMaxLines:1},measureAxis1:{showAxis:!0,showTitle:!0,title:"",scale:zb.SCALE.LINEAR,
titleMaxLines:1},totalColor:"#00A1E0",positiveColor:b.theme.getPositiveColor(),negativeColor:b.theme.getNegativeColor(),computeTotal:!0,minSpacer:2,maxBarSize:200,shouldConnect:!1,showGridLines:!0,valueType:Dl.COMPACT_NUMBER,transforms:{rotate:!0},hasNiceDomain:!0,hoverPadding:0})};b.prototype.sanitizeConfig=function(){a.prototype.sanitizeConfig.call(this);var b=this.config,f=b.measureAxis1,d=b.dimensionAxis;b.valueType=ic.sanitizeValueTypeConfig(b.valueType);ic.sanitizeAxis(f,f.column,!0);ic.sanitizeAxis(d,
d.column);d.column.length||(b.computeTotal=!1);b.layout=ic.addLegacyLayout(f,void 0,d)};b.prototype.getChartProperties=function(){var a=this.config,b=ic.getColumns(a,"dimensionAxis")[0],d=ic.getColumns(a,"measureAxis1"),g=ic.getColumns(a,"split")[0],k=Yy.uniqueColumns(b,g),g=!!g,m=ic.getTooltipColumns(a,"dimensionAxis","measureAxis1","split");return{layout:"Waterfall",supportsSorting:!1,keyColumns:k,measureColumns:d,dimensionColumn:b,isStack:g,tooltipColumns:m,percentGroupColumns:g?b:[],axisTitleMaxLines:[a.dimensionAxis.titleMaxLines,
a.measureAxis1.titleMaxLines]}};b.prototype.getOverridingStartColorForLegend=function(a){var b=this.config.startColor;if(!this.chartProperties.isStack&&b&&a.getType()===zb.CHART_LAYOUT.COLOR_TYPE.CATEGORICAL){var d=ic.getPlotColorColumn(this.config),d=d&&d.getValueColors();a=a.getUnsortedDomain();if(!d||!d[a[0]])return b}};b.prototype.getChartLayouts=function(){var b=this.chartProperties,f=b.measureColumns,b=b.dimensionColumn,d=this.config,g=d.theme,k=d.positiveColor,m=d.negativeColor,n=d.measureAxis1,
q=d.hasNiceDomain,p=d.transforms,d=d.keepPosNegColors,r,A,t=ic.getPlotColorColumn(this.config);t?(r=a.prototype.getColorLayout.call(this,{applyTheme:!d}),d&&(A=Li.colorLayout.make(zb.CHART_LAYOUT.COLOR_TYPE.BINS,{field:f[0],rows:this.rows,theme:g,breakpoints:[0],bands:[{color:m},{color:k}]}))):A=Li.colorLayout.make(zb.CHART_LAYOUT.COLOR_TYPE.BINS,{field:f[0],rows:this.rows,theme:g,breakpoints:[0],bands:[{color:m},{color:k}]});this._colorLayoutsMap={};f.length&&A&&(this._colorLayoutsMap[f[0].getName()]=
A);t&&(this._colorLayoutsMap[t.getName()]=r);f=this._colorLayoutsMap;(r=Li.layoutsUtils.getChartNumericAxisLayout(n))&&r.setIsX(!0).setHasNiceTicks(n.showAxis&&q).setHasHorizontalTicks(!p.rotate);this.isTrellis()&&(this._dimensionValues=$y.getOrdinalDomain(this.rows,b).sort());return{colorLayouts:f,axisLayout:r}};b.prototype.getDataFormatter=function(){var b=a.prototype.getDataFormatter.call(this);b.setCustomColorPickFunction(function(a,b,c){return a[zb.ROW_INTERNAL_KEY]&&a[zb.ROW_INTERNAL_KEY].hasOwnProperty("barFillColor")?
a[zb.ROW_INTERNAL_KEY].barFillColor:b.getScale().scale(a[c])});return b};b.prototype.plot=function(a,b,d,g){var k=a.theme,m=a.valueType,n=a.dimensionAxis,q=a.measureAxis1,p=a.minSpacer,r=a.maxBarSize,A=a.totals,t=a.totalColor,w=a.startColor,z=a.computeTotal,v=a.shouldConnect,y=this.chartProperties,K=y.keyColumns,B=y.measureColumns,x=y.dimensionColumn,X=y.isStack,C=ic.getColumns(a,"split")[0],y=this.chartLayouts.axisLayout,L=this.chartLayouts.colorLayouts[Object.keys(this.chartLayouts.colorLayouts)[0]],
D=m!==Dl.NONE,F=d.get("transforms").rotate,I=B[0],G=A&&0<A.length,B=Gq.cellMap(d),E;2===Object.keys(this.chartLayouts.colorLayouts).length&&(E=this.chartLayouts.colorLayouts[Object.keys(this.chartLayouts.colorLayouts)[1]]);F&&q.showAxis&&B.axis.adjustHeight(Qg.getMeasureAxisCellHeight(q.format,m));n.showTitle||d.adjustColumnToFit(B.dimensionTitle.get("column"));Cd.getPerf().mark("layout");this._dimensionValues&&(b=jd.sortRows(b,x,this._dimensionValues),b=b.map(this._keyTransform));b=jd.addTotalRows(b,
A,x,C,I,z);q=jd.parseInternalKeyTransform(this.getInternalKeyColumn(),K);b.filter(function(a){return jd.getRowInternalField(a,"isTotal")}).forEach(q);q=!!C;q=jd.layoutTabularRows(b,x?[x]:void 0,this.getKeyFct(),{forceHierarchy:q});n=Li.layoutsUtils.getChartCategoricalAxisLayout(n,q,{marks:[zb.MARK_TYPE.BAR]},zb.AUTOFIT_MODE.FIT).setMinSpacer(p).setMaxBarSize(r).setIsX(!!F).setSize(B.plot.get("h")).setWidth(B.labels.get("w")).setLabelLayout(n.labelLayout);p=n.getLayoutInfo();p.axis.layout===ez.HIDDEN&&
d.adjustColumnToFit(B.padding.get("column"));Cd.getPerf().endMark("layout");Cd.getPerf().mark("labels");var J=Ki.yLabels({cell:B.labels,layout:p.axis.layout,numColumns:p.axis.numColumns,rows:n.getRows(),floating:!1,overflowForSlanted:B.labels.get("y"),theme:k});d.adjustColumnToFit(B.labels.get("column"));Cd.getPerf().endMark("labels");Cd.getPerf().mark("plot");var H=p.plot.barSize,O=n.getScale(),V=L.getScale();d=L.getField();var Q=E&&E.getScale(),n=E&&E.getField(),M=new Cl({key:I.getName(),cell:B.plot,
canHover:!0,canSelect:!0,staggerAnim:!1}),P;G&&(P=new Cl({key:"totalbars",cell:B.plot,canHover:!0,canSelect:!1,staggerAnim:!1}));var Dc=this.getKeyFct(),W=L&&Al.getValueFct({field:d}),U=E&&Al.getValueFct({field:n}),$=Al.getValueFct({field:I}),Ba=Qg.getFormatInfo(m,I).formatter;b.forEach(function(a,b){if(jd.rowHasAllFields(a,I)){var c=jd.getRowInternalField(a,"isTotal"),d=$(a),f=O.range()[b]-H/2,g=Ba(d);new cz({key:Dc(a),layer:c?P:M,x:0,y:f,stroke:v?k.getTextColorOnDark():null,w:d,h:H,lineWidth:v?
1:null,text:D?g:"",fill:Q&&Q.scale(U(a))||V.scale(W(a)),textInside:X,textCenter:!0,textColorLight:k.getTextColorOnLight(),textColorDark:k.getTextColorOnDark(),data:{row:a},accessibility:{type:zb.ACCESSIBILITY.TYPE.DATA}});if(c&&z&&J){var m=x.getName(),c=J.find({type:"Text",data:function(b){return b.row[m]===a[m]}});c.length&&c[0].set({hotSpots:void 0})}}});var S=0,R=[],Z=ic.getPlotColorColumn(a),N=Z&&Z.getValueColors();M.groupByField(x).forEach(function(a,b){!b&&(!X&&w)&&a.forEach(function(a){var b=
a.get("data").row;if(!N||!N[b[Z.getName()]])a.set({fill:w}),jd.setRowInternalField(b,"barFillColor",w)});0>a.getChildren()[0].get("w")&&a.getChildren().reverse();a.applyLayout({type:"stackX",cumulativeProp:"w"});a.offsetX(S);R.push([S,a.getChildren()[0].get("y")]);S+=Zy.sum(a.map(function(a){return a.get("w")}));R.push([S,a.getChildren()[0].get("y")+H])}).flatten();G&&(X?P.groupByField(x).forEach(function(a){a.applyLayout({type:"stackX",cumulativeProp:"w"});var b;a.forEach(function(a){if(!b||b.get("x")<
a.get("x"))b=a});R.push([b.get("x")+Math.max(b.get("w"),0),b.get("y")]);R.push([b.get("x")+Math.max(b.get("w"),0),b.get("y")+b.get("h")])}).flatten():P.forEach(function(a){a.set({fill:t});jd.setRowInternalField(a.get("data").row,"barFillColor",t);R.push([a.get("w"),a.get("y")]);R.push([a.get("w"),a.get("y")])}),z||(P.getChildren().slice().forEach(function(a){a.appendTo(M)}),P.removeFromParent()),y.addPlot(P.getChildren()));if(v){a=new Cl({key:"lines",cell:B.plot,canHover:!1,canSelect:!1,staggerAnim:!1});
R.sort(function(a,b){return a[1]-b[1]});for(b=2;b<R.length-1;b+=2)m=R[b-1],E=R[b],new dz({x0:m[0],y0:m[1],x1:E[0],y1:E[1],stroke:k.getTextColorOnDark(),lineWidth:1,key:"line"+b,canHover:!1,canSelect:!1,layer:a})}y.addPlot(M.getChildren());g.barSize=H;this.w=B.plot.get("w")};b.prototype.settleLayouts=function(){this.chartLayouts.axisLayout.setSize(this.w).settleAxisDomainInfo();a.prototype.settleLayouts.call(this)};b.prototype.postPlot=function(a,b,d,g){b=a.theme;var k=a.valueType,m=a.measureAxis1,
n=a.dimensionAxis,q=k!==Dl.NONE,p=this.chartProperties,r=p.dimensionColumn,A=p.isStack,p=p.measureColumns[0],t=d.get("transforms").rotate,w=this.chartLayouts.axisLayout,z=g.barSize,v=Gq.cellMap(d),y=v.plot,K=y.get("h"),x=!!d.get("transforms").rotate,T=!!d.get("transforms").flipX;g=!!d.get("transforms").flipY;var X=w.getScale();y.forEach(function(b){b.set({scales:{x:X},viewport:[b.get("x")+X.range()[0],0,X.range()[1],K+3]});A||Qg.applyHoverPadding(b,a)});if(q){var q=y.getChildren(),C=Qg.getFormatInfo(k,
p);A&&Fq.default.flatten(q.map(function(a){return a.find({type:"Rect"})})).forEach(function(a){var b=C.textFct(a.get("data").row);a.set({text:b})});Qg.adjustBarText(q,t,z,zb.MARK.BAR.TEXT_PADDING,zb.MARK.BAR.TEXT_SIZE)}Cd.getPerf().endMark("plot");Cd.getPerf().mark("axis");n.showTitle&&r&&(Ki.yTitle({cell:v.dimensionTitle,titles:n.title,titleColor:b.getDimensionAxisTitleColor(),isDimension:!0,axis:n}),az.adjustYTitleWidthToFit(v.dimensionTitle),(x&&!g||!x&&T)&&v.dimensionTitle.flipX());m.showTitle&&
(Ki.xTitle({cell:v.measureAxis1Title,titles:m.title,titleColor:b.getMeasureAxisTitleColor(),isDimension:!1,axis:m,theme:a.theme}),(x&&!T||!x&&!g)&&v.measureAxis1Title.flipY());Ki.xNumbers({cell:v.axis,scale:X,gridLineLength:K,drawGridLines:a.showGridLines,drawAxis:m.showAxis,format:m.format,theme:b});Cd.getPerf().endMark("axis");m.referenceLines&&(b=bz.xRefLines({key:"reflines-measureAxis1",cell:y,scale:X,length:K,lines:m.referenceLines,theme:b}),g&&b.flipY());return d};return b}(Wy.default);df.default=
fz;df.getMetadata=function(){return Xy.default};var vc={};"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.getMetadata=void 0;var wc=Fh(U),ef=Fh($),gz=Fh(Rc),hz=Fh({moduleName:"sfdc-abstract-cartesian-chart"}),pe=ef.default.utils,ba=pe.constants,za=pe.configUtils,Hq=pe.sceneUtils,iz=pe.columnUtils,Wa=pe.plotUtils,Rg=pe.rowsUtils,Iq=pe.referenceLineUtils,Jq=ef.default.shapes,jz=Jq.Layer,kz=Jq.Point,Mi=ef.default.runtime,Sg=ef.default.time,ff=ef.default.chartLayouts.layoutsUtils,Ni=
ba.SMALL_MULTIPLE.CELL_PADDING,lz=ba.CHART_LAYOUT,Pa=ba.MARK,Pb=ba.MARK_TYPE,Dd=ba.VALUETYPE,mz=ba.SERIES_KEY,Oi=ba.TOTAL_SUM_MODE,nz=ef.default.color.colorUtils,Pi=["measureAxis1","measureAxis2"],oz=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getDefaultConfig=function(){var b,f=za.hasIcon(this.config.dimensionAxis);return wc.default.extend(a.prototype.getDefaultConfig.call(this),(b={plots:za.getPlotsDefaults(this.config),
r:{column:[],maxRadius:Pa.POINT.RADIUS},dimensionAxis:{column:[],showAxis:!0,showTitle:!0,titleMaxLines:1},timeAxis:{column:[],showAxis:!0,showTitle:!0,titleMaxLines:1}},b[Pi[0]]=dk(),b[Pi[1]]=dk(),b.barSize=f?ba.ICON.SIZE:Pa.BAR.SIZE,b.barSpacer=Pa.BAR.SPACER,b.labelSize=f?ba.ICON.SIZE:Pa.LINE.LABEL_SIZE,b.lineWidth=Pa.LINE.LINE_WIDTH,b.pointRadius=Pa.LINE.POINT_RADIUS,b.showPoints=!1,b.fillArea=!1,b.missingValue=ba.MISSING_VALUE.DISCONNECT,b.mode=ba.CHART_MODE.CLUSTER,b.normalize=!1,b.autoFitMode=
ba.AUTOFIT_MODE.SCROLL,b.axisMode=ba.AXIS_MODE.DUAL,b.alignTicks=!1,b.transforms={rotate:!1},b.hasNiceDomain=!0,b.stack=!1,b.showGridLines=!0,b.hoverPadding=0,b))};b.prototype.isAxisModeMulti=function(){return this.config.axisMode===ba.AXIS_MODE.MULTI};b.prototype.getChartProperties=function(){var a=this.config,b=a.plots,d=a.timeAxis,g=a.dimensionAxis,k=a.measureAxis1,m=a.measureAxis2,n=za.getColumns(a,"split")[0],q=za.getColumns(a,"plots"),p=za.getColumns(a,"timeAxis")[0],r=za.getColumns(a,"r")[0],
A=p?d:g,t=p?[p]:za.getColumns(a,"dimensionAxis"),w=iz.uniqueColumns(t,n),z=!!p,v=!z,y=wc.default.map(b,"mark"),x=-1<y.indexOf(Pb.LINE),B=-1<y.indexOf(Pb.DOT),T=za.hasSeries(b),X=za.isStack(a),C;C=this.isAxisModeMulti()?wc.default.map(b,function(b){return a[b.axis]}):[k,m];var L=za.getCustomCellSize(A),D={};L&&A.showAxis&&(D.axisY=L+"%",D.plot=100-L+"%");var L=X&&!n?w:w.slice(0,w.length-1),F=za.getTooltipColumns(a,"dimensionAxis","timeAxis","plots","r","split"),b=this.isAxisModeMulti()?b.reduce(function(b,
d){return Math.max(b,a[d.axis].titleMaxLines)},0):0;return{layout:"Cartesian",hasTime:z,isStack:X,hasSeries:T,hasLine:x,hasDot:B,keyColumns:w,percentGroupColumns:L,measureColumns:q,plotColumns:q,timeColumn:p,radiusColumn:r,splitColumn:n,yColumns:t,cellSizes:D,axisX:C,axisY:A,marks:y,tooltipColumns:F,supportsSorting:v,axisTitleMaxLines:[z?d.titleMaxLines:g.titleMaxLines,b||k&&k.titleMaxLines||0,b||m&&m.titleMaxLines||0]}};b.prototype.getInternalSortFct=function(){return null};b.prototype.getColorLayout=
function(b){var f=b.legendSwatchType;return a.prototype.getColorLayout.call(this,{i:b.i,rows:this.chartProperties.hasSeries?wc.default.filter(this.rows,function(a){return!a[mz]}):this.rows,legendSwatchType:f})};b.prototype.getChartLayouts=function(b,f){var d=a.prototype.getChartLayouts.call(this,b,f),g=this.config,k=this.chartProperties,m=k.axisX,n=k.hasTime,q=k.hasSeries,p=k.yColumns,r=k.marks,A=k.keyColumns,t=g.timeAxis,w=g.dimensionAxis,z=g.plots,v=g.split,y=g.normalize,x=g.hasNiceDomain,B=g.barSize,
T=g.barSpacer,C=g.spacerRatio,D=g.maxBarSize,L=g.minSpacer,F=g.labelSize,I=g.pointRadius,E=g.autoFitMode,G=g.transforms,J=g.stack,k=ff.getChartRadiusLayout(g.r,g.size,g.padding,this.rows),H,O,r={marks:r,barSize:B,barSpacer:T,labelSize:F,pointRadius:I,stack:J,isAxisModeMulti:this.isAxisModeMulti()};if(n)q=ff.getChartTimeAxisLayout(t,this.rows,r,E).setIsX(!!G.rotate);else{H=this.rows;q&&(H=Rg.getRowsForSeries(H,void 0));var M,Q,P,V;g.sorting.enabled&&(M=g.sorting.column?g.sorting.column[0]:void 0);
this.isTrellis()?V=M=!0:(Q=null!=M?!1:void 0,M=(P=p.length<A.length)&&null==M);H=Rg.layoutTabularRows(H,p,this.getKeyFct(),{hasHierarchy:Q,forceHierarchy:M,sortHierarchy:V,summarize:P,sorting:g.sorting});q=ff.getChartCategoricalAxisLayout(w,H,r,E).setHasSeries(q).setIsX(!!G.rotate).setMaxBarSize(D).setMinSpacer(L).setSpacerRatio(C).setLabelLayout(w.labelLayout)}v?(H||(H=Rg.layoutTabularRows(this.rows,p,this.getKeyFct(),{forceHierarchy:!0})),O=ff.getChartDimensionStackLayout(H,z.map(function(a){return a.column[0]}),
za.getColumns(g,"trellis"),v,y)):J&&(g=z.filter(function(a){return a.mark===Pb.BAR}).map(function(a){return a.column[0]}),O=ff.getChartMeasureStackLayout(g));var R={};m.forEach(function(a){if(a){var b=ff.getChartNumericAxisLayout(a);b&&b.setIsX(!0).setHasNiceTicks(a.showAxis&&x).setHasHorizontalTicks(!G.rotate).setIsNormalized(y).setAdjustMin(n);R[a.name]=b}});return wc.default.extend(d,{radiusLayout:k,axisLayouts:R,yAxisLayout:q,stackLayout:O})};b.prototype._calculateMultiAxisPlotWidth=function(a,
b){return(a+Ni)/b-Ni};b.prototype._defaultMeasureAxes=function(){var a=this.config;a.plots.forEach(function(b,d){a[b.axis]=a[b.axis]||{};a[b.axis].name=b.axis;wc.default.defaults(a[b.axis],dk())})};b.prototype.sanitizeConfig=function(){var b=this;a.prototype.sanitizeConfig.call(this);var f=this.config,d=f.plots,g=f.timeAxis,k=f.dimensionAxis,m=f.theme,n=f.stack,p=this.isAxisModeMulti();f.mode=f.split?ba.CHART_MODE.STACK:ba.CHART_MODE.CLUSTER;za.convertAxisMode(f.axisMode,f);this._defaultMeasureAxes();
f.barSize=Math.max(Pa.BAR.MIN_SIZE,f.barSize);f.barSpacer=Math.max(Pa.BAR.MIN_SPACER,f.barSpacer);f.lineWidth=Math.max(Pa.LINE.MIN_LINE_WIDTH,f.lineWidth);f.labelSize=Math.max(Pa.LINE.MIN_LABEL_SIZE,f.labelSize);f.pointRadius=Math.max(Pa.LINE.MIN_POINT_RADIUS,f.pointRadius);f.r&&(f.r.maxRadius=Math.min(Math.max(f.r.maxRadius,Pa.POINT.MIN_RADIUS),Pa.POINT.MAX_RADIUS));var s={},r=[],A=null;d.forEach(function(a,g){var k=(a.column[0]&&a.column[0].getName())+"/"+a.series;s[k]||(s[k]=!0,r.push(a),wc.default.defaults(a,
{column:[],mark:Pb.BAR,axis:Pi[0]}),n&&a.mark===Pb.BAR&&(A?a.axis=A:A=a.axis),b._sanitizeValueType(a,f),nz.isValidColorConfig(a.color)||(a.color=za.getPaletteColor(m,g,d.length)))});f.plots=d=r;-1<wc.default.map(d,"mark").indexOf(Pb.BAR)&&(f.fillArea=!!p);var t=za.getPlotColorColumn(f),w=za.getColumns(f,"timeAxis")[0],z=this.getPlot().color;z.type===lz.COLOR_TYPE.CATEGORICAL&&t&&w&&(f.mode=ba.CHART_MODE.STACK,f.split||(f.split=za.createDefaultSplitConfig(z)));f.normalize=f.normalize&&f.mode===ba.CHART_MODE.STACK;
za.sanitizeAxis(g,g.column);za.sanitizeAxis(k,k.column);if(p){var v=!1,y=!1;d.forEach(function(a){var b=f[a.axis];za.sanitizeAxis(b,a.column,!0);v=v||b.showAxis;y=y||b.showTitle});f.layout=za.addLegacyLayout({showAxis:v,showTitle:y},{showAxis:!1,showTitle:!1},k,g)}else Pi.forEach(function(a,b){var c=f[a],g=za.getColumns(wc.default.filter(d,{axis:a}));g.length?za.sanitizeAxis(c,g,!0):delete f[a]}),f.layout=za.addLegacyLayout(f.measureAxis1,f.measureAxis2,k,g)};b.prototype._sanitizeValueType=function(a,
b){a.valueType=b.normalize&&a.valueType!==Dd.NONE?Dd.PERCENT:a.valueType;a.valueType||(a.valueType=a.mark===Pb.LINE?b.valueTypeOnLine||Dd.NONE:b.valueType||Dd.COMPACT_NUMBER)};b.prototype._getYAxisRenderConfig=function(a,b,d,g){var k=a.barSize,m=a.labelSize;d=a.autoFitMode;var n=a.showCrosshair,p=this.chartProperties,s=p.cellSizes,r=p.timeColumn,A=p.marks,p=p.hasTime,t=a.timeAxis,w=a.dimensionAxis,z=this.chartLayouts.yAxisLayout;Mi.getPerf().mark("layout");var v=p?t:w,y=g.plot.get("h"),x=a.transforms.rotate?
8:0;v.showTitle?g.axisYTitle.adjustWidth((p?ba.AXIS.TIME.TITLE.HEIGHT*t.titleMaxLines:ba.AXIS.LABELS.TITLE.HEIGHT*w.titleMaxLines)+x):g.axisYTitle.adjustColumnToFit();p&&g.padding.adjustColumnToFit();t=z.setSize(y).setWidth(g.axisY.get("w")).getLayoutInfo();z.needsScroll()||(g.plot.set({scrollY:!1}),g.axisY.set({scrollY:!1}));k=d!==ba.AUTOFIT_MODE.SCROLL?-1<A.indexOf(Pa.BAR)?t.plot.barSize/k:t.plot.labelSize/m:1;a._autoFitRatio=k;Mi.getPerf().endMark("layout");if(p)return{type:ba.CELL_RENDERER_TYPE.TIME,
orientation:"y",scale:t.scale,drawAxis:z.showAxis(),granularity:z.getGranularity(),dataFormat:z.getDataFormat(),fiscalGranularity:z.getFiscalGranularity(),formats:z.getFormats(),isDiscrete:z.isDiscrete(),firstDayOfWeek:z.getFirstDayOfWeek(),formatter:r&&r.getFormatter(),showCrosshair:n};t.axis.layout===ba.AXIS.LABELS.LAYOUT.HIDDEN&&!s.axisY&&b.adjustColumnToFit(g.padding.get("column"));return{type:ba.CELL_RENDERER_TYPE.DIMENSION,orientation:"y",layout:t.axis.layout,numColumns:t.axis.numColumns,rows:z.getRows(),
showSeparationLines:t.axis.layout===ba.AXIS.LABELS.LAYOUT.SLANTED?!1:z.hasHierarchy(),floating:d!==ba.AUTOFIT_MODE.FIT,overflowForSlanted:g.axisY.get("y"),icon:w.icon,resizeCell:!s.axisY,scale:t.scale,showCrosshair:n}};b.prototype.plot=function(b,f,d,g){var k=this.chartProperties,m=k.axisX,n=k.axisY,k=k.hasTime,p=b.transforms,s=b.theme,r=this.isAxisModeMulti(),A=Hq.cellMap(d);if(p.rotate&&m[0]&&m[0].showAxis)if(r){var t=m.reduce(function(a,b){return Math.max(a,Wa.getMeasureAxisCellHeight(b.format))},
0);A.measureAxis1.adjustHeight(t)}else A.measureAxis1.adjustHeight(Wa.getMeasureAxisCellHeight(m[0].format));r||!m[1]?(A.measureAxis2.adjustRowToFit(),A.measureAxis2Title.adjustRowToFit()):p.rotate&&m[1].showAxis&&A.measureAxis2.adjustHeight(Wa.getMeasureAxisCellHeight(m[1].format));m=this._getYAxisRenderConfig(b,d,g,A);p=b.transforms.rotate;this.cellRenderingOrder=["axisY","plot","axisYTitle"];this.cellRendererConfigs={axisY:m,plot:{createLayer:!1},axisYTitle:{type:ba.CELL_RENDERER_TYPE.TITLE,orientation:"y",
axis:n,isDimension:!0,titleColor:k?s.getTimeAxisTitleColor():void 0,titleOffset:p?8:0}};a.prototype.plot.call(this,b,f,d,g)};b.prototype.plotCell=function(a){var b=this,d=a.cell,g=a.rows,k=a.config;a=a.ctx;var m=k.lineWidth,n=k.missingValue,p=k.normalize,s=k.pointRadius,r=k.showPoints,A=k.split,t=k.theme,w=k.timeAxis,z=k.autoFitMode,v=k.isIdenticalColor,y=k.plots,x=this.chartProperties,B=x.isStack,T=x.hasSeries,C=x.hasTime,D=x.yColumns,L=x.radiusColumn,F=x.splitColumn,x=this.chartLayouts,I=x.radiusLayout,
G=x.axisLayouts,E=x.yAxisLayout,H=x.stackLayout,J=this.chartLayouts.colorLayouts[Object.keys(this.chartLayouts.colorLayouts)[0]],O=E.getLayoutInfo(),M=O.plot,Q={value:{type:ba.ACCESSIBILITY.TYPE.DATA}},P=za.getPlotColorColumn(k),V=J.getScale(),x=this.isAxisModeMulti(),R=I.getScale(),S=E.getScale(),W=this.getKeyFct(),U=[],Z={};y.forEach(function(a,b){Z[a.column[0].getName()]=b});x||(y=Wa.reorderPlots(k.plots));y.forEach(function(a){var c=Z[a.column[0].getName()],y=J,z=P,x=V;v||(y=b.chartLayouts.colorLayouts[a.column[0].getName()],
z=za.getPlotColorColumn(k,c),x=y.getScale());var y=a.axis,K=a.mark,$=a.aggregationLevel,N=a.series,ba=a.totals,ea=a.valueType,aa=a.column[0],Y=Wa.getFormatInfo(ea,aa),fa=M.offsets[c],ca=Rg.filterOutRowsWithMissingFields(g,aa,L);T&&(ca=Rg.getRowsForSeries(ca,N));N=function(a){return{row:a,column:aa.getName()}};switch(K){case Pb.BAR:var ba={value:0},da={field:aa};a=aa.getName();H&&(ba={field:H.getStartColumn(a)},p&&(da={field:H.getNormalizedColumn(a)}));N={key:{value:W},x:ba,y:C?{field:D,defaultValue:Sg.getConstantEpoch(),
scale:S,useParsedData:!0}:{value:W,scale:S},w:da,h:{value:M.barSize},text:Y.textFct,data:{value:N},textInside:{value:B},textCenter:{value:B},textColorLight:{value:t.getTextColorOnLight()},textColorDark:{value:t.getTextColorOnDark()},fill:{field:z,scale:x},accessibility:Q};z=A&&A.totalSumMode;if(z===Oi.NET||z===Oi.ABSOLUTE)N.stackTotal={totalSumMode:z,field:D,formatter:Wa.getFormatInfo(Dd.COMPACT_NUMBER,aa).formatter,backgroundColor:t.getBackgroundColor()};N=Wa.rect(N,ca).set({key:aa.getName()});break;
case Pb.LINE:var da=C?D:b.getInternalKeyColumn(),ga=O.categories,Y=a.area;a="dashed"===a.lineStyle;1===$&&!C&&(da=D,B||(da=D.slice(0,D.length-1)),ga=E.getCategories(Math.max(da.length-1,0)),S=E.getScale(da.length-1));x={field:z,scale:x};N={key:{value:W},x:{field:aa},y:{field:da,defaultValue:Sg.getConstantEpoch(),scale:S,useParsedData:C},lines:F?{field:F}:null,predictiveLine:w.predictiveLine,data:{value:N},stroke:x,showPoints:r,pointRadius:s,lineWidth:a?4:m,dashed:a?9:void 0,categories:ga,missingValue:n,
accessibility:Q};N=Wa.line(N,ca).set({key:aa.getName(),canSelect:!ba});Y&&1<Y.length&&(z={y:{field:da,defaultValue:Sg.getConstantEpoch(),scale:S,useParsedData:C},groups:z?{field:z}:null,stroke:x},Wa.area(Y,z,ca,N));break;case Pb.DOT:ba=ea!==Dd.NONE;N={defaultValue:Sg.getConstantEpoch(),key:{value:W},x:{field:aa},y:C?{field:D,defaultValue:Sg.getConstantEpoch(),scale:S,useParsedData:!0}:{value:W,scale:S},data:{value:N},r:{field:L,scale:R},stroke:{field:z,scale:x},fill:{field:z,scale:x},lineWidth:{value:1},
accessibility:Q};N=Wa.point(N,ca).set({key:aa.getName()});Wa.adjustPointFill(N.getChildren(),I,Pa.DOT.OPACITY_POS_VALUE,Pa.DOT.OPACITY_NEG_VALUE);L&&N.sortBy(function(a){return-a.get("r")});ba&&L&&Wa.addValueText(N,L,k);break;default:throw Error("invalid mark type"+K);}ca=N.getKey();d.layerByKey(ca)&&N.set("key",ca+c);N.appendTo(d).forEach(function(a){return a.offsetY(fa)});G[y].addPlot(N.getChildren());U.push({axis:y,column:aa,layer:N,mark:K,offset:fa,valueType:ea})});a.plotsInfo=U;this.plotWidth=
this._calculateMultiAxisPlotWidth(d.get("w"),x?y.length:1);z!==ba.AUTOFIT_MODE.FIT&&z!==ba.AUTOFIT_MODE.KEEP_LABELS&&d.adjustRowToFit()};b.prototype.settleLayouts=function(){var b=this.config.alignTicks;this.settleAxisLayouts(this.chartLayouts.axisLayouts,this.plotWidth,!this.isAxisModeMulti(),b);a.prototype.settleLayouts.call(this)};b.prototype._drawAxis=function(a,b,d,g,k,m,n,p,s,r,A,t,w,z,v,y){var x=k.get("h");this.renderCell(g,{type:ba.CELL_RENDERER_TYPE.TITLE,orientation:"x",size:A,key:a+"title",
axis:b,normalize:p,isDimension:!1,offsetX:s,adjustToFit:y},{scene:w,rows:v});this.renderCell(d,{type:ba.CELL_RENDERER_TYPE.MEASURE,orientation:"x",key:a,axis:b,scale:m,gridLineLength:x,drawGridLines:n,drawAxisLine:!n,normalize:p,offsetX:s,adjustToFit:y},{scene:w,rows:v});b.referenceLines&&(a=Iq.xRefLines({key:"reflines-"+a,cell:k,length:x,lines:b.referenceLines,scale:m,theme:z.theme,formatMultiplier:za.getFormatMultiplier(b),rotateLabel:!1}),r&&a.flipY(),a.offsetX(s),m=m.range(),a.set({viewport:[a.get("x")+
m[0],0,m[1]-m[0],t]}));r&&d.flipY()};b.prototype.postPlot=function(a,b,d,g){var k=this,m=a.normalize,n=a.theme,p=a.fillArea,s=a.transforms,r=a.split,A=this.plotWidth,t=g.plotsInfo;g=this.chartProperties;var w=g.hasTime,z=g.axisX;g=g.timeColumn;var v=this.chartLayouts,y=v.axisLayouts,x=v.yAxisLayout,B=v.stackLayout,C=x.getLayoutInfo(),D=C.plot.plotSize,F=Hq.cellMap(d),L=d.cellByKey("plot"),I=!!s.rotate,E=this.isAxisModeMulti(),G={};g&&(s=C.scale,G.type="time",G.dataGranularity=g.getGranularity(),G.format=
g.getFormat(),G.customDomain=x.getCustomDomain(),G.domain=x.getDomain(),G.scale=s,G.firstDayOfWeek=g.getFirstDayOfWeek(),G.fiscalGranularity=g.getFiscalGranularity(),G.dataSeparator=g.getDataSeparator());Mi.getPerf().mark("axis");var s=(new jz({key:"padding"})).append(new kz({key:"padding",x:0,y:D,r:0,fill:"#000"})),H={};Object.keys(y).forEach(function(a){var b=y[a],b=b&&b.getScale();H[a]=b});var J=[];t.forEach(function(b,f){var g=b.axis,k=b.mark,m=b.offset,s=b.layer,t=b.column,v=b.valueType,w=y[g],
z=H[g];s.set({scales:{x:z}});E&&s.offsetX((A+Ni)*f);var g=z.range(),x=C.scale.range();if(k===Pb.LINE){p&&Wa.adjustLineFill(s,!1,n.getLineFillAreaColor().toRGBA().a,w.showZero(),z);var w={w:g[1]-g[0],h:D},z=I?8:12,K=I?12:8,F=s.find({type:"Point"}).length;if(v!==Dd.NONE&&(C.plot.labelSize>z/2||w.w/F>K/2))t=Wa.addPointValueLabel(s,n,I,v,t,w),E?J.push(t):J[0]=(J[0]||[]).concat(t)}k===Pb.BAR&&(B||Wa.applyHoverPadding(s,a),v!==Dd.NONE&&Wa.adjustBarText(L.getChildren(),d.get("transforms").rotate,C.plot.barSize,
Pa.BAR.TEXT_PADDING,Pa.BAR.TEXT_SIZE),r&&(r.totalSumMode===Oi.NET||r.totalSumMode===Oi.ABSOLUTE)&&Wa.adjustStackTotalText(s,d.get("transforms").rotate,C.plot.barSize,Pa.BAR.TEXT_PADDING,Pa.BAR.TEXT_SIZE));k=E?"brush-"+s.key:"brush-"+s.getParent().key;s.set({viewport:[s.get("x")+g[0],0,g[1]-g[0],D],brush:wc.default.extend({key:k,area:{width:g[1],height:x[x.length-1]-(m||0)},color:{stroke:n.getBrushStrokeColor(),fill:n.getBrushFillColor(),text:n.getBrushTextColor()}},G)})});J.forEach(function(a){Wa.adjustLineLabels(a)});
L.append(s).adjustRowToFit();z.forEach(function(g,n){g&&k._drawAxis("axis"+n,g,E||!n?F.measureAxis1:F.measureAxis2,E||!n?F.measureAxis1Title:F.measureAxis2Title,L,H[g.name],a.showGridLines&&(E||!z[0]||!z[1]),m,E?(A+Ni)*n:0,!E&&1===n,A,D,d,a,b,!E||n===z.length-1)});Mi.getPerf().endMark("axis");w&&(t=F.plot,w=this._drawTimeReferenceLines(a,t,C.scale),this._changeLineStyleAfterPredictiveLine(a,t,g.getParser(),C.scale),w&&w.set({viewport:[w.get("x"),0,t.get("w"),D]}))};b.prototype._drawTimeReferenceLines=
function(a,b,d){var g=a.theme,k=a.timeAxis;a=k.predictiveLine;if((k=k.referenceLines)&&k.length||a)return a=a&&k?k.concat(a):a?[a]:k,Iq.yRefLines({cell:b,key:"reflines-timeaxis",scale:d,length:b.get("w"),lines:a,theme:g,rotateLabel:!0}).flipY()};b.prototype._changeLineStyleAfterPredictiveLine=function(a,b,d,g){var k=this,m=a.missingValue,n=a.plots;if(a=a.timeAxis.predictiveLine){var p=g.scale(d(a.time)),s=a.lineStyleAfter;b.forEach(function(a,b){n[b]&&n[b].mark===Pb.LINE&&a.find({type:"Path"}).map(function(a){return k._convertPredictivePath(a,
p,s,m)}).filter(wc.default.identity).forEach(function(b){return a.prepend(b)})})}};b.prototype._partition=function(a,b){for(var d=[],g=[],k=0;k<a.length;++k){var m=a[k];b(m)?d.push(m):g.push(m)}return[d,g]};b.prototype._convertPredictivePath=function(a,b,d,g){var k=a.get("points"),m=a.get("closePath");d="dashed"===d;var n=null;if(k){var p=this._partition(k,function(a){return a[1]>=b}),k=p[0],p=p[1];this._addDummyPointAtPredLine(b,p,k,g);k.length&&!m&&(n=a.clone().set({key:a.get("key")+"-predictive",
points:k,fill:void 0,baseX:void 0,baseY:void 0}),d&&n.set({dashed:9,lineWidth:4}),a.set("points",p.concat(k.slice(0,1))))}return n};b.prototype._addDummyPointAtPredLine=function(a,b,d,g){if(g!==ba.MISSING_VALUE.DISCONNECT){var k=b.length&&b[b.length-1];b=k[0];var k=k[1],m=d.length&&d[0],n=m[0],m=m[1];g=g===ba.MISSING_VALUE.CONNECT?(n-b)/(m-k)*(a-k)+b:b;k<a&&a<m&&d.unshift([g,a])}};return b}(gz.default);vc.default=oz;vc.getMetadata=function(){return hz.default};var qe={};"use strict";Object.defineProperty(qe,
"__esModule",{value:!0});qe.getMetadata=void 0;var pz=ek($),qz=ek(vc),rz=ek({moduleName:"sfdc-bar-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-bar-chart",description:"Schema for Horizontal Bar Chart",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},"with":{properties:{autoFitMode:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/autoFitMode"},axisMode:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/axisMode"},
barSize:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/barSize"},barSpacer:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/barSpacer"},hoverPadding:{type:"integer"},stack:{type:"boolean"},maxBarSize:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/maxBarSize"},minSpacer:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/minSpacer"},spacerRatio:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/spacerRatio"},
dimensionAxis:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/dimensionAxis"},hasNiceDomain:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/hasNiceDomain"},normalize:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/normalize"},showGridLines:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showGridLines"},split:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/split"},timeAxis:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/timeAxis"}},
patternProperties:{"^measureAxis\\d+$":{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/measureAxis"}}}}},name:"Bar Chart",shortname:"Bar"}),Kq=pz.default.utils,sz=Kq.configUtils,tz=Kq.constants,uz=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.sanitizeConfig=function(){sz.setMarkType(this.config,tz.MARK_TYPE.BAR);a.prototype.sanitizeConfig.call(this)};return b}(qz.default);
qe.default=uz;qe.getMetadata=function(){return rz.default};var cb={};"use strict";Object.defineProperty(cb,"__esModule",{value:!0});cb.getMetadata=void 0;var Tg=fk(U),Lq=fk($),vz=fk({moduleName:"lightning-lightningAdapter"}),El=Lq.default.utils,Mq=El.convertConfigUtils,Fl=El.constants,wz=El.configUtils,Nq=Lq.default.rowsMetadata.rowsMetadataUtils,Ug=Fl.VALUETYPE;cb.default={getLegend:function(a){var b={type:Fl.SORT.TYPE.ROWS};a.legend&&(a.legend.sorting=Tg.default.defaults(a.legend.sorting||{},b));
return a.legendPosition?{position:"Bottom"===a.legendPosition?"bottom-left":"right-top",showHeader:!0}:a.legend},getValueType:function(a){return"auto"===a.numberUnits?Ug.COMPACT_NUMBER:Ug.NUMBER},getSanitizedValueTypeForLine:function(a,b){return a?b&&b!==Ug.NONE?b:Ug.COMPACT_NUMBER:Ug.NONE},cleanseColor:function(a){var b=a.color&&a.color.fields[0];b&&["colors","domain"].forEach(function(c){void 0!==b[c]&&(a.color[c]=b[c],delete b[c])});a.color&&(a.color.sortColor=!1)},convertMarkColor:function(a){null!=
a.markColor&&(a.color=a.markColor)},convertCommon:function(a){this.convertMarkColor(a);this.convertRangesToColor(a);a.color&&a.plots.forEach(function(a){"line"!==a.mark&&delete a.color})},convertSimpleChart:function(a){var b=Nq.getRowsMetadataFromConfig(a);this.convertHasTooltip(a);this.convertFields2Column(a);this.convertDimensionMeasure2Plots(a);this.convertCommon(a);return{config:a,rowsMetadata:b}},convertRangesToColor:function(a){if(a.ranges){var b=a.ranges;delete a.ranges;var c=b.breakpoints;
c&&2<c.length&&(a.domain=[c[0],c[c.length-1]],c=c.slice(1,c.length-1));b.column=a.plots[0].column;b.breakpoints=c;b.type="bins";a.color=b}},convertAxisDomain:function(a,b){b&&(a.axisRange&&"manual"===a.axisRangeOption)&&(b.domain=[a.axisRange.min,a.axisRange.max]);delete a.axisRange;delete a.axisRangeOption},convertCartesianChart:function(a,b,c){var f=Nq.getRowsMetadataFromConfig(a),d=a.dimension,g=a.time,k=a.measure,m=a.layout;this.convertHasTooltip(a);d&&(a.dimensionAxis=this.convertDimension(d,
m),d.icon&&(f[f.length]=d.icon));g&&(a.timeAxis=this.convertTime(g,m));Tg.default.extend(a,Mq.measures2Axes(k.fields));a.plots=this.convertPlots(k,b,c);this.convertFields2Column(a);this.convertCommon(a);delete a.dimension;delete a.measure;delete a.valueType;return{config:a,rowsMetadata:f}},convertHasTooltip:function(a){a.tooltip={showPercentage:!0};!1===a.hasTooltip&&(a.tooltip.column=[]);return a},convertDefaultTrue:function(a,b){return!(!1===a||!1===b)},convertFields:function(a){return!a?void 0:
Tg.default.map(a,"column")},convertDimensionMeasure2Plots:function(a){var b=a.measure;if(b=a.dimension||b)a.plots=[b],delete a.measure,delete a.dimension},convertFields2Column:function(a){var b=this;Tg.default.keys(a).forEach(function(c){c=a[c];Tg.default.isObject(c)&&c.fields&&(c.column=b.convertFields(c.fields),delete c.fields)})},convertDimension:function(a,b){if(a&&a.fields)return b||(b={}),{column:this.convertFields(a.fields),showAxis:this.convertDefaultTrue(b.showDimension,a.showAxis),showTitle:this.convertDefaultTrue(b.showDimensionTitle,
a.showTitle),title:b.dimensionTitle||a.label||"",size:a.size,icon:a.icon,titleMaxLines:a.titleMaxLines||1}},convertAxis:function(a){if(a&&a.fields){var b=Mq.measures2Axis(a.fields);b.column=this.convertFields(a.fields);return b}},convertTime:function(a,b){if(a&&a.fields){var c=a.fields[0];b||(b={});return{column:this.convertFields(a.fields),showAxis:this.convertDefaultTrue(b.showTime,a.showAxis),showTitle:this.convertDefaultTrue(b.showTimeTitle,a.showTitle),title:b.timeTitle||a.label||"",granularity:a.granularity,
formats:a.formats,predictiveLine:c&&c.predictiveLine,size:a.size,titleMaxLines:a.titleMaxLines||1}}},convertPlots:function(a,b,c){if(a)return a.fields.map(function(a){return{column:[a.column],mark:a.mark,color:a.color,series:a.series,aggregationLevel:a.subtotals?1:0,axis:a.axis,valueType:a.mark===Fl.MARK_TYPE.LINE?c:b}})},sanitizeStackConfig:function(a){!a.split&&a.color&&(a.split=wz.createDefaultSplitConfig(a.color,"fields"))},fixColorAndDimensionForStackBarChart:function(a){var b=a.dimension&&a.dimension.fields,
c=a.color&&a.color.fields;b&&c&&(a.dimension.fields=b.filter(function(a){return c[0].column!==a.column}))},fixColorAndDimensionForBarChart:function(a){var b=a.dimension&&a.dimension.fields||[];a.color&&(a.color.fields&&0<a.color.fields.length)&&(b.push(a.color.fields[0]),a.dimension.fields=b);1<b.length&&!a.color&&(a.color={fields:b.slice(-1)})}};cb.getMetadata=function(){return vz.default};var re={};"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.getMetadata=void 0;var Qi=Gh(U),
Oq=Gh($),xz=Gh(Rc),yz=Gh({moduleName:"sfdc-pie-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-pie-chart",$schema:"http://json-schema.org/draft-07/schema#",description:"Schema for Pie Chart",type:"object",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},"with":{properties:{centerText:{type:"string"},centerValueType:{"enum":["compactNumber","none","number","percent","text"]},dimension:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/dimension"},
inner:{type:"integer"},showMeasureTitle:{type:"boolean"},showPercentage:{type:"boolean"},total:{type:"number"},valueType:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/valueType"}}}}},name:"Pie Chart",shortname:"Pie"}),Ed=Oq.default.utils,Gl=Ed.rowsUtils,zz=Ed.columnUtils,Hl=Ed.plotUtils,Vg=Ed.configUtils,Pq=Ed.valueFctUtils,Az=Ed.mathUtils,Bz=Ed.layoutUtils,Fd=Ed.constants,Cz=Oq.default.shapes.Arc,Ri=Fd.VALUETYPE,Dz=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=
a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getChartProperties=function(){var a=this.config,b=Vg.getColumns(a,"dimension")[0],d=[b],g=Vg.getColumns(a,"plots"),k=Vg.getTooltipColumns(a,"plots","dimension");return{layout:"FlatWithHeader",dimensionColumn:b,keyColumns:d,measureColumns:g,tooltipColumns:k,markType:Fd.MARK_TYPE.DOT,axisTitleMaxLines:[a.plots[0].titleMaxLines||1]}};b.prototype.getDefaultConfig=function(){return Qi.default.extend(a.prototype.getDefaultConfig.call(this),
{inner:Fd.MARK.PIE.INNER_RADIUS_PERCENT,centerValueType:Fd.CENTER_VALUE_TYPE.COMPACT_NUMBER,showMeasureTitle:!0})};b.prototype.sanitizeConfig=function(){a.prototype.sanitizeConfig.call(this);var b=this.config,f=b.showMeasureTitle,d=b.inner,g=b.valueType;0>d&&(d=0);99<d&&(d=99);b.inner=d;b.valueType=Vg.sanitizeValueTypeConfig(g);b.layout={showMeasureTitle:f}};b.prototype.plot=function(b,f,d){var g=this.chartProperties.measureColumns[0],k=zz.defaultText(g.getLabel(),g.getName());this.cellRendererConfigs=
{title:Bz.getTitleCellRendererConfig(this.config,k,g,this.getChartProperties().axisTitleMaxLines)};a.prototype.plot.call(this,b,f,d)};b.prototype.plotCell=function(a){var b=this,d=a.scene,g=a.rows,k=a.cell,m=a.layer;a=this.config;var n=this.chartLayouts.colorLayouts[Object.keys(this.chartLayouts.colorLayouts)[0]],p=Vg.getPlotColorColumn(a),s=this.chartProperties.measureColumns[0],r=Pq.getValueFct({field:s}),A=a.theme,t=a.valueType,w=a.showPercentage,z=a.inner,v=a.centerValueType,y=a.centerText,x=
n&&n.getScale(),g=Gl.filterOutRowsWithMissingFields(g,s),n=a.total,B=this._radius(k),C=B*z/100;m.set({key:s.getName(),x:k.get("w")/2,y:B,canSelect:!0,canHover:!0,staggerAnim:!1});var D=this.getKeyFct(),F=Pq.getValueFct({field:p}),L,E;void 0!==n&&("number"===typeof n?L=E=n:console.warn("EclairNG:sfdc/charts/pie.js::field 'total' in config parameter should be a number"));void 0===L&&(L=Gl.measureSum(g,s,!0));void 0===E&&(E=Gl.measureSum(g,s));var G=s.getName();if(Qi.default.some(g,function(a){return 0!==
r(a)})){g.forEach(function(a){var b=r(a),c=0<=b;new Cz({layer:m,r1:B-(c?0:1),r2:C+(c?0:1),angle:Math.abs(b),startAngle:0,fill:x.scale(F(a)).adjustOpacity(c?1:0.1),stroke:x.scale(F(a)),lineWidth:c?0:1,key:D(a),data:{row:a},accessibility:{type:Fd.ACCESSIBILITY.TYPE.DATA}})});m.applyLayout({type:"stackAngle"});g=m.getChildren();L=Qi.default.last(g).get();var I=2*Math.PI/(L.angle+L.startAngle),H=A.getTextColorOnLight(),J=A.getTextColorOnDark();L=Math.min(B-C,0.6*B);var O=B-L/2,M=Math.max(L/(t===Ri.COMPACT_NUMBER&&
w?5.5:w?5:4),8),N=0.8*M,Q=Hl.getFormatInfo(a.valueType,s),P=Hl.getFormatInfo(Ri.PERCENT,s);g.forEach(function(a){a.set({angle:a.get("angle")*I,startAngle:a.get("startAngle")*I-Math.PI/2,textR:O});if(t!==Fd.VALUETYPE.NONE||w){var c=a.get(),d=c.data,c=c.stroke,g=0<=d.row[s.getName()],d=b._getArcTextsInfo(t,w,Q,P,d.row);a.set({textColorLight:g?H:c,textColorDark:g?J:c,text:d.text,subText:d.subText,fontSize:M,subTextFontSize:N})}})}if(v!==Fd.CENTER_VALUE_TYPE.NONE){a={centerValueType:v,centerText:y,theme:A,
format:s.getFormat(),number:E,x:k.get("w")/2,y:B,innerRadius:C,compact:v===Fd.CENTER_VALUE_TYPE.COMPACT_NUMBER};Hl.addInnerText(a).set({key:"center-total"}).appendTo(k);var V=k.find({type:"NumberText"})[0];V&&(d.onSelectionChanged=function(a){var b=E;a=Qi.default.filter(a.map(function(a){return m.shapeByKey(a)}));a.length&&(b=Az.sum(a.map(function(a){return a.get("data").row[G]})));V.set({number:b})})}};b.prototype._getArcTextsInfo=function(a,b,d,g,k){var m;a===Ri.COMPACT_NUMBER?(a=d.textFct(k),m=
b?"("+g.textFct(k)+")":void 0):a=a===Ri.PERCENT||b?g.textFct(k):d.textFct(k);return{text:a,subText:m}};b.prototype._radius=function(a){return Math.min(a.get("w")/2,a.get("h")/2)-1};return b}(xz.default);re.default=Dz;re.getMetadata=function(){return yz.default};var gf={};"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.getMetadata=void 0;var Ez=Rf(U),Fz=Rf($),Wg=Rf(cb),Gz=Rf(re),Hz=Rf({moduleName:"lightning-donut-chart",name:{section:"EclairConfig",id:"donutLongName",fallback:"Donut Chart"},
shortname:{section:"EclairConfig",id:"donutShortName",fallback:"Donut"},config:[{type:"MEASURE",label:{section:"EclairConfig",id:"value",fallback:"Value"},min:1,max:1,property:"measure"},{type:"DIMENSION",label:{section:"EclairConfig",id:"slicedBy",fallback:"Sliced By"},min:1,max:1,property:"dimension",colorable:!0},{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",
fallback:"Shortened Number"}},{value:"whole",label:{section:"EclairConfig",id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",label:{section:"EclairConfig",id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",id:"unitsThousands",fallback:"Thousands"}},{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",
id:"unitsTrillions",fallback:"Trillions"}}]},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showValues",fallback:"Show Values"},min:1,max:1,defaults:[!0],property:"showValues"},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showPercentages",fallback:"Show Percentages"},min:1,max:1,defaults:[!1],property:"showPercentage"},{type:"BOOLEAN",label:{section:"EclairConfig",id:"combineSmallGroups",fallback:'Combine Small Groups into "Others"'},min:1,max:1,defaults:[!0],property:"combineSmallGroups"},
{type:"BOOLEAN",label:{section:"EclairConfig",id:"showTotal",fallback:"Show Total"},min:1,max:1,defaults:[!0],property:"showCenterValue"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",id:"decimalPlaces",fallback:"Decimal Places"},min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",id:"decimalPlacesZero",fallback:"0"}},{value:"1",label:{section:"EclairConfig",id:"decimalPlacesOne",fallback:"1"}},
{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",label:{section:"EclairConfig",id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",id:"decimalPlacesFour",fallback:"4"}},{value:"5",label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]},{type:"ENUM",property:"legendPosition",label:{section:"EclairConfig",id:"legendPosition",fallback:"Legend Position"},min:1,max:1,options:[{value:"Right",label:{section:"EclairConfig",
id:"legendPositionRight",fallback:"Right"}},{value:"Bottom",label:{section:"EclairConfig",id:"legendPositionBottom",fallback:"Bottom"}}]}]}),Il=Fz.default.utils,Iz=Il.configUtils,Jz=Il.dataUtils,Jl=Il.constants.VALUETYPE,Kz=function(a){function b(b,f,d){Ez.default.defaults(b,{inner:60,showMeasureTitle:!0});b.color=b.dimension;Wg.default.cleanseColor(b);b.legend=Wg.default.getLegend(b);d=Wg.default.convertAxis(b.measure);delete b.dimension;delete b.legendPosition;b.centerValueType=b.showCenterValue?
Wg.default.getValueType(b):Jl.NONE;b.valueType=b.showValues?Jl.COMPACT_NUMBER:Jl.NONE;Iz.defaultShowValues(b);b=Wg.default.convertSimpleChart(b);b.config.dimension=Jz.deepCopy(b.config.color);b.config.plots[0].titleMaxLines=d.titleMaxLines;a.call(this,b.config,f,b.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(Gz.default);gf.default=Kz;gf.getMetadata=function(){return Hz.default};var Xg={};"use strict";Object.defineProperty(Xg,"__esModule",
{value:!0});Xg.getMetadata=void 0;var Kl=Hh(U),Ll=Hh($),Lz=Hh(Rc),Mz=Hh({moduleName:"sfdc-funnel-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-funnel-chart",description:"Schema for Funnel Chart",type:"object",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},"with":{properties:{dimension:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/dimension"},scaleFont:{type:"boolean"},showMeasureTitle:{type:"boolean"},showPercentage:{type:"boolean"},
showTotal:{type:"boolean"},stemSegments:{type:"integer"},valueType:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/valueType"}}}}},name:"Funnel Chart",shortname:"Funnel"}),Gd=Ll.default.utils,jc=Gd.plotUtils,Yg=Gd.rowsUtils,Qq=Gd.columnUtils,Zg=Gd.configUtils,Nz=Gd.layoutUtils,Ml=Gd.valueFctUtils,Rq=Gd.constants,Nl=Gd.scales,Ol=Ll.default.shapes,Oz=Ol.Layer,Pz=Ol.Polygon,Pl=Ol.Text,Qz=Ll.default.formatNumber,Ql=Rq.VALUETYPE,Si,Ti,Rz=function(a){function b(b,f,d,g){a.call(this,
b,f,d,g);Si||(Si=jc.getDefaultFontSize());Ti||(Ti=jc.getMinFontSize())}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getDefaultConfig=function(){return Kl.default.extend(a.prototype.getDefaultConfig.call(this),{valueType:Ql.COMPACT_NUMBER,showPercentage:!1,showTotal:!1,stemSegments:0,showMeasureTitle:!0,scaleFont:!0})};b.prototype.getChartProperties=function(){var a=this.config,b=Zg.getColumns(a,"dimension")[0],d=[b],g=Zg.getColumns(a,"plots"),
k=Zg.getTooltipColumns(a,"plots","dimension");return{layout:"FlatWithHeader",keyColumns:d,dimensionColumn:b,measureColumns:g,tooltipColumns:k,axisTitleMaxLines:[a.plots[0].titleMaxLines||1]}};b.prototype.sanitizeConfig=function(){a.prototype.sanitizeConfig.call(this);var b=this.config,f=b.valueType,d=b.stemSegments;b.stemSegments=Math.floor(0>d?0:d);b.valueType=Zg.sanitizeValueTypeConfig(f);f=this.getPlot().color;Kl.default.defaults(f,{sortColor:!1});b.layout={showMeasureTitle:b.showMeasureTitle}};
b.prototype.plot=function(b,f,d,g){var k=this.chartProperties;g=k.dimensionColumn;k=k.measureColumns[0];f=Yg.filterOutRowsWithMissingFields(f,k);var m=Yg.measureSum(f,k,!0),n=Yg.measureSum(f,k),p=Qz(k.getFormat(),!0),n=Qq.defaultText(k.getLabel(),k.getName())+(b.showTotal?": "+p(n):"");this.cellRendererConfigs={title:Nz.getTitleCellRendererConfig(b,n,k,this.getChartProperties().axisTitleMaxLines)};g={dimension:g,measure:k,absSumTotal:m,measureFct:Ml.getValueFct({field:k}),keyFct:this.getKeyFct(),
colorFct:Ml.getValueFct({field:Zg.getPlotColorColumn(b)}),dimensionFct:Ml.getValueFct({field:g}),valueTextFormatInfo:jc.getFormatInfo(b.valueType,k),percentFormatInfo:jc.getFormatInfo(Ql.PERCENT,k)};a.prototype.plot.call(this,b,f,d,g)};b.prototype.plotCell=function(a){var b=this,d=a.cell,g=a.layer,k=a.rows,m=a.scene,n=a.ctx;a=this.config;var p=this.chartLayouts.colorLayouts[Object.keys(this.chartLayouts.colorLayouts)[0]].getScale(),k=Yg.filterOutRowsWithMissingFields(k,n.measure);g.set({key:n.measure.getName(),
staggerAnim:!0,canHover:!0,canSelect:!0});var s=new Oz({cell:d,key:"funnel-text"}),r=this.calculateFunnelWidthsAndHeight(d),A=r.funnelTopWidth,t=r.funnelBottomWidth,w=r.height,z=Kl.default.map(Qq.uniqueColumns(n.dimension,n.measure),"column"),r=0,v,y;0<a.stemSegments&&(r=this.computeStemRowsScaleHeight(k,A,t,w,n),v=r.stemRows,y=r.stemScale,r=r.stemHeight,w-=r,r*=t);if(0<k.length){var k=this.computeSegmentInfos(k,w,A,t,(A+t)*w/2+r,n),x=this.computeSegmentsScale(k,n),B=0,C=d.get("w")/2-k[0].tw/2;k.forEach(function(a){var c=
a.tw,d=a.bw,k=a.h;a=a.row;k={x:C+B,y:x.scale(n.keyFct(a)),tw:c,bw:d,h:k};b.drawFunnelSegment(a,k,p,z,g,s,n);B+=(c-d)/2})}if(0<a.stemSegments){var D=(d.get("w")-t)/2,E=0;v.forEach(function(a){var c=y.scale(Math.abs(n.measureFct(a)));b.drawFunnelSegment(a,{x:D,y:w+E,tw:t,bw:t,h:c},p,z,g,s,n);E+=c})}m.adjustRowToFit(d.get("row"))};b.prototype.computeStemRowsScaleHeight=function(a,b,d,g,k){var m=Math.min(this.config.stemSegments,a.length);a=a.splice(-m);m=Yg.measureSum(a,k.measure,!0);b=(b+d)*g/(b+d+
2*((k.absSumTotal-m)/m)*d);d=Nl.linear().domain([0,m]).range([0,b]);return{stemRows:a,stemScale:d,stemHeight:b}};b.prototype.computeSegmentsScale=function(a,b){var d=a.map(function(a){return b.keyFct(a.row)}),g=0,k=a.map(function(a){var b=g;g+=a.h;return b});return Nl.ordinal().domain(d).range(k)};b.prototype.computeSegmentInfos=function(a,b,d,g,k,m){var n=0,p=d,r=Nl.linear().domain([0,m.absSumTotal]).range([0,k]);return a.map(function(a){d=p;var c=Math.abs(m.measureFct(a)),c=0<c?r.scale(c):0,k=b-
n,w=d-g;if(0<c){var z=Math.sqrt(d*d*k*k-2*c*k*w),k=(d*k-z)/w;p=Math.abs(2*c/k-d);k?0>k&&(k=-k,p=Math.abs(2*c/k-d)):p=d}else k=0,p=d;n+=k;return{tw:d,bw:p,h:k,row:a}})};b.prototype.drawFunnelSegment=function(a,b,d,g,k,m,n){g=n.keyFct(a);var p=n.measureFct(a),r=n.colorFct(a),p=0<=p,u=d.scale(n.colorFct(a)),x=this.polygonPoints(b,p);new Pz({key:g,layer:k,fill:u.adjustOpacity(p?1:0.1),lineWidth:p?0:1,stroke:d.scale(r),points:x,data:{row:a},accessibility:{type:Rq.ACCESSIBILITY.TYPE.DATA}});this.drawSegmentText(b,
g,m,a,p,u,n,!1)};b.prototype.drawSegmentText=function(a,b,d,g,k,m,n,p){var r=a.x,u=a.y,x=a.tw,t=a.bw,w=a.h;void 0===p&&(p=!1);var z;this.config.scaleFont?(a=Math.min(0.2*Math.min(t,w),2*Si),a=Math.max(Ti,a),z=Math.ceil(0.76*a)):(a=Si,z=a-2);z=Math.max(Ti,z);var v=this.config,y=v.showPercentage,C=v.theme,B=v.valueType,v=n.percentFormatInfo;n=n.valueTextFormatInfo.textFct(g);v=v.textFct(g);B=B!==Ql.NONE;g=this.getAvailableWidths(x,t,w,a);var t=g[0],D=g[1];g=g[2];var E=this.doesTextFitOnOneLine(B,y,
n,v,t,w,a,z),D=this.doesTextFitOnTwoLines(n,v,D,g,w,a,z);!E&&(!D&&y)&&(y=!1,E=this.doesTextFitOnOneLine(B,y,n,v,t,w,a,z));if(E||D){n=this.getLabels(B,y,E,D,n,v,p);p=n.leftText;y=n.rightText;n=n.secondLineLabel;var v=u+w/2+(n?-a/2:0),u=u+w/2+a/2,F;p&&(F=k?m.toHighContrast(C.getTextColorOnLight(),C.getTextColorOnDark()):m,B=this.config.transforms,B.flipY&&n&&(w=v,v=u,u=w),w=jc.getTextWidth(p,a),D=y?jc.getTextWidth(y,z):0,B=B.rotate&&B.flipY,D=w+(y?2:0)+D,D=B?x-(x-D)/2:(x-D)/2,E=B?"right":"left",new Pl({layer:d,
x:r+D,y:v,stroke:F,valign:"middle",halign:E,text:p,key:"l1-left-"+b,maxWidth:t,size:a,skipInFind:!0}),y&&new Pl({layer:d,x:r+(D+(B?-w:w)),y:v,stroke:F,valign:"middle",halign:E,text:" "+y,key:"l1-right-"+b,maxWidth:t,size:z,skipInFind:!0}));n&&new Pl({layer:d,x:r+x/2,y:u,stroke:F||(k?m.toHighContrast(C.getTextColorOnLight(),C.getTextColorOnDark()):m),halign:"center",valign:"middle",text:n,key:"l2-"+b,maxWidth:g,size:z,skipInFind:!0})}};b.prototype.polygonPoints=function(a,b){var d=a.x,g=a.y,k=a.tw,
m=a.bw,n=a.h,n=n+(b?0:-1);return[[d,g],[d+k+(b?0:-1),g],[d+k/2+m/2+(b?0:-1),g+n],[d+k/2-m/2,g+n]]};b.prototype.calculateFunnelWidthsAndHeight=function(a){var b=a.get("h"),d=3*b/4;a.get("w")<d&&(d=a.get("w"),b=4*d/3);return{funnelTopWidth:d,funnelBottomWidth:d/2,height:b}};b.prototype.doesTextFitOnOneLine=function(a,b,d,g,k,m,n,p){var r=n+4,u;a&&b?u=jc.getTextWidth(d,n)+jc.getTextWidth(" ("+g+")",p)+6:a?u=jc.getTextWidth(d,n)+4:b&&(u=jc.getTextWidth(g,n)+4);return m>=r&&k>=u};b.prototype.doesTextFitOnTwoLines=
function(a,b,d,g,k,m,n){var p=m+n+6;a=jc.getTextWidth(a,m)+4;b=jc.getTextWidth("("+b+")",n)+4;return k>=p&&d>=a&&g>=b};b.prototype.getLabels=function(a,b,d,g,k,m,n){var p,r,u;if(a&&b)d&&!n?(p=k,r="("+m+")"):g&&(p=k,u="("+m+")");else if((a||b)&&d)p=a?k:m;return{leftText:p,rightText:r,secondLineLabel:u}};b.prototype.getAvailableWidths=function(a,b,d,g){if(a===b)return[b,b,b];a=0.5*(a-b)/d;return[a*(d-g)+b,a*d+b,a*(d-2*g)+b]};return b}(Lz.default);Xg.default=Rz;Xg.getMetadata=function(){return Mz.default};
var hf={};"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.getMetadata=void 0;var Sz=Sf(U),Tz=Sf($),$g=Sf(cb),Uz=Sf(Xg),Vz=Sf({moduleName:"lightning-funnel-chart",name:{section:"EclairConfig",id:"funnelLongName",fallback:"Funnel Chart"},shortname:{section:"EclairConfig",id:"funnelShortName",fallback:"Funnel"},config:[{type:"MEASURE",label:{section:"EclairConfig",id:"value",fallback:"Value"},min:1,max:1,property:"measure"},{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",
id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",label:{section:"EclairConfig",id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",label:{section:"EclairConfig",id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",id:"unitsThousands",fallback:"Thousands"}},{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",
fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",fallback:"Trillions"}}]},{type:"DIMENSION",label:{section:"EclairConfig",id:"color",fallback:"Color By"},min:1,max:1,property:"color",colorable:!0},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showValues",fallback:"Show Values"},min:1,max:1,defaults:[!0],property:"showValues"},{type:"BOOLEAN",label:{section:"EclairConfig",
id:"showPercentages",fallback:"Show Percentages"},min:1,max:1,defaults:[!1],property:"showPercentage"},{type:"BOOLEAN",label:{section:"EclairConfig",id:"combineSmallGroups",fallback:'Combine Small Groups into "Others"'},min:1,max:1,defaults:[!0],property:"combineSmallGroups"},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showTotal",fallback:"Show Total"},min:1,max:1,defaults:[!1],property:"showTotal"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",id:"decimalPlaces",fallback:"Decimal Places"},
min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",id:"decimalPlacesZero",fallback:"0"}},{value:"1",label:{section:"EclairConfig",id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",label:{section:"EclairConfig",id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",id:"decimalPlacesFour",fallback:"4"}},{value:"5",
label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]},{type:"ENUM",property:"legendPosition",label:{section:"EclairConfig",id:"legendPosition",fallback:"Legend Position"},min:1,max:1,options:[{value:"Right",label:{section:"EclairConfig",id:"legendPositionRight",fallback:"Right"}},{value:"Bottom",label:{section:"EclairConfig",id:"legendPositionBottom",fallback:"Bottom"}}]}]}),Rl=Tz.default.utils,Wz=Rl.configUtils,Xz=Rl.constants,Yz=Rl.dataUtils,Zz=function(a){function b(b,f,d){Sz.default.defaults(b,
{stemSegments:0,showMeasureTitle:!1});$g.default.cleanseColor(b);b.legend=$g.default.getLegend(b);d=$g.default.convertAxis(b.measure);delete b.dimension;delete b.legendPosition;b.valueType=b.showValues?$g.default.getValueType(b):Xz.VALUETYPE.NONE;Wz.defaultShowValues(b);b=$g.default.convertSimpleChart(b);b.config.dimension=Yz.deepCopy(b.config.color);b.config.plots[0].titleMaxLines=d.titleMaxLines;a.call(this,b.config,f,b.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);
return b.prototype.constructor=b}(Uz.default);hf.default=Zz;hf.getMetadata=function(){return Vz.default};var se={};"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.getMetadata=void 0;var Sq=Ih(U),$z=Ih($),aA=Ih(Rc),bA=Ih({moduleName:"sfdc-abstract-metric-chart"}),Ui=$z.default.utils,Vi=Ui.constants,Tq=Ui.configUtils,cA=Ui.rangeUtils,dA=Ui.plotUtils,eA=[33,66],fA=[0,100],gA=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);
b.prototype.constructor=b;b.prototype.getChartProperties=function(){return{layout:"Flat",measureColumns:Tq.getColumns(this.config,"plots"),tooltipColumns:Tq.getColumns(this.config,"plots")}};b.prototype.getDefaultConfig=function(){var b=a.prototype.getDefaultConfig.call(this),f=this.getDefaultBinning();return f?Sq.default.extend(b,{valueType:Vi.VALUETYPE.COMPACT_NUMBER,domain:fA,plots:[{color:{type:Vi.CHART_LAYOUT.COLOR_TYPE.BINS,breakpoints:f.breakpoints,bands:f.bands,column:this.getPlot().column}}]}):
b};b.prototype.getDefaultBinning=function(){var a=this.config.theme.getGradientBandColors().map(function(a){return{color:a.toJSON()}});return{breakpoints:eA,bands:a}};b.prototype.computePercent=function(a,b,d){void 0===a&&(a=0);void 0===d&&(d=[]);var g=b[0];b=b[1];null==g&&(g=d[0]);null==b&&(b=d[1]);return null==g||null==b||b===g?0:100*(a-g)/Math.abs(b-g)};b.prototype.computeValue=function(a,b,d,g){void 0===g&&(g=[]);return a.valueType===Vi.VALUETYPE.PERCENT?this.computePercent(b,d,g):b};b.prototype.getMeasureValue=
function(a){var b=this.chartProperties.measureColumns[0].getName();return a[b]};b.prototype.getFormatInfo=function(){return dA.getFormatInfo(this.config.valueType,this.chartProperties.measureColumns[0])};b.prototype.plotCell=function(a){var b=a.cell,d=a.layer;a=a.rows;var g=this.config,k=this.getMeasureValue(a[0]),m=this.getPlot(),n=this.getFormatInfo(),p=!this.getDefaultBinning(),m=Sq.default.map(m.referenceLines,"value"),g=cA.correctBreakpoints(g.domain,m.concat([k]),p),k=n.valueType!==Vi.VALUETYPE.NONE,
p=this.getMeasureValue(a[0]),m=(m=this.config.color)&&m.column?a[0][m.column[0].getName()]:p;this.drawMetric({cell:b,layer:d,row:a[0],formatInfo:n,adjustedDomain:g,showValue:k,value:p,colorValue:m})};return b}(aA.default);se.default=gA;se.getMetadata=function(){return bA.default};var ah={};"use strict";Object.defineProperty(ah,"__esModule",{value:!0});ah.getMetadata=void 0;var hA=Jh(U),bh=Jh($),iA=Jh(se),jA=Jh({moduleName:"sfdc-gauge-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-gauge-chart",
description:"Schema for Gauge Chart",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},"with":{properties:{angle:{description:"The number of degrees the gauge will span",type:"integer",minimum:90,maximum:270,"default":180},domain:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/domain"},showLabel:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showLabel"},showRange:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showRange"},
valueType:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/valueType"}}}}},name:"Gauge",shortname:"Gauge"}),Wi=bh.default.utils,kA=Wi.plotUtils,qb=Wi.constants,Uq=Wi.scales,lA=Wi.rangeUtils,kd=bh.default.shapes,mA=kd.Polygon,Vq=kd.ShapeGroup,nA=kd.Line,oA=kd.Arc,Sl=kd.NumberText,pA=kd.Point,Wq=kd.Layer,Xq=kd.Text,qA=kd.Rect,Tl=bh.default.formatNumber,jf=bh.default.LOC,rA=bh.default.Settings,sA=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=
Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getDefaultConfig=function(){return hA.default.extend(a.prototype.getDefaultConfig.call(this),{angle:qb.MARK.GAUGE.ANGLE,inner:qb.MARK.GAUGE.INNER_RADIUS_PERCENT,showPercentage:!1,showValue:!0,showRange:!0,showLabel:!0})};b.prototype.getDefaultBinning=function(){var b=a.prototype.getDefaultBinning.call(this),f=this.config.theme.getFlatBandColors(),d=[jf.getLabel("@salesforce/charts","low"),jf.getLabel("@salesforce/charts","medium"),
jf.getLabel("@salesforce/charts","high")];b.bands.forEach(function(a,b){a.color=f[b];a.label=d[b]});return b};b.prototype.getDataFormatter=function(){var b=a.prototype.getDataFormatter.call(this);b.setFormatterFunction(function(a){return[{label:"",value:a.range}]});return b};b.prototype.drawMetric=function(a){var b=a.cell,d=a.layer,g=a.formatInfo,k=a.adjustedDomain,m=a.showValue,n=a.value,p=a.colorValue,r=this.config;a=r.transforms.flipY||!1;var u=r.domain,x=r.theme,t=b.get("w"),w=b.get("h"),z=[t,
w],v=qb.MARK.GAUGE.MAX_ANGLE*Math.PI/180,y=Math.min(v,Math.max(r.angle*Math.PI/180,qb.MARK.GAUGE.MIN_ANGLE*Math.PI/180)),C=(Math.PI+y)/2,B=this.chartProperties.measureColumns[0],D=g.compact,E=B.getFormat(),F=r.showPercentage,G=r.showRange,I=r.showLabel,H=Uq.linear().domain([0,Math.PI/2]).range([w/6,2*w/3]),J=y-Math.PI,O=0>=J,H=O?G||I||m||F?G||I?5*w/7:4*w/5:14*w/15:w-H.scale(J/2),H=Math.min(t/2,H)-2,M=H*r.inner/100,N=[z[0]/2,H];d.set({key:"text",canSelect:!1,staggerAnim:!1});for(var Q=new Wq({cell:b,
key:"valueLabel",canSelect:!0,canHover:!0,staggerAnim:!1}),V=new Wq({cell:b,key:"gauge",canSelect:!1,canHover:!0,staggerAnim:!1}),P=Tl(B.getFormat(),D),R=this.getPlot().color,S=[k[0]],W=[],U=0;U<R.breakpoints.length;U++){var Z=R.breakpoints[U];if(Z>k[0]&&Z<=k[1])S.push(Z),W.push(R.bands[U]);else if(Z>k[1]){W.push(R.bands[U]);break}}S[S.length-1]!==k[1]&&(S.push(k[1]),W.length!==S.length-1&&W.push(R.bands[R.bands.length-1]));V.set({accessibility:{type:qb.ACCESSIBILITY.TYPE.CAPTION,key:qb.ACCESSIBILITY.CAPTION_KEY.BREAKPOINTS,
value:S.map(P).join(" ")}});p=this.chartLayouts.colorLayouts[Object.keys(this.chartLayouts.colorLayouts)[0]].getScale().scale(p)||x.getDimensionAxisTextColor();R=O?H:M;Z=F&&m?Math.round(R/8):Math.round(R/6);U=Uq.linear().domain([0,v-Math.PI]).range([H/6,H/2]);R=v=null;J=O?N[1]+H/6:N[1]+U.scale(J);U=J+Z+qb.MIN_FONT_SIZE-w;0<U&&(N[1]-=U,H-=U,M-=U,J-=U);var $=null,aa=U=null;F&&(U=this.computePercent(n,u,k),k=0<=U?"#%":rA.isRTL()?"#%-":"-#%",aa=[m?"("+k+")":k,1],$=Tl(aa,!0)(Math.abs(U)));k=Math.max(y,
Math.PI);k=Math.min(2*Math.tan(Math.PI-k/2-3*Math.PI/180)*(J-N[1]),t);P=[m?P(n):null,$].filter(function(a){return a}).join(" ");u=(new Xq({text:P})).fitToSize(k-2*qb.PADDING,6*(w-J)/7,1,Z).get("size");k=new Vq({layer:Q,key:"measureLabelShapeGroup",canHover:!0,canSelect:!1});P=[];if(u>=qb.MIN_FONT_SIZE){m&&(r=jf.getLabel("@salesforce/charts","measureValue",[n]).toString(),v=new Sl({shapeGroup:k,key:"value"+g.keySuffix,layer:Q,x:N[0],y:J,size:u,valign:"middle",halign:"center",compact:D,format:E,number:n,
stroke:p,includeDescender:!1,data:{row:{range:r}}}),P.push(r));F&&(g=jf.getLabel("@salesforce/charts","percentile",[Number(U).toFixed(2)]).toString(),R=new Sl({shapeGroup:k,key:"percent",layer:Q,x:N[0],y:J,size:u,valign:"middle",halign:"center",format:aa,compact:!0,number:Math.abs(U),stroke:p,includeDescender:!1,data:{row:{range:g}}}),P.push(g));m&&F&&(g=kA.getTextWidth(v.get("text")+" "+R.get("text"),u),v.set({x:N[0]-g/2,halign:"left"}),R.set({x:N[0]+g/2,halign:"right"}));if(G||I)G=lA.formatBandLabel(n,
W,S,G,I),new Xq({shapeGroup:k,layer:Q,x:N[0],y:O&&!m&&!F?J:J+u,size:Math.max(10,2*u/3),halign:"center",valign:"middle",text:G,stroke:p,key:"bandText",maxWidth:2*Math.sin(Math.PI-Math.max(Math.PI,y)/2)*M-20,includeDescender:!0,data:{row:{range:G}}}),P.push(jf.getLabel("@salesforce/charts","inRange",[G]).toString());k.boundingBox()&&(m=k.boundingBox().padAll(12).toArray(),k.prepend(new qA({key:"ValueLabelFocusIndicator",layer:Q,canHover:!0,x:m[0],y:m[1],w:m[2],h:m[3],stroke:x.getBackgroundColor(),hoverStroke:p.dimColor(qb.HOVER_SHAPE_EFFECT.DIMMING_FACTOR),
lineWidth:2,data:{row:{range:P.toString()}},accessibility:{type:qb.ACCESSIBILITY.TYPE.DATA,key:qb.ACCESSIBILITY.CAPTION_KEY.GAUGE_LABEL}})));Q.set({accessibility:{type:qb.ACCESSIBILITY.TYPE.CAPTION,key:qb.ACCESSIBILITY.CAPTION_KEY.GAUGE_LABEL,value:P}})}else O&&(H=Math.min(t/2,14*w/15),M=H*r.inner/100,N=[z[0]/2,H]);m=y/(S[0]-S[S.length-1]);this.drawArcs({cell:b,breakpoints:S,gaugeLayer:V,r:H,offsetAngle:C,scaleRatio:m,innerRadius:M,measure:B,bands:W});this.drawTicks({breakpoints:S,layer:d,r:H,offsetAngle:C,
scaleRatio:m,innerRadius:M,totalAngle:y,gaugeCenter:N,format:E});this.drawNeedle({breakpoints:S,value:n,gaugeLayer:V,r:H,offsetAngle:C,scaleRatio:m,measure:B,innerRadius:M,isFlipY:a})};b.prototype.drawArcs=function(a){var b=a.cell,d=a.breakpoints,g=a.gaugeLayer,k=a.r,m=a.offsetAngle,n=a.scaleRatio,p=a.innerRadius,r=a.bands,u=[],x=Tl(a.measure.getFormat(),!1);for(a=1;a<d.length;a++){var t=Math.abs((d[a]-d[a-1])*n);1<=t*k&&u.push({angle:t,band:r[a-1],index:a})}u.forEach(function(a,b){var c=x(d[a.index-
1])+" - "+x(d[a.index]);new oA({layer:g,r1:k,r2:p,data:{row:{range:r[b].label?r[b].label+" ("+c+")":c}},angle:a.angle,startAngle:-m+0.1*Math.PI/180,fill:a.band.color,key:"breakpoint-"+a.index,roundedCornerStart:0===b,roundedCornerEnd:b===u.length-1,accessibility:{type:qb.ACCESSIBILITY.TYPE.DATA}})});g.applyLayout({type:"stackAngle"}).set({x:b.get("w")/2,y:k})};b.prototype.drawTicks=function(a){var b=a.breakpoints,d=a.layer,g=a.offsetAngle,k=a.scaleRatio,m=a.innerRadius,n=a.gaugeCenter,p=a.format;
a=Math.round(11*(a.totalAngle/Math.PI));0===a%2&&a--;for(var r=Math.abs(b[b.length-1]-b[0])/(a-1),u=Math.max(Math.min(0.06*m,14),10),x=0.95*m,t=m*(60>m?0.75:0.8),w=0;w<a;w++){var z=-g-r*w*k,v=this.getPositionAlongArc(n,m,z),y=this.getPositionAlongArc(n,x,z);new nA({layer:d,stroke:this.config.theme.getMeasureAxisTickMarkColor(),x0:v[0],y0:v[1],x1:y[0],y1:y[1],lineWidth:2,key:"tick"+w});if(40<t&&(10<u||0===w||w===a-1||(55>t?w===(a-1)/2:0===w%2)))z=this.getPositionAlongArc(n,t,z),new Sl({layer:d,x:z[0],
y:z[1],halign:"center",valign:"middle",size:u,compact:!0,format:p,number:b[0]+w*r,stroke:this.config.theme.getMeasureAxisTickLabelColor(),key:"ticklabel"+w,includeDescender:!0})}};b.prototype.drawNeedle=function(a){var b=a.gaugeLayer,d=a.scaleRatio,g=a.innerRadius,k=a.isFlipY,m=a.r/15;a=-a.offsetAngle-Math.abs(a.value-a.breakpoints[0])*d;d=new Vq({layer:b,key:"needleShapeGroup",canHover:!1,canSelect:!1});new pA({shapeGroup:d,layer:b,fill:this.config.theme.getGaugeNeedleColor(),r:m,x:0,y:0,key:"center",
canHover:!1,canSelect:!1});new mA({shapeGroup:d,layer:b,key:"needle",fill:this.config.theme.getGaugeNeedleColor(),angle:a,points:[[0,-m+(k?1:-1)],[0.68*g,0],[0,m]],canHover:!1,canSelect:!1})};b.prototype.getPositionAlongArc=function(a,b,d){return[a[0]+b*Math.cos(d),a[1]+b*Math.sin(d)]};return b}(iA.default);ah.default=sA;ah.getMetadata=function(){return jA.default};var kf={};"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.getMetadata=void 0;var tA=Kh($),uA=Kh(ah),xn=Kh(cb),vA=Kh({moduleName:"lightning-gauge-chart",
name:{section:"EclairConfig",id:"gaugeLongName",fallback:"Gauge"},shortname:{section:"EclairConfig",id:"gaugeShortName",fallback:"Gauge"},config:[{type:"MEASURE",label:{section:"EclairConfig",id:"measure",fallback:"Measure"},min:1,max:1,property:"measure",colorable:!1},{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",
label:{section:"EclairConfig",id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",label:{section:"EclairConfig",id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",id:"unitsThousands",fallback:"Thousands"}},{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",
fallback:"Trillions"}}]},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showPercentages",fallback:"Show Percentages"},min:1,max:1,defaults:[!1],property:"showPercentage"},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showValues",fallback:"Show Values"},min:1,max:1,defaults:[!0],property:"showValue"},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showRange",fallback:"Show Range"},min:1,max:1,defaults:[!1],property:"showRange"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",
id:"decimalPlaces",fallback:"Decimal Places"},min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",id:"decimalPlacesZero",fallback:"0"}},{value:"1",label:{section:"EclairConfig",id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",label:{section:"EclairConfig",id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",
id:"decimalPlacesFour",fallback:"4"}},{value:"5",label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]},{type:"RANGE",label:{section:"EclairConfig",id:"segmentRanges",fallback:"Segment Ranges"},colorable:!0,labelable:!0,extremas:!0,min:3,max:3,property:"ranges"}]}),gk=tA.default.utils.constants,wA=function(a){function b(b,f){var d=xn.default.convertSimpleChart(Xs(b));a.call(this,d.config,f,d.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=
b}(uA.default);kf.default=wA;kf.getMetadata=function(){return vA.default};var Xi={moduleName:"sfdc-combo-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-combo-chart",description:"Schema for Combo Chart",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},"with":{properties:{autoFitMode:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/autoFitMode"},lineWidth:{type:"integer"},axisMode:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/axisMode"},
barSpacer:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/barSpacer"},dimensionAxis:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/dimensionAxis"},hasNiceDomain:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/hasNiceDomain"},hoverPadding:{type:"integer"},stack:{type:"boolean"},missingValue:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/missingValue"},labelSize:{type:"integer"},barSize:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/barSize"},
pointRadius:{type:"integer"},r:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/r"},showPoints:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showPoints"},split:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/split"},timeAxis:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/timeAxis"},maxBarSize:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/maxBarSize"},minSpacer:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/minSpacer"},
showGridLines:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showGridLines"},spacerRatio:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/spacerRatio"},valueType:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/valueType"},valueTypeOnLine:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/valueType"}},patternProperties:{"^measureAxis\\d+$":{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/measureAxis"}}}}},
name:"Combo Chart",shortname:"Combo"},ld={};"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.getMetadata=void 0;var xA=Xi&&Xi.__esModule?Xi:{"default":Xi},yA=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}((vc&&vc.__esModule?vc:{"default":vc}).default);ld.default=yA;ld.getMetadata=function(){return xA.default};var lf={};"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.getMetadata=
void 0;var zA=Tf(U),AA=Tf($),mf=Tf(cb),BA=Tf(ld),CA=Tf({moduleName:"lightning-hbar-chart",name:{section:"EclairConfig",id:"hbarLongName",fallback:"Horizontal Bar Chart"},shortname:{section:"EclairConfig",id:"hbarShortName",fallback:"HBar"},config:[{type:"DIMENSION",label:{section:"EclairConfig",id:"yAxis",fallback:"Y-Axis"},min:1,max:2,multimetricMax:1,property:"dimension",colorable:!0},{type:"MEASURE",label:{section:"EclairConfig",id:"xAxis",fallback:"X-Axis"},min:1,max:4,multidimensionalMax:1,property:"measure",
colorable:!0,supportsReferenceLines:!0},{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",label:{section:"EclairConfig",id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",label:{section:"EclairConfig",id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",id:"unitsThousands",
fallback:"Thousands"}},{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",fallback:"Trillions"}}]},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showValues",fallback:"Show Values"},min:1,max:1,defaults:[!0],property:"showValues"},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showChatterPhotos",fallback:"Show Chatter Photos"},
min:1,max:1,defaults:[!1],property:"showChatterPhotos"},{type:"RADIO",label:{section:"EclairConfig",id:"axisRangeOptionX",fallback:"X-Axis Range"},legend:{section:"EclairConfig",id:"axisRangeOptionX",fallback:"X-Axis Range"},options:[{value:"auto","default":!0,label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"manual",label:{section:"EclairConfig",id:"custom",fallback:"Custom"}}],property:"axisRangeOption"},{type:"AXISRANGE",label:{section:"EclairConfig",id:"axisRangeOptionX",
fallback:"X-Axis Range"},property:"axisRange"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",id:"decimalPlaces",fallback:"Decimal Places"},min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",id:"decimalPlacesZero",fallback:"0"}},{value:"1",label:{section:"EclairConfig",id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",
label:{section:"EclairConfig",id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",id:"decimalPlacesFour",fallback:"4"}},{value:"5",label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]},{type:"ENUM",property:"legendPosition",label:{section:"EclairConfig",id:"legendPosition",fallback:"Legend Position"},min:1,max:1,options:[{value:"Right",label:{section:"EclairConfig",id:"legendPositionRight",fallback:"Right"}},{value:"Bottom",label:{section:"EclairConfig",
id:"legendPositionBottom",fallback:"Bottom"}}]}]}),Yq=AA.default.utils,DA=Yq.configUtils,Zq=Yq.constants,EA=function(a){function b(b,f){var d;zA.default.defaults(b,{barSize:25,barSpacer:1,autoFitMode:Zq.AUTOFIT_MODE.KEEP_LABELS});b.mode=Zq.CHART_MODE.CLUSTER;b.transforms.rotate=!1;b.respectColorAndDimension||mf.default.fixColorAndDimensionForBarChart(b);mf.default.cleanseColor(b);0<b.measure.fields.length&&mf.default.convertAxisDomain(b,b.measure.fields[0]);b.legend=mf.default.getLegend(b);delete b.legendPosition;
DA.defaultShowValues(b);d=b.valueType;var g=mf.default.getSanitizedValueTypeForLine(b.showValuesOnLine,d);d=mf.default.convertCartesianChart(b,d,g);a.call(this,d.config,f,d.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(BA.default);lf.default=EA;lf.getMetadata=function(){return CA.default};var nf={};"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.getMetadata=void 0;var FA=Uf(U),GA=Uf($),of=Uf(cb),HA=Uf(ld),IA=Uf({moduleName:"lightning-hcombo-chart"}),
$q=GA.default.utils,JA=$q.configUtils,ar=$q.constants,KA=function(a){function b(b,f,d){FA.default.defaults(b,{barSize:25,barSpacer:1,labelSize:25,lineWidth:2,autoFitMode:ar.AUTOFIT_MODE.KEEP_LABELS,missingValue:ar.MISSING_VALUE.CONNECT});b.transforms.rotate=!1;b.legend=of.default.getLegend(b);b.valueType=of.default.getValueType(b);delete b.legendPosition;delete b.axis1;delete b.axis2;of.default.cleanseColor(b);JA.defaultShowValues(b);of.default.sanitizeStackConfig(b);d=b.valueType;var g=of.default.getSanitizedValueTypeForLine(b.showValuesOnLine,
d);b=of.default.convertCartesianChart(b,d,g);a.call(this,b.config,f,b.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(HA.default);nf.default=KA;nf.getMetadata=function(){return IA.default};var te={};"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.getMetadata=void 0;var LA=Lh(U),MA=Lh($),NA=Lh(vc),OA=Lh({moduleName:"sfdc-line-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-line-chart",description:"Schema for Line Chart",
$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},"with":{properties:{autoFitMode:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/autoFitMode"},axisMode:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/axisMode"},dimensionAxis:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/dimensionAxis"},fillArea:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/fillArea"},
hasNiceDomain:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/hasNiceDomain"},missingValue:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/missingValue"},pointRadius:{type:"integer"},showGridLines:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showGridLines"},showPoints:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showPoints"},split:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/split"},
timeAxis:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/timeAxis"}},patternProperties:{"^measureAxis\\d+$":{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/measureAxis"}}}}},name:"Line Chart",shortname:"Line"}),br=MA.default.utils,PA=br.configUtils,QA=br.constants,RA=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getDefaultConfig=function(){return LA.default.extend(a.prototype.getDefaultConfig.call(this),
{fillArea:!0,showCrosshair:!0})};b.prototype.sanitizeConfig=function(){PA.setMarkType(this.config,QA.MARK_TYPE.LINE);a.prototype.sanitizeConfig.call(this)};return b}(NA.default);te.default=RA;te.getMetadata=function(){return OA.default};var pf={};"use strict";Object.defineProperty(pf,"__esModule",{value:!0});pf.getMetadata=void 0;var SA=Vf(U),TA=Vf($),qf=Vf(cb),UA=Vf(te),VA=Vf({moduleName:"lightning-line-chart",name:{section:"EclairConfig",id:"lineLongName",fallback:"Line Chart"},shortname:{section:"EclairConfig",
id:"lineShortName",fallback:"Line"},config:[{type:"DIMENSION",label:{section:"EclairConfig",id:"xAxis",fallback:"X-Axis"},role:"PRIMARY",min:1,max:2,multimetricMax:1,property:"dimension",colorable:!0},{type:"MEASURE",label:{section:"EclairConfig",id:"yAxis",fallback:"Y-Axis"},role:"PRIMARY",min:1,max:2,multidimensionalMax:1,property:"measure",colorable:!0,supportsReferenceLines:!0},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showValues",fallback:"Show Values"},min:1,max:1,defaults:[!1],property:"showValues"},
{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",label:{section:"EclairConfig",id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",label:{section:"EclairConfig",id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",id:"unitsThousands",fallback:"Thousands"}},
{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",fallback:"Trillions"}}]},{type:"RADIO",label:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},legend:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},options:[{value:"auto","default":!0,label:{section:"EclairConfig",
id:"automatic",fallback:"Automatic"}},{value:"manual",label:{section:"EclairConfig",id:"custom",fallback:"Custom"}}],property:"axisRangeOption"},{type:"AXISRANGE",label:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},property:"axisRange"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",id:"decimalPlaces",fallback:"Decimal Places"},min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",
id:"decimalPlacesZero",fallback:"0"}},{value:"1",label:{section:"EclairConfig",id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",label:{section:"EclairConfig",id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",id:"decimalPlacesFour",fallback:"4"}},{value:"5",label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]},{type:"ENUM",property:"legendPosition",label:{section:"EclairConfig",
id:"legendPosition",fallback:"Legend Position"},min:1,max:1,options:[{value:"Right",label:{section:"EclairConfig",id:"legendPositionRight",fallback:"Right"}},{value:"Bottom",label:{section:"EclairConfig",id:"legendPositionBottom",fallback:"Bottom"}}]}]}),Ul=TA.default.utils.constants,WA=function(a){function b(b,f,d){SA.default.defaults(b,{labelSize:25,lineWidth:2,autoFitMode:Ul.AUTOFIT_MODE.KEEP_LABELS,axisMode:Ul.AXIS_MODE.SYNC,missingValue:Ul.MISSING_VALUE.CONNECT});b.transforms.rotate=!0;d=b.dimension&&
b.dimension.fields||[];1<d.length&&!b.color&&(b.color={fields:[d.pop()]});qf.default.cleanseColor(b);0<b.measure.fields.length&&qf.default.convertAxisDomain(b,b.measure.fields[0]);b.legend=qf.default.getLegend(b);delete b.legendPosition;b.showValues||(b.valueType=qf.default.getSanitizedValueTypeForLine(b.showValues));qf.default.sanitizeStackConfig(b);d=b.valueType;b=qf.default.convertCartesianChart(b,d,d);a.call(this,b.config,f,b.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);
return b.prototype.constructor=b}(UA.default);pf.default=WA;pf.getMetadata=function(){return VA.default};var ch={};"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.getMetadata=void 0;var XA=Mh(U),cr=Mh($),YA=Mh(se),ZA=Mh({moduleName:"sfdc-metric-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-metric-chart",description:"Schema for Metric Chart",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},"with":{properties:{showLabel:{type:"boolean",
"default":!0},showRange:{type:"boolean","default":!0},valueType:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/valueType","default":"compactNumber"}}}}},name:"Metric",shortname:"Metric"}),Vl=cr.default.utils,Yi=Vl.constants,aB=Vl.rangeUtils,bB=Vl.plotUtils,dr=cr.default.shapes,cB=dr.NumberText,dB=dr.Text,eB=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getDefaultConfig=function(){return XA.default.extend(a.prototype.getDefaultConfig.call(this),
{showRange:!0,showLabel:!0,valueType:Yi.VALUETYPE.COMPACT_NUMBER})};b.prototype.sanitizeConfig=function(){a.prototype.sanitizeConfig.call(this);var b=this.config;b.valueType===Yi.VALUETYPE.PERCENT&&(b.valueType=Yi.VALUETYPE.COMPACT_NUMBER)};b.prototype.getDefaultBinning=function(){};b.prototype.drawMetric=function(a){var b=a.cell,d=a.layer,g=a.formatInfo,k=a.adjustedDomain;a=a.value;var m=this.config,n=m.showRange,m=m.showLabel,p=this.chartLayouts.colorLayouts[Object.keys(this.chartLayouts.colorLayouts)[0]],
r=p.getScale(),u=(p=p.getType()===Yi.CHART_LAYOUT.COLOR_TYPE.BINS)?0.16:0,x=1-u;d.set({key:"valueLabel",canSelect:!1,staggerAnim:!1});g=(new cB({layer:d,y:0,x:0,halign:"left",valign:"middle",format:g.format,compact:g.compact,number:this.computeValue(g,a,this.config.domain,k),stroke:r.scale(a),key:"metric",includeDescender:!0})).fitToSize(b.get("w"),b.get("h")*x,1,bB.getTextHeight(135));b=g.boundingBox().h;k=b/x;g.set({x:-0.015*k,y:b/2});p&&(g=Math.max(k*u,12),p=this.getPlot().color,k=p.bands,p=p.breakpoints,
p=[-Infinity].concat(p,[Infinity]),new dB({layer:d,x:0,y:b+g/2,size:g,halign:"left",valign:"middle",text:aB.formatBandLabel(a,k,p,n,m),stroke:r.scale(a),key:"bandDescriptor"}))};return b}(YA.default);ch.default=eB;ch.getMetadata=function(){return ZA.default};var rf={};"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.getMetadata=void 0;var fB=hk(ch),er=hk(cb),gB=hk({moduleName:"lightning-metric-chart",name:{section:"EclairConfig",id:"metricLongName",fallback:"Metric Chart"},shortname:{section:"EclairConfig",
id:"metricShortName",fallback:"Metric"},config:[{type:"MEASURE",label:{section:"EclairConfig",id:"measure",fallback:"Measure"},min:1,max:1,property:"measure",colorable:!1},{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",label:{section:"EclairConfig",id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",
label:{section:"EclairConfig",id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",id:"unitsThousands",fallback:"Thousands"}},{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",fallback:"Trillions"}}]},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showRange",fallback:"Show Range"},
min:1,max:1,defaults:[!1],property:"showRange"},{type:"RANGE",label:{section:"EclairConfig",id:"ranges",fallback:"Ranges"},colorable:!0,labelable:!0,extremas:!1,min:3,max:3,property:"ranges"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",id:"decimalPlaces",fallback:"Decimal Places"},min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",id:"decimalPlacesZero",fallback:"0"}},{value:"1",label:{section:"EclairConfig",
id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",label:{section:"EclairConfig",id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",id:"decimalPlacesFour",fallback:"4"}},{value:"5",label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]}]}),hB=function(a){function b(b,f){var d=er.default.convertSimpleChart(b);d.config.valueType=er.default.getValueType(b);a.call(this,Ys(d.config),f,
d.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(fB.default);rf.default=hB;rf.getMetadata=function(){return gB.default};var dh={};"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.getMetadata=void 0;var Wl=Nh(U),Zi=Nh($),iB=Nh(Rc),jB=Nh({moduleName:"sfdc-scatter-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-scatter-chart",description:"Schema for Scatter Chart",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},
"with":{properties:{hasNiceDomain:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/hasNiceDomain"},r:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/r"},x:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/measureAxis"},y:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/measureAxis"},shouldConnect:{type:"boolean"},showGridLines:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showGridLines"},
fillArea:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/fillArea"}}}}},name:"Scatter Plot",shortname:"Scatter"}),kB=Zi.default.shapes.Path,ue=Zi.default.utils,Tc=ue.configUtils,lB=ue.columnUtils,Xl=ue.rowsUtils,sf=ue.plotUtils,fr=ue.sceneUtils,mb=ue.constants,gr=ue.referenceLineUtils,Yl=Zi.default.chartLayouts.layoutsUtils,mB=Zi.default.color.colorUtils,nB=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=
b;b.prototype.getChartProperties=function(){var a=this.config,b=Tc.getColumns(a,"plots"),d=Tc.getPlotColorColumn(a),g=Tc.getColumns(a,"r")[0],b=lB.uniqueColumns(b,d),d=Tc.getColumns(a,"x","y","r"),k=b.slice(0,b.length-1),m=Tc.getTooltipColumns(a,"plots","x","y","r"),n=a.plots[0].color&&!mB.isColor(a.plots[0].color);return{layout:"AxisAxis",supportsSorting:!1,measureColumns:d,keyColumns:b,radiusColumn:g,tooltipColumns:m,percentGroupColumns:k,markType:mb.MARK_TYPE.DOT,showColorLegend:n,axisTitleMaxLines:[a.y.titleMaxLines,
a.x.titleMaxLines]}};b.prototype.getDefaultConfig=function(){return Wl.default.extend(a.prototype.getDefaultConfig.call(this),{valueType:mb.VALUETYPE.COMPACT_NUMBER,x:yn(),y:yn(),r:{column:[],radiusRatio:mb.MARK.POINT.MAX_RATIO},hasNiceDomain:!0,shouldConnect:!1,fillArea:!1,transforms:{rotate:!1},showGridLines:!0})};b.prototype.getChartLayouts=function(b,f){var d=a.prototype.getChartLayouts.call(this,b,f),g=this.config,k=g.x,m=g.y,n=g.hasNiceDomain,p=g.transforms,g=Yl.getChartRadiusLayout(g.r,g.size,
g.padding,this.rows),k={x:Yl.getChartNumericAxisLayout(k).setIsX(!0).setHasNiceTicks(k.showAxis&&n).setHasHorizontalTicks(!p.rotate),y:Yl.getChartNumericAxisLayout(m).setIsX(!1).setHasNiceTicks(m.showAxis&&n).setHasHorizontalTicks(p.rotate)};return Wl.default.extend(d,{radiusLayout:g,axisLayouts:k})};b.prototype.sanitizeConfig=function(){a.prototype.sanitizeConfig.call(this);var b=this.config,f=b.r,d=b.x,b=b.y;Tc.sanitizeAxis(d,d.column,!0);Tc.sanitizeAxis(b,b.column,!0);f.radiusRatio=null==f.radiusRatio?
mb.MARK.POINT.MAX_RATIO:Math.max(Math.min(f.radiusRatio,mb.MARK.POINT.MAX_RATIO),mb.MARK.POINT.MIN_RATIO)};b.prototype.plot=function(b,f,d){var g=b.x,k=b.y,m=b.valueType,n=fr.cellMap(d),p=n.axisX,n=n.axisY;d.get("transforms").rotate?p.showAxis&&p.adjustHeight(sf.getMeasureAxisCellHeight(g.format,m)):n.showAxis&&n.adjustWidth(sf.getMeasureAxisCellHeight(k.format,m));this.cellRendererConfigs={plot:{createLayer:!1},"axis-x-title":{type:mb.CELL_RENDERER_TYPE.TITLE,orientation:"x",axis:g,isDimension:!1},
"axis-y-title":{type:mb.CELL_RENDERER_TYPE.TITLE,orientation:"y",axis:k,isDimension:!1}};this.cellRenderingOrder=["plot"];a.prototype.plot.call(this,b,f,d)};b.prototype.plotCell=function(a){var b=a.rows;a=a.cell;var d=this.config,g=this.chartProperties.radiusColumn,k=this.chartLayouts,m=k.radiusLayout,k=k.axisLayouts,n=this.chartLayouts.colorLayouts[Object.keys(this.chartLayouts.colorLayouts)[0]],p=d.x.column[0],r=d.y.column[0],u=Tc.getPlotColorColumn(this.config),b=Xl.filterOutRowsWithMissingFields(b,
p,r,g),x=d.valueType!==mb.VALUETYPE.NONE,t=m.getScale(),n=n.getScale(),p={key:{value:this.getKeyFct()},x:{field:p},y:{field:r},r:{field:g,scale:t},fill:{field:u,scale:n},stroke:{field:u,scale:n},lineWidth:{value:1},accessibility:{value:{type:mb.ACCESSIBILITY.TYPE.DATA}}},b=sf.point(p,b).set({key:"plot-layer-scatter"}).appendTo(a),p=b.getChildren();sf.adjustPointFill(p,m,mb.MARK.DOT.OPACITY_POS_VALUE,mb.MARK.DOT.OPACITY_NEG_VALUE);var w=[];d.shouldConnect&&b.groupByField(u).forEach(function(a,b){var c=
a.getChildren();1<c.length&&w.push(new kB({points:c.sort(function(a,b){return a.get("x")-b.get("x")}).map(function(a){return[a.get("x"),a.get("y")]}),stroke:c[0].get("fill"),lineWidth:2,key:"shapeLines "+b}))}).flatten();g&&b.sortBy(function(a){return-a.get("r")});x&&g&&sf.addValueText(b,g,d);b.prependAll(w);k.x.addPlot(p);k.y.addPlot(p);this.w=a.get("w");this.h=a.get("h")};b.prototype.settleLayouts=function(){var b=this.chartLayouts.axisLayouts;b.x.setSize(this.w).settleAxisDomainInfo();b.y.setSize(this.h).settleAxisDomainInfo();
a.prototype.settleLayouts.call(this)};b.prototype.postPlot=function(a,b,d){var g=fr.cellMap(d),k=this.chartLayouts.axisLayouts,m=d.cellByKey("plot"),n=d.cellByKey("axis-x"),p=d.cellByKey("axis-y"),r=a.theme,u=a.x,x=a.y,t=m.get(),w=t.w,t=t.h,z=k.x.getScale(),v=k.y.getScale(),g=g.plot.getChildren()[0];a.fillArea&&sf.adjustLineFill(g,!0,a.theme.getLineFillAreaColor().toRGBA().a,k.x.showZero(),z);g.set({scales:{x:z,y:v},viewport:[0,0,w,t]}).flipY();var k=v.range(),y=z.range();g.set({brush:{key:g.key+
"-brushLayer",area:{width:y[y.length-1],height:-k[k.length-1]},color:{stroke:r.getBrushStrokeColor(),fill:r.getBrushFillColor()}}});this.renderCell(n,{type:mb.CELL_RENDERER_TYPE.MEASURE,orientation:"x",axis:u,scale:z,gridLineLength:t,drawGridLines:a.showGridLines,transforms:{flipY:!0}},{scene:d,rows:b});u.referenceLines&&gr.xRefLines({key:"reflines-x",cell:m,length:t,lines:u.referenceLines,scale:z,theme:r,formatMultiplier:Tc.getFormatMultiplier(u)}).flipY();this.renderCell(p,{type:mb.CELL_RENDERER_TYPE.MEASURE,
orientation:"y",axis:x,scale:v,gridLineLength:w,drawGridLines:a.showGridLines},{scene:d,rows:b});x.referenceLines&&gr.yRefLines({key:"reflines-y",cell:m,length:w,lines:x.referenceLines,scale:v,theme:r,formatMultiplier:Tc.getFormatMultiplier(x)})};b.prototype.hasMeasures=function(a){a=Xl.filterOutRowsWithMissingFields.apply(Xl,[a].concat(this.chartProperties.measureColumns));return!Wl.default.isEmpty(a)};return b}(iB.default);dh.default=nB;dh.getMetadata=function(){return jB.default};var tf={};"use strict";
Object.defineProperty(tf,"__esModule",{value:!0});tf.getMetadata=void 0;var oB=Wf(U),hr=Wf($),pB=Wf(dh),Hd=Wf(cb),qB=Wf({moduleName:"lightning-scatter-chart",name:{section:"EclairConfig",id:"scatterLongName",fallback:"Scatter Chart"},shortname:{section:"EclairConfig",id:"scatterShortName",fallback:"Scatter"},config:[{type:"MEASURE",label:{section:"EclairConfig",id:"xAxis",fallback:"X-Axis"},min:1,max:1,property:"x",colorable:!1,supportsReferenceLines:!0},{type:"MEASURE",label:{section:"EclairConfig",
id:"yAxis",fallback:"Y-Axis"},min:1,max:1,property:"y",colorable:!1,supportsReferenceLines:!0},{type:"DIMENSION",label:{section:"EclairConfig",id:"detail",fallback:"Detail"},min:1,max:1,role:"PRIMARY",property:"dimension",colorable:!1},{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",label:{section:"EclairConfig",
id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",label:{section:"EclairConfig",id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",id:"unitsThousands",fallback:"Thousands"}},{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",fallback:"Trillions"}}]},{type:"OR",
nullable:!0,label:{section:"EclairConfig",id:"add",fallback:"Add"},config:[{type:"DIMENSION",label:{section:"EclairConfig",id:"colorBy",fallback:"Color By"},min:1,max:1,role:"SECONDARY",property:"color",colorable:!0}]},{type:"RADIO",label:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},legend:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},options:[{value:"auto","default":!0,label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"manual",
label:{section:"EclairConfig",id:"custom",fallback:"Custom"}}],property:"axisRangeOption"},{type:"AXISRANGE",label:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},property:"axisRange"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",id:"decimalPlaces",fallback:"Decimal Places"},min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",id:"decimalPlacesZero",fallback:"0"}},
{value:"1",label:{section:"EclairConfig",id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",label:{section:"EclairConfig",id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",id:"decimalPlacesFour",fallback:"4"}},{value:"5",label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]},{type:"ENUM",property:"legendPosition",label:{section:"EclairConfig",id:"legendPosition",fallback:"Legend Position"},
min:1,max:1,options:[{value:"Right",label:{section:"EclairConfig",id:"legendPositionRight",fallback:"Right"}},{value:"Bottom",label:{section:"EclairConfig",id:"legendPositionBottom",fallback:"Bottom"}}]}]}),rB=hr.default.utils.configUtils,sB=hr.default.rowsMetadata.rowsMetadataUtils,tB=function(a){function b(b,f,d){b.r||(b.r={});oB.default.defaults(b.r,{radiusRatio:2});Hd.default.cleanseColor(b);b.legend=Hd.default.getLegend(b);rB.defaultShowValues(b);delete b.legendPosition;d=b.x;var g=b.y,k=sB.getRowsMetadataFromConfig(b);
b.x=Hd.default.convertAxis(d);b.y=Hd.default.convertAxis(g);Hd.default.convertAxisDomain(b,b.y);Hd.default.convertFields2Column(b);Hd.default.convertDimensionMeasure2Plots(b);Hd.default.convertHasTooltip(b);a.call(this,b,f,k)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(pB.default);tf.default=tB;tf.getMetadata=function(){return qB.default};var uf={};"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.getMetadata=void 0;var uB=Xf(U),vB=
Xf($),wB=Xf(qe),vf=Xf(cb),xB=Xf({moduleName:"lightning-stackhbar-chart",name:{section:"EclairConfig",id:"stackhbarLongName",fallback:"Stacked Horizontal Bar Chart"},shortname:{section:"EclairConfig",id:"stackhbarShortName",fallback:"StackHBar"},config:[{type:"DIMENSION",label:{section:"EclairConfig",id:"yAxis",fallback:"Y-Axis"},min:1,max:1,role:"PRIMARY",property:"dimension"},{type:"MEASURE",label:{section:"EclairConfig",id:"xAxis",fallback:"X-Axis"},min:1,max:1,property:"measure",supportsReferenceLines:!0},
{type:"DIMENSION",label:{section:"EclairConfig",id:"stackBy",fallback:"Stack By"},min:1,max:1,role:"SECONDARY",property:"color",colorable:!0},{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",label:{section:"EclairConfig",id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",label:{section:"EclairConfig",
id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",id:"unitsThousands",fallback:"Thousands"}},{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",fallback:"Trillions"}}]},{type:"BOOLEAN",label:{section:"EclairConfig",id:"normalizeValues",fallback:"Stack to 100%"},min:1,
max:1,defaults:[!1],property:"normalize"},{type:"RADIO",label:{section:"EclairConfig",id:"axisRangeOptionX",fallback:"X-Axis Range"},legend:{section:"EclairConfig",id:"axisRangeOptionX",fallback:"X-Axis Range"},options:[{value:"auto","default":!0,label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"manual",label:{section:"EclairConfig",id:"custom",fallback:"Custom"}}],property:"axisRangeOption"},{type:"AXISRANGE",label:{section:"EclairConfig",id:"axisRangeOptionX",fallback:"X-Axis Range"},
property:"axisRange"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",id:"decimalPlaces",fallback:"Decimal Places"},min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",id:"decimalPlacesZero",fallback:"0"}},{value:"1",label:{section:"EclairConfig",id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",label:{section:"EclairConfig",
id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",id:"decimalPlacesFour",fallback:"4"}},{value:"5",label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]},{type:"ENUM",property:"legendPosition",label:{section:"EclairConfig",id:"legendPosition",fallback:"Legend Position"},min:1,max:1,options:[{value:"Right",label:{section:"EclairConfig",id:"legendPositionRight",fallback:"Right"}},{value:"Bottom",label:{section:"EclairConfig",id:"legendPositionBottom",fallback:"Bottom"}}]}]}),
ir=vB.default.utils,yB=ir.configUtils,jr=ir.constants,zB=function(a){function b(b,f,d){uB.default.defaults(b,{showValues:!1,barSize:25,barSpacer:1,autoFitMode:jr.AUTOFIT_MODE.KEEP_LABELS});b.mode=jr.CHART_MODE.STACK;b.transforms.rotate=!1;b.respectColorAndDimension||vf.default.fixColorAndDimensionForStackBarChart(b);vf.default.cleanseColor(b);0<b.measure.fields.length&&vf.default.convertAxisDomain(b,b.measure.fields[0]);b.legend=vf.default.getLegend(b);delete b.legendPosition;vf.default.sanitizeStackConfig(b);
yB.defaultShowValues(b);b=vf.default.convertCartesianChart(b,b.valueType);a.call(this,b.config,f,b.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(wB.default);uf.default=zB;uf.getMetadata=function(){return xB.default};var wf={};"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.getMetadata=void 0;var AB=Yf(U),BB=Yf($),CB=Yf(ld),xf=Yf(cb),DB=Yf({moduleName:"lightning-stackvbar-chart",name:{section:"EclairConfig",id:"stackvbarLongName",
fallback:"Stacked Vertical Bar Chart"},shortname:{section:"EclairConfig",id:"stackvbarShortName",fallback:"StackVBar"},config:[{type:"DIMENSION",label:{section:"EclairConfig",id:"xAxis",fallback:"X-Axis"},min:1,max:1,role:"PRIMARY",property:"dimension"},{type:"MEASURE",label:{section:"EclairConfig",id:"yAxis",fallback:"Y-Axis"},min:1,max:2,property:"measure",supportsReferenceLines:!0,secondMeasureIsLine:!0},{type:"DIMENSION",label:{section:"EclairConfig",id:"stackBy",fallback:"Stack By"},min:1,max:1,
role:"SECONDARY",property:"color",colorable:!0},{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",label:{section:"EclairConfig",id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",label:{section:"EclairConfig",id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",
id:"unitsThousands",fallback:"Thousands"}},{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",fallback:"Trillions"}}]},{type:"BOOLEAN",label:{section:"EclairConfig",id:"normalizeValues",fallback:"Stack to 100%"},min:1,max:1,defaults:[!1],property:"normalize"},{type:"RADIO",label:{section:"EclairConfig",id:"axisRangeOptionY",
fallback:"Y-Axis Range"},legend:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},options:[{value:"auto","default":!0,label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"manual",label:{section:"EclairConfig",id:"custom",fallback:"Custom"}}],property:"axisRangeOption"},{type:"AXISRANGE",label:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},property:"axisRange"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",id:"decimalPlaces",
fallback:"Decimal Places"},min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",id:"decimalPlacesZero",fallback:"0"}},{value:"1",label:{section:"EclairConfig",id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",label:{section:"EclairConfig",id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",id:"decimalPlacesFour",
fallback:"4"}},{value:"5",label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]},{type:"ENUM",property:"legendPosition",label:{section:"EclairConfig",id:"legendPosition",fallback:"Legend Position"},min:1,max:1,options:[{value:"Right",label:{section:"EclairConfig",id:"legendPositionRight",fallback:"Right"}},{value:"Bottom",label:{section:"EclairConfig",id:"legendPositionBottom",fallback:"Bottom"}}]}]}),kr=BB.default.utils,EB=kr.configUtils,lr=kr.constants,FB=function(a){function b(b,
f,d){AB.default.defaults(b,{showValues:!1,barSize:25,barSpacer:1,autoFitMode:lr.AUTOFIT_MODE.KEEP_LABELS});b.mode=lr.CHART_MODE.STACK;b.transforms.rotate=!0;b.respectColorAndDimension||xf.default.fixColorAndDimensionForStackBarChart(b);xf.default.cleanseColor(b);0<b.measure.fields.length&&xf.default.convertAxisDomain(b,b.measure.fields[0]);b.legend=xf.default.getLegend(b);delete b.legendPosition;xf.default.sanitizeStackConfig(b);EB.defaultShowValues(b);b=xf.default.convertCartesianChart(b,b.valueType);
a.call(this,b.config,f,b.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(CB.default);wf.default=FB;wf.getMetadata=function(){return DB.default};var ve={};"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.getMetadata=void 0;var mr=Oh(U),GB=Oh($),HB=Oh(vc),IB=Oh({moduleName:"sfdc-timeline-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-timeline-chart",description:"Schema for Timeline Chart",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},
"with":{properties:{autoFitMode:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/autoFitMode"},axisMode:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/axisMode"},fillArea:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/fillArea"},hasNiceDomain:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/hasNiceDomain"},labelSize:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/labelSize"},
missingValue:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/missingValue"},pointRadius:{type:"integer"},showGridLines:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showGridLines"},showPoints:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showPoints"},split:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/split"},timeAxis:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/timeAxis"}},
patternProperties:{"^measureAxis\\d+$":{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/measureAxis"}}}}},name:"Time Line",shortname:"Timeline"}),nr=GB.default.utils,JB=nr.configUtils,$i=nr.constants,KB=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getChartProperties=function(){return mr.default.extend(a.prototype.getChartProperties.call(this),{markType:$i.MARK_TYPE.LINE})};
b.prototype.getDefaultConfig=function(){return mr.default.extend(a.prototype.getDefaultConfig.call(this),{time:{},fillArea:!0,autoFitMode:$i.AUTOFIT_MODE.FIT,pointRadius:$i.MARK.LINE.TIME_POINT_RADIUS,showCrosshair:!0})};b.prototype.sanitizeConfig=function(){JB.setMarkType(this.config,$i.MARK_TYPE.LINE);a.prototype.sanitizeConfig.call(this)};b.prototype.isTimeChart=function(){return!0};return b}(HB.default);ve.default=KB;ve.getMetadata=function(){return IB.default};var yf={};"use strict";Object.defineProperty(yf,
"__esModule",{value:!0});yf.getMetadata=void 0;var LB=ik(ve),Zl=ik(cb),MB=ik({moduleName:"lightning-timeline-chart"}),NB=function(a){function b(b,f,d){b.transforms.rotate=!0;Zl.default.sanitizeStackConfig(b);d=Zl.default.getSanitizedValueTypeForLine(b.showValues);b=Zl.default.convertCartesianChart(b,d,d);a.call(this,b.config,f,b.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(LB.default);yf.default=NB;yf.getMetadata=function(){return MB.default};
var zf={};"use strict";Object.defineProperty(zf,"__esModule",{value:!0});zf.getMetadata=void 0;var OB=Zf(U),PB=Zf($),Af=Zf(cb),QB=Zf(ld),RB=Zf({moduleName:"lightning-vbar-chart",name:{section:"EclairConfig",id:"vbarLongName",fallback:"Vertical Bar Chart"},shortname:{section:"EclairConfig",id:"vbarShortname",fallback:"VBar"},config:[{type:"DIMENSION",label:{section:"EclairConfig",id:"xAxis",fallback:"X-Axis"},min:1,max:2,multimetricMax:2,property:"dimension",colorable:!0},{type:"MEASURE",label:{section:"EclairConfig",
id:"yAxis",fallback:"Y-Axis"},min:1,max:4,multidimensionalMax:2,property:"measure",colorable:!0,supportsReferenceLines:!0,supportsLineForSecondMeasure:!0},{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",label:{section:"EclairConfig",id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",label:{section:"EclairConfig",
id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",id:"unitsThousands",fallback:"Thousands"}},{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",fallback:"Trillions"}}]},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showValues",fallback:"Show Values"},min:1,max:1,
defaults:[!0],property:"showValues"},{type:"RADIO",label:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},legend:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},options:[{value:"auto","default":!0,label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"manual",label:{section:"EclairConfig",id:"custom",fallback:"Custom"}}],property:"axisRangeOption"},{type:"AXISRANGE",label:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},
property:"axisRange"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",id:"decimalPlaces",fallback:"Decimal Places"},min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",id:"decimalPlacesZero",fallback:"0"}},{value:"1",label:{section:"EclairConfig",id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",label:{section:"EclairConfig",
id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",id:"decimalPlacesFour",fallback:"4"}},{value:"5",label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]},{type:"ENUM",property:"legendPosition",label:{section:"EclairConfig",id:"legendPosition",fallback:"Legend Position"},min:1,max:1,options:[{value:"Right",label:{section:"EclairConfig",id:"legendPositionRight",fallback:"Right"}},{value:"Bottom",label:{section:"EclairConfig",id:"legendPositionBottom",fallback:"Bottom"}}]}]}),
or=PB.default.utils,SB=or.configUtils,pr=or.constants,TB=function(a){function b(b,f,d){OB.default.defaults(b,{barSize:25,barSpacer:1,labelSize:25,lineWidth:2,autoFitMode:pr.AUTOFIT_MODE.KEEP_LABELS});b.mode=pr.CHART_MODE.CLUSTER;b.transforms.rotate=!0;b.respectColorAndDimension||Af.default.fixColorAndDimensionForBarChart(b);Af.default.cleanseColor(b);0<b.measure.fields.length&&Af.default.convertAxisDomain(b,b.measure.fields[0]);b.legend=Af.default.getLegend(b);delete b.legendPosition;null==b.showValuesOnLine&&
(b.showValuesOnLine=b.showValues);SB.defaultShowValues(b);d=b.valueType;var g=Af.default.getSanitizedValueTypeForLine(b.showValuesOnLine,d);b=Af.default.convertCartesianChart(b,d,g);a.call(this,b.config,f,b.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(QB.default);zf.default=TB;zf.getMetadata=function(){return RB.default};var Bf={};"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.getMetadata=void 0;var UB=$f(U),VB=$f($),
eh=$f(cb),WB=$f(ld),XB=$f({moduleName:"lightning-vcombo-chart"}),qr=VB.default.utils,YB=qr.configUtils,rr=qr.constants,ZB=function(a){function b(b,f,d){UB.default.defaults(b,{barSize:25,barSpacer:1,labelSize:25,lineWidth:2,autoFitMode:rr.AUTOFIT_MODE.KEEP_LABELS,missingValue:rr.MISSING_VALUE.CONNECT});b.transforms.rotate=!0;b.legend=eh.default.getLegend(b);delete b.legendPosition;delete b.axis1;delete b.axis2;eh.default.cleanseColor(b);YB.defaultShowValues(b);eh.default.sanitizeStackConfig(b);d=b.valueType;
var g=eh.default.getSanitizedValueTypeForLine(b.showValuesOnLine,d);b=eh.default.convertCartesianChart(b,d,g);a.call(this,b.config,f,b.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(WB.default);Bf.default=ZB;Bf.getMetadata=function(){return XB.default};var Cf={};"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.getMetadata=void 0;var $B=Ph(U),sr=Ph($),aC=Ph(se),bC=Ph({moduleName:"sfdc-flatGauge-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-flatGauge-chart",
description:"Schema for Flat Gauge Chart",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},"with":{properties:{domain:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/domain"},referenceLines:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/referenceLines"},valueType:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/valueType"}}}}},name:"Flat Gauge",shortname:"Flat Gauge"}),aj=sr.default.utils,
tr=aj.plotUtils,fh=aj.constants,cC=aj.scales,dC=aj.configUtils,gh=sr.default.shapes,$l=gh.Rect,eC=gh.Line,fC=gh.Polygon,gC=gh.NumberText,hC=gh.Text,iC=function(a){a.plots[0].referenceLines=a.referenceLines||[];return a},jC=function(a){function b(b,f,d){a.call(this,iC(b),f,d)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getDefaultConfig=function(){return $B.default.extend(a.prototype.getDefaultConfig.call(this),{gaugeHeight:20})};b.prototype.drawMetric=
function(a){var b=a.cell,d=a.layer,g=a.row,k=a.formatInfo,m=a.adjustedDomain,n=a.showValue,p=a.value,r=a.colorValue;a=this.config;var u=this.config.theme,x=m[0],t=m[1],w=b.get("w"),z=b.get("h"),b=this.getPlot().referenceLines,v=0>=a.gaugeHeight?z:Math.min(z,a.gaugeHeight);0<b.length&&z<2*v+8&&(v*=0.8);var y=v/10;a=this.getRefLinesBehavior({referenceLines:b,gaugeHeight:v,refTextPadding:9,height:z});var C=a.showRefLineTriangles,B=a.showRefLineLabels,D=a.refLineHeight,E=cC.linear().domain([x,t]).range([v,
w]),F=this.getKeyFct();a=this.chartLayouts.colorLayouts[Object.keys(this.chartLayouts.colorLayouts)[0]].getScale();d.set({key:"flat_gauge",x:0,y:z/2-D/2,canHover:!0,canSelect:!0,accessibility:{type:fh.ACCESSIBILITY.TYPE.CAPTION,key:fh.ACCESSIBILITY.CAPTION_KEY.BREAKPOINTS,value:[x,t].map(k.formatter).join(" ")}});new $l({key:"bg",layer:d,x:0,y:-v/2,w:w,h:v,cornerRadius:v/2,fill:u.getPolarGaugeMarkColor(),canHover:!1,canSelect:!1});x=E.scale(p);new $l({key:F(g),layer:d,x:-y/2,y:-v/2-y/2,w:x+y,h:v+
y,cornerRadius:v/2,stroke:u.getBackgroundColor().toOpaque(),lineWidth:y,fill:a.scale(r),data:{row:g},accessibility:{type:fh.ACCESSIBILITY.TYPE.DATA}});b.forEach(function(a,b){var c=a.color||dC.getPaletteColor(u,0),f=c.toHighContrast(u.getTextColorOnLight(),u.getTextColorOnDark()),g=a.label,k=tr.getTextWidth(g)+20,m=E.scale(a.value)-v/2,n;n=m+k/2>=w?w-k:10>=m-k/2?0:m-k/2;new eC({key:"refline-line-"+b,layer:d,lineWidth:2,stroke:c,x0:m,y0:-v/2,x1:m,y1:v-9,dashed:4,canHover:!1,canSelect:!1,accessibility:{type:fh.ACCESSIBILITY.TYPE.CAPTION,
key:fh.ACCESSIBILITY.CAPTION_KEY.REFERENCE_LINE,value:a.label}});C&&(new fC({key:"refline-arrow-"+b,layer:d,points:[[m,v-9],[m+4.5,v-3],[m-4.5,v-3]],lineWidth:2,stroke:c.adjustOpacity(0.9),fill:c,canHover:!1,canSelect:!1}),B&&g&&(new $l({key:"refline-label-bg-"+b,layer:d,x:n,y:v-4.5,w:k,h:v,cornerRadius:v/2,fill:c,canHover:!1,canSelect:!1}),new hC({key:"refline-label-text-"+b,layer:d,x:n+k/2,y:v+4.5,halign:"center",valign:"middle",includeDescender:!1,text:g,stroke:f,canHover:!1,canSelect:!1})))});
g=this.computeValue(k,p,this.config.domain,m);m=k.formatter(g);m=tr.getTextWidth(m,0.7*v);r=m+v<E.scale(p);x+=r?-v/2-m:+v/2;n&&(0<x&&x+m<w)&&(n=r?a.scale(p):u.getPolarGaugeMarkColor(),new gC({key:"value-nbtext-"+k.keySuffix,layer:d,x:x,y:0,size:0.7*v,stroke:n.toHighContrast(u.getTextColorOnLight(),u.getTextColorOnDark()),valign:"middle",halign:"left",format:k.format,compact:k.compact,number:g,canHover:!1,canSelect:!1,skipInFind:!0}))};b.prototype.getRefLinesBehavior=function(a){var b=a.gaugeHeight,
d=a.refTextPadding,g=a.height,k=0,m=!0,n=!0;0<a.referenceLines.length&&(k=b+d,m=2*b+d<=g,n=16<=b,m||(k=d),n||(k=0));return{showRefLineTriangles:n,showRefLineLabels:m,refLineHeight:k}};return b}(aC.default);Cf.default=jC;Cf.getMetadata=function(){return bC.default};var ur={};"use strict";Object.defineProperty(ur,"__esModule",{value:!0});var kC=xa(Fc),rb=xa(gq),lC=xa({name:"wave",properties:{BACKGROUND_COLOR:"rgba(255,255,255,0)",AXIS:{NUMBER:{AXIS_LINE:"rgba(197,211,224,1)",GRID_LINE:"rgba(197,211,224,0.5)",
MINOR_GRID_LINE:"rgba(197,211,224,0.3)",TICK_MARK:"rgba(197,211,224,0.5)",TICK_LABEL:"#706e6b",TITLE:"#080707"},LABEL:{TEXT:{COLOR:"#080707",BACKGROUND:"#A3B8CC",HOVER:"#ffffff"},SEPARATOR_LINE:"#C5D3E0",TITLE:"#000000"},TIME:{AXIS_LINE:"rgba(197,211,224,1)",GRID_LINE:"rgba(197,211,224,0.5)",TITLE:"#080707",TICK_MARK:"rgba(197,211,224,0.5)",TICK_LABEL:"#080707"}},TOOLTIP:{BACKGROUND_COLOR:"#16325C",LABEL_COLOR:"#9faab5",TRUNCATION_BACKGROUND_COLOR:"rgba(255, 255, 194, 1)",VALUE_COLOR:"#fff"},LEGEND:{BACKGROUND:"rgba(255,255,255,0.8)",
BORDER:"rgba(197,211,224,1)",TEXT:{COLOR:"#080707",BACKGROUND:"#A3B8CC",HOVER:"#ffffff"},HEADER:"#706e6b",HEADER_LINE:"#fff"},GRADIENT_LEGEND:{TEXT:"#080707"},RADIAL_LEGEND:{BACKGROUND:"rgba(244,246,249,0.7)",BORDER:"#A3B8CC",TEXT:"#080707"},HOTSPOT:{COLOR:"#ffffff",BACKGROUND:"#A3B8CC",HOVER:"#ffffff",HOVER_BACKGROUND:"#706e6b"},CONDITIONAL_COLOR:{POSITIVE:"#0BA976",NEGATIVE:"#E41E42",TEXT_COLOR_DARK:"#080707",TEXT_COLOR_LIGHT:"#fff"},TITLE:{COLOR:"#080707",SUBTITLE_COLOR:"#706e6b"},MARK:{LINE:{FILL_AREA:"rgba(255,255,255,0.1)"},
POLAR_GAUGE:{TRACK:"rgba(204,221,238,1)"},SPARK_LINE:{COLOR_LINE:"#080707",COLOR_HIGH:"#0BA976",COLOR_LOW:"#D4504C"},MAP:{COLOR_EMPTY:"#e0e5ee",COLOR_STROKE:"#fff",COLOR_LINE:"#a8b7c7"},GAUGE:{NEEDLE:"rgba(0,0,0,1)"}},TRELLIS:{GRID_LINE:"#E6ECF2",HEADER_TEXT:"#080707",HEADER_LINE:"#E6ECF2"},EMPTY_CHART:{TEXT:"#080707"},GRADIENT_COLORS:["linear-gradient(to bottom, #C5DBF7, #1674D9)"],BAND_COLORS:{FLAT:["#1674D9","#1674D9","#1674D9"],GRADIENT:["linear-gradient(to bottom, #F71979, #CC203D)","linear-gradient(to bottom, #FED444, #F29946)",
"linear-gradient(to bottom, #7BDE4E, #169913)"]},PALETTE:"#52b7d8 #e16032 #ffb03b #54a77b #4fd2d2 #e287b2 #f39654 #6dce56 #f5d73e #5296d9 #eb6e83 #a9d158".split(" "),REFERENCE_LINE:{LINE_STROKE:"#8932ed"},BINS:{DEFAULT_COLOR:"#A9A9A9"},BRUSH:{STROKE:"rgba(150, 150, 150, 0.5)",FILL:"rgba(200, 200, 200, 0.3)",TEXT:"rgba(0, 0, 0, 0.8)"},ICON:{FILL:"rgba(0, 0, 0, 0.1)"},CROSSHAIR:{STROKE:"rgba(255, 255, 255, 1)",FILL:"rgba(1,118,211,1)"}}}),mC=xa({name:"dark",properties:{BACKGROUND_COLOR:"#091A3E",BACKGROUND_OPACITY:1,
AXIS:{NUMBER:{AXIS_LINE:"rgba(92,122,153, 0.25)",GRID_LINE:"rgba(92,122,153, 0.25)",MINOR_GRID_LINE:"rgba(92,122,153, 0.25)",TICK_MARK:"rgba(92,122,153, 0.25)",TICK_LABEL:"#A3B8CC",TITLE:"#fff"},TITLE:{TEXT:{BACKGROUND:"#11295C"}},LABEL:{TEXT:{COLOR:"#fff",BACKGROUND:"#11295C",HOVER:"#ffffff"},SEPARATOR_LINE:"rgba(92,122,153, 0.35)",TITLE:"#A3B8CC"},TIME:{AXIS_LINE:"rgba(92,122,153, 0.25)",GRID_LINE:"rgba(92,122,153, 0.25)",TITLE:"#fff",TICK_MARK:"rgba(92,122,153, 0.25)",TICK_LABEL:"#A3B8CC"}},TOOLTIP:{BACKGROUND_COLOR:"#193F61",
TRUNCATION_BACKGROUND_COLOR:"rgba(255, 255, 194, 1)",LABEL_COLOR:"#EEF1F6",VALUE_COLOR:"#EEF1F6"},LEGEND:{BACKGROUND:"rgba(41,71,102,0.4)",BORDER:"#fff",TEXT:{COLOR:"#fff",BACKGROUND:"#11295C",HOVER:"#ffffff"},HEADER:"#A3B8CC",HEADER_LINE:"rgba(255,255,255,0)"},GRADIENT_LEGEND:{TEXT:"#fff"},RADIAL_LEGEND:{BACKGROUND:"#294766",BORDER:"rgba(92,122,153, 0.8)",TEXT:"#fff"},HOTSPOT:{COLOR:"#ffffff",BACKGROUND:"#5C7A99",HOVER:"#ffffff",HOVER_BACKGROUND:"#706e6b"},CONDITIONAL_COLOR:{POSITIVE:"#0BA976",NEGATIVE:"#E41E42",
TEXT_COLOR_DARK:"#080707",TEXT_COLOR_LIGHT:"#fff"},TITLE:{COLOR:"#fff",SUBTITLE_COLOR:"#A3B8CC"},MARK:{LINE:{FILL_AREA:"rgba(255,255,255,0.15)"},POLAR_GAUGE:{TRACK:"#37526D"},SPARK_LINE:{COLOR_LINE:"#347FDB",COLOR_HIGH:"#27C223",COLOR_LOW:"#f00"},MAP:{COLOR_EMPTY:"#080707",COLOR_STROKE:"rgba(92,122,153, 0.2)",COLOR_LINE:"rgba(92,122,153, 0.2)"},GAUGE:{NEEDLE:"#5C7A99"}},TRELLIS:{GRID_LINE:"rgba(92,122,153, 0.25)",HEADER_TEXT:"#fff",HEADER_LINE:"rgba(92,122,153, 0.25)"},EMPTY_CHART:{TEXT:"#A3B8CC"},
GRADIENT_COLORS:["linear-gradient(to bottom, #BDD6F1, #1468C3)"],BAND_COLORS:{FLAT:["#1674D9","#1674D9","#1674D9"],GRADIENT:["linear-gradient(to bottom, #F71979, #CC203D)","linear-gradient(to bottom, #FED444, #F29946)","linear-gradient(to bottom, #7BDE4E, #169913)"]},PALETTE:"#347FDB #8B52F1 #4DA9A3 #B998F6 #D8248C #1B5CAD #75ABE7 #613AA8 #7ED97A #057870 #1EA81A #FED444 #EAB718 #F39F62 #F08337 #F06800 #ED7D90 #E22946 #E14EA3 #981962".split(" "),REFERENCE_LINE:{LINE_STROKE:"#8932ed"},BINS:{DEFAULT_COLOR:"#A9A9A9"},
BRUSH:{STROKE:"rgba(255, 255, 255, 0.5)",FILL:"rgba(100, 100, 100, 0.3)",TEXT:"rgba(255, 255, 255, 0.8)"},ICON:{FILL:"rgba(255, 255, 255, 0.1)"},CROSSHAIR:{STROKE:"rgba(255, 255, 255, 1)",FILL:"rgba(1,118,211,1)"}}}),nC=xa({name:"light",properties:{BACKGROUND_COLOR:"rgba(255,255,255,0)",AXIS:{NUMBER:{AXIS_LINE:"rgba(197,211,224,1)",GRID_LINE:"rgba(197,211,224,0.5)",MINOR_GRID_LINE:"rgba(197,211,224,0.3)",TICK_MARK:"rgba(197,211,224,0.5)",TICK_LABEL:"#706e6b",TITLE:"#080707"},LABEL:{TEXT:{COLOR:"#080707",
BACKGROUND:"#E6EAF5",HOVER:"#080707"},SEPARATOR_LINE:"#C5D3E0",TITLE:"#706e6b"},TIME:{AXIS_LINE:"rgba(197,211,224,1)",GRID_LINE:"rgba(197,211,224,0.5)",TITLE:"#080707",TICK_MARK:"rgba(197,211,224,0.5)",TICK_LABEL:"#080707"}},TOOLTIP:{BACKGROUND_COLOR:"#16325C",TRUNCATION_BACKGROUND_COLOR:"rgba(255, 255, 194, 1)",LABEL_COLOR:"#9faab5",VALUE_COLOR:"#fff"},LEGEND:{BACKGROUND:"rgba(255,255,255,0.4)",BORDER:"rgba(197,211,224,1)",TEXT:{COLOR:"#080707",BACKGROUND:"#E6EAF5",HOVER:"#080707"},HEADER:"#706e6b",
HEADER_LINE:"#fff"},GRADIENT_LEGEND:{TEXT:"#080707"},RADIAL_LEGEND:{BACKGROUND:"rgba(244,246,249,0.7)",BORDER:"#A3B8CC",TEXT:"#080707"},HOTSPOT:{COLOR:"#080707",BACKGROUND:"#E6EAF5",HOVER:"#ffffff",HOVER_BACKGROUND:"#706e6b"},CONDITIONAL_COLOR:{POSITIVE:"#0BA976",NEGATIVE:"#E41E42",TEXT_COLOR_DARK:"#080707",TEXT_COLOR_LIGHT:"#fff"},TITLE:{COLOR:"#080707",SUBTITLE_COLOR:"#706e6b"},MARK:{LINE:{FILL_AREA:"rgba(255,255,255,0.1)"},POLAR_GAUGE:{TRACK:"rgba(204,221,238,1)"},SPARK_LINE:{COLOR_LINE:"#080707",
COLOR_HIGH:"#0BA976",COLOR_LOW:"#D4504C"},MAP:{COLOR_EMPTY:"#e0e5ee",COLOR_STROKE:"#fff",COLOR_LINE:"#a8b7c7"},GAUGE:{NEEDLE:"#080707"}},TRELLIS:{GRID_LINE:"#E6ECF2",HEADER_TEXT:"#080707",HEADER_LINE:"#E6ECF2"},EMPTY_CHART:{TEXT:"#080707"},GRADIENT_COLORS:["linear-gradient(to bottom, #C5DBF7, #1674D9)"],BAND_COLORS:{FLAT:["#DC3912","#109618","#FF9900"],GRADIENT:["linear-gradient(to bottom, #F71979, #CC203D)","linear-gradient(to bottom, #FED444, #F29946)","linear-gradient(to bottom, #7BDE4E, #169913)"]},
PALETTE:"#1674D9 #8955F2 #73ACE8 #B899F7 #E2CE7D #4CA9A3 #66B6B0 #29C221 #7ED979 #E14DA3 #E87ABA #E32444 #EE7C8F #3A93BA #F18233 #F49E60 #FFD33F #FFE17A".split(" "),REFERENCE_LINE:{LINE_STROKE:"#8932ed"},BINS:{DEFAULT_COLOR:"#A9A9A9"},BRUSH:{STROKE:"rgb(0, 0, 0)",FILL:"rgba(100, 100, 100, 0.2)",TEXT:"rgba(0, 0, 0, 0.8)"},ICON:{FILL:"rgba(0, 0, 0, 0.1)"},CROSSHAIR:{STROKE:"rgba(255, 255, 255, 1)",FILL:"rgba(1,118,211,1)"}}}),oC=xa({name:"colorblind",properties:{BACKGROUND_COLOR:"rgba(255,255,255,0)",
AXIS:{NUMBER:{AXIS_LINE:"rgba(197,211,224,1)",GRID_LINE:"rgba(197,211,224,0.5)",MINOR_GRID_LINE:"rgba(197,211,224,0.3)",TICK_MARK:"rgba(197,211,224,0.5)",TICK_LABEL:"#706e6b",TITLE:"#080707"},LABEL:{TEXT:{COLOR:"#080707",BACKGROUND:"#E6EAF5",HOVER:"#080707"},SEPARATOR_LINE:"#C5D3E0",TITLE:"#706e6b"},TIME:{AXIS_LINE:"rgba(197,211,224,1)",GRID_LINE:"rgba(197,211,224,0.5)",TITLE:"#080707",TICK_MARK:"rgba(197,211,224,0.5)",TICK_LABEL:"#080707"}},TOOLTIP:{BACKGROUND_COLOR:"#16325C",TRUNCATION_BACKGROUND_COLOR:"rgba(255, 255, 194, 1)",
LABEL_COLOR:"#9faab5",VALUE_COLOR:"#fff"},LEGEND:{BACKGROUND:"rgba(255,255,255,0.4)",BORDER:"rgba(197,211,224,1)",TEXT:{COLOR:"#080707",BACKGROUND:"#E6EAF5",HOVER:"#080707"},HEADER:"#706e6b",HEADER_LINE:"#fff"},GRADIENT_LEGEND:{TEXT:"#080707"},RADIAL_LEGEND:{BACKGROUND:"rgba(244,246,249,0.7)",BORDER:"#A3B8CC",TEXT:"#080707"},HOTSPOT:{COLOR:"#080707",BACKGROUND:"#E6EAF5",HOVER:"#ffffff",HOVER_BACKGROUND:"#5368a6"},CONDITIONAL_COLOR:{POSITIVE:"#0BA976",NEGATIVE:"#E41E42",TEXT_COLOR_DARK:"#080707",TEXT_COLOR_LIGHT:"#fff"},
TITLE:{COLOR:"#080707",SUBTITLE_COLOR:"#706e6b"},MARK:{LINE:{FILL_AREA:"rgba(255,255,255,0.1)"},POLAR_GAUGE:{TRACK:"rgba(204,221,238,1)"},SPARK_LINE:{COLOR_LINE:"#080707",COLOR_HIGH:"#0BA976",COLOR_LOW:"#D4504C"},MAP:{COLOR_EMPTY:"#e0e5ee",COLOR_STROKE:"#fff",COLOR_LINE:"#a8b7c7"}},TRELLIS:{GRID_LINE:"#E6ECF2",HEADER_TEXT:"#080707",HEADER_LINE:"#E6ECF2"},EMPTY_CHART:{TEXT:"#080707"},GRADIENT_COLORS:["linear-gradient(to bottom, #D4B7C6, #711042)"],BAND_COLORS:{FLAT:["#711042","#711042","#711042"],
GRADIENT:["linear-gradient(to bottom, #711042, #CC203D)","linear-gradient(to bottom, #711042, #F29946)","linear-gradient(to bottom, #711042, #169913)"]},PALETTE:"#529EE0 #D9A6C2 #08916D #F59B00 #006699 #F0E442 #DB5F00 #404040 #000".split(" "),REFERENCE_LINE:{LINE_STROKE:"#8932ed"},BINS:{DEFAULT_COLOR:"#A9A9A9"},ICON:{FILL:"rgba(0, 0, 0, 0.1)"}}}),pC=xa(me),qC=xa(cf),rC=xa(df),sC=xa(qe),tC=xa(gf),uC=xa(hf),vC=xa(kf),wC=xa(lf),xC=xa(nf),yC=xa(pf),zC=xa(rf),AC=xa(tf),BC=xa(uf),CC=xa(wf),DC=xa(yf),EC=
xa(zf),FC=xa(Bf),An=xa({"sfdc-lightning/charts/donut.js":"lightning-donut-chart","sfdc-lightning/charts/funnel.js":"lightning-funnel-chart","sfdc-lightning/charts/gauge.js":"lightning-gauge-chart","sfdc-lightning/charts/hbar.js":"lightning-hbar-chart","sfdc-lightning/charts/hcombo.js":"lightning-hcombo-chart","sfdc-lightning/charts/line.js":"lightning-line-chart","sfdc-lightning/charts/metric.js":"lightning-metric-chart","sfdc-lightning/charts/scatter.js":"lightning-scatter-chart","sfdc-lightning/charts/stackhbar.js":"lightning-stackhbar-chart",
"sfdc-lightning/charts/stackvbar.js":"lightning-stackvbar-chart","sfdc-lightning/charts/timeline.js":"lightning-timeline-chart","sfdc-lightning/charts/vbar.js":"lightning-vbar-chart","sfdc-lightning/charts/vcombo.js":"lightning-vcombo-chart"}),GC=xa(re),HC=xa(te),IC=xa(ve),JC=xa(Cf),Cn={};[{"default":pC.default,getMetadata:me.getMetadata},{"default":qC.default,getMetadata:cf.getMetadata},{"default":rC.default,getMetadata:df.getMetadata},{"default":sC.default,getMetadata:qe.getMetadata},{"default":tC.default,
getMetadata:gf.getMetadata},{"default":uC.default,getMetadata:hf.getMetadata},{"default":vC.default,getMetadata:kf.getMetadata},{"default":wC.default,getMetadata:lf.getMetadata},{"default":xC.default,getMetadata:nf.getMetadata},{"default":yC.default,getMetadata:pf.getMetadata},{"default":zC.default,getMetadata:rf.getMetadata},{"default":AC.default,getMetadata:tf.getMetadata},{"default":BC.default,getMetadata:uf.getMetadata},{"default":CC.default,getMetadata:wf.getMetadata},{"default":DC.default,getMetadata:yf.getMetadata},
{"default":EC.default,getMetadata:zf.getMetadata},{"default":FC.default,getMetadata:Bf.getMetadata},{"default":GC.default,getMetadata:re.getMetadata},{"default":HC.default,getMetadata:te.getMetadata},{"default":IC.default,getMetadata:ve.getMetadata},{"default":JC.default,getMetadata:Cf.getMetadata}].forEach(function(a){rb.default.__getPrivateApi().registerModule(a);Cn[a.getMetadata().moduleName]=a});var vr=function(){function a(b,c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this._path=b;this._metadata=c}a.prototype.path=function(){return this._path};a.prototype.metadata=function(){return this._metadata};return a}(),KC=rb.default.__getPrivateApi().getModule.bind(rb.default.__getPrivateApi());rb.default.__getPrivateApi().getModule=function(a,b,c){return KC(zn(a),b,c)};rb.default.scripts=function(){return Object.keys(An.default).map(function(a){return new vr(a,Bn(a))})};rb.default.script=function(a){return new vr(a,Bn(a))};if("undefined"!=typeof $A&&null!=$A){var bj=$A.get("$Locale");
if(null!=bj){var am=bj.userLocaleLang,wr=bj.userLocaleCountry;am&&rb.default.setLocale(wr?am+"-"+wr:am);rb.default.__getPrivateApi().getSettings().setLocaleDirection(bj.dir)}var xr=$A.get("$Label").EclairConfig;xr&&rb.default.setLabels({"@salesforce/charts":kC.default.extend({},xr)})}rb.default.registerTheme(lC.default);rb.default.registerTheme(mC.default);rb.default.registerTheme(nC.default);rb.default.registerTheme(oC.default);window.EclairNG=rb.default;ur.default=rb.default})();

//# sourceMappingURL=/javascript/1726561617205/ui-analytics-reporting/source/EclairNG.js.map
